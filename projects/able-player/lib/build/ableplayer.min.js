/*! ableplayer V4.5.0 */
"use strict";var AblePlayerInstances=[];!function(s){s(function(){s("video, audio").each(function(t,e){void 0!==s(e).data("able-player")&&AblePlayerInstances.push(new AblePlayer(s(this),s(e)))})}),window.onYouTubeIframeAPIReady=function(){AblePlayer.youTubeIframeAPIReady=!0,s("body").trigger("youTubeIframeAPIReady",[])},s(window).on("keydown",function(t){1===AblePlayer.nextIndex&&AblePlayer.lastCreated.onPlayerKeyPress(t)}),window.AblePlayer=function(t){var e,i=this;(AblePlayer.lastCreated=this).media=t,0===s(t).length?this.provideFallback():(void 0!==s(t).attr("autoplay")?(this.autoplay=!0,this.okToPlay=!0):(this.autoplay=!1,this.okToPlay=!1),void 0!==s(t).attr("loop")?this.loop=!0:this.loop=!1,void 0!==s(t).attr("playsinline")?this.playsInline="1":this.playsInline="0",s(t).attr("poster")?this.hasPoster=!0:this.hasPoster=!1,s(t).attr("width")&&(this.width=s(t).attr("width")),s(t).attr("height")&&(this.height=s(t).attr("height")),void 0!==s(t).data("start-time")&&s.isNumeric(s(t).data("start-time"))?this.startTime=s(t).data("start-time"):this.startTime=0,void 0!==s(t).data("debug")&&!1!==s(t).data("debug")?this.debug=!0:this.debug=!1,void 0!==s(t).data("root-path")?this.rootPath=s(t).data("root-path").replace(/\/?$/,"/"):this.rootPath=this.getRootPath(),this.defaultVolume=7,void 0!==s(t).data("volume")&&""!==s(t).data("volume")&&0<=(e=s(t).data("volume"))&&e<=10&&(this.defaultVolume=e),this.volume=this.defaultVolume,void 0!==s(t).data("use-chapters-button")&&!1===s(t).data("use-chapters-button")?this.useChaptersButton=!1:this.useChaptersButton=!0,void 0!==s(t).data("descriptions-audible")&&!1===s(t).data("descriptions-audible")||void 0!==s(t).data("description-audible")&&!1===s(t).data("description-audible")?this.readDescriptionsAloud=!1:this.readDescriptionsAloud=!0,"screenreader"==s(t).data("desc-reader")?this.descReader="screenreader":this.descReader="browser","off"==s(t).data("state-captions")?this.defaultStateCaptions=0:this.defaultStateCaptions=1,"on"==s(t).data("state-descriptions")?this.defaultStateDescriptions=1:this.defaultStateDescriptions=0,"off"==s(t).data("desc-pause-default")?this.defaultDescPause=0:this.defaultDescPause=1,void 0!==s(t).data("heading-level")&&""!==s(t).data("heading-level")&&(e=s(t).data("heading-level"),/^[0-6]*$/.test(e))&&(this.playerHeadingLevel=e),void 0!==s(t).data("transcript-div")&&""!==s(t).data("transcript-div")?this.transcriptDivLocation=s(t).data("transcript-div"):this.transcriptDivLocation=null,void 0!==s(t).data("include-transcript")&&!1===s(t).data("include-transcript")?this.hideTranscriptButton=!0:this.hideTranscriptButton=null,this.transcriptType=null,void 0!==s(t).data("transcript-src")?(this.transcriptSrc=s(t).data("transcript-src"),this.transcriptSrcHasRequiredParts()&&(this.transcriptType="manual")):0<s(t).find('track[kind="captions"], track[kind="subtitles"]').length&&(this.transcriptDivLocation?this.transcriptType="external":this.transcriptType="popup"),void 0!==s(t).data("lyrics-mode")&&!1!==s(t).data("lyrics-mode")?this.lyricsMode=!0:this.lyricsMode=!1,void 0!==s(t).data("transcript-title")&&""!==s(t).data("transcript-title")&&(this.transcriptTitle=s(t).data("transcript-title")),"overlay"===s(t).data("captions-position")?this.defaultCaptionsPosition="overlay":this.defaultCaptionsPosition="below",void 0!==s(t).data("chapters-div")&&""!==s(t).data("chapters-div")&&(this.chaptersDivLocation=s(t).data("chapters-div")),void 0!==s(t).data("chapters-title")&&(this.chaptersTitle=s(t).data("chapters-title")),void 0!==s(t).data("chapters-default")&&""!==s(t).data("chapters-default")?this.defaultChapter=s(t).data("chapters-default"):this.defaultChapter=null,"arrows"===s(t).data("speed-icons")?this.speedIcons="arrows":this.speedIcons="animals","chapter"===s(t).data("seekbar-scope")||"chapters"===s(t).data("seekbar-scope")?this.seekbarScope="chapter":this.seekbarScope="video",void 0!==s(t).data("youtube-id")&&""!==s(t).data("youtube-id")&&(this.youTubeId=this.getYouTubeId(s(t).data("youtube-id"))),void 0!==s(t).data("youtube-desc-id")&&""!==s(t).data("youtube-desc-id")&&(this.youTubeDescId=this.getYouTubeId(s(t).data("youtube-desc-id"))),void 0!==s(t).data("youtube-nocookie")&&s(t).data("youtube-nocookie")?this.youTubeNoCookie=!0:this.youTubeNoCookie=!1,void 0!==s(t).data("vimeo-id")&&""!==s(t).data("vimeo-id")&&(this.vimeoId=this.getVimeoId(s(t).data("vimeo-id"))),void 0!==s(t).data("vimeo-desc-id")&&""!==s(t).data("vimeo-desc-id")&&(this.vimeoDescId=this.getVimeoId(s(t).data("vimeo-desc-id"))),"2020"==s(t).data("skin")?this.skin="2020":this.skin="legacy",void 0!==s(t).data("width")?this.playerWidth=parseInt(s(t).data("width")):s(t)[0].getAttribute("width")?this.playerWidth=parseInt(s(t)[0].getAttribute("width")):this.playerWidth=null,this.iconType="font",this.forceIconType=!1,void 0===s(t).data("icon-type")||""===s(t).data("icon-type")||"font"!==(e=s(t).data("icon-type"))&&"image"!=e&&"svg"!=e||(this.iconType=e,this.forceIconType=!0),void 0!==s(t).data("allow-fullscreen")&&!1===s(t).data("allow-fullscreen")?this.allowFullscreen=!1:this.allowFullscreen=!0,this.clickedFullscreenButton=!1,this.restoringAfterFullscreen=!1,this.defaultSeekInterval=10,this.useFixedSeekInterval=!1,void 0!==s(t).data("seek-interval")&&""!==s(t).data("seek-interval")&&(e=s(t).data("seek-interval"),/^[1-9][0-9]*$/.test(e))&&(this.seekInterval=e,this.useFixedSeekInterval=!0),void 0!==s(t).data("show-now-playing")&&!1===s(t).data("show-now-playing")?this.showNowPlaying=!1:this.showNowPlaying=!0,void 0!==s(t).data("use-ttml")?(this.useTtml=!0,this.convert=require("xml-js")):this.useTtml=!1,void 0!==s(t).data("test-fallback")&&!1!==s(t).data("test-fallback")?"2"==s(t).data("test-fallback")?this.testFallback=2:this.testFallback=1:this.testFallback=!1,void 0!==s(t).data("lang")&&""!==s(t).data("lang")?this.lang=s(t).data("lang").toLowerCase():this.lang=null,void 0!==s(t).data("meta-type")&&""!==s(t).data("meta-type")&&(this.metaType=s(t).data("meta-type")),void 0!==s(t).data("meta-div")&&""!==s(t).data("meta-div")&&(this.metaDiv=s(t).data("meta-div")),void 0!==s(t).data("search-div")&&""!==s(t).data("search-div")&&(this.searchDiv=s(t).data("search-div"),void 0!==s(t).data("search")&&""!==s(t).data("search")&&(this.searchString=s(t).data("search")),void 0!==s(t).data("search-lang")&&""!==s(t).data("search-lang")?this.searchLang=s(t).data("search-lang"):this.searchLang=null,void 0!==s(t).data("search-ignore-caps")&&!1!==s(t).data("search-ignore-caps")?this.searchIgnoreCaps=!0:this.searchIgnoreCaps=!1,void 0!==s(t).data("search-div"))&&""!==s(t).data("search-div")&&(this.searchString=s(t).data("search"),this.searchDiv=s(t).data("search-div")),void 0!==s(t).data("hide-controls")&&!1!==s(t).data("hide-controls")?(this.hideControls=!0,this.hideControlsOriginal=!0):(this.hideControls=!1,this.hideControlsOriginal=!1),void 0!==s(t).data("steno-mode")&&!1!==s(t).data("steno-mode")?(this.stenoMode=!0,void 0!==s(t).data("steno-iframe-id")&&""!==s(t).data("steno-iframe-id")&&(this.stenoFrameId=s(t).data("steno-iframe-id"),this.$stenoFrame=s("#"+this.stenoFrameId),this.$stenoFrame.length)||(this.stenoFrameId=null,this.$stenoFrame=null)):(this.stenoMode=!1,this.stenoFrameId=null,this.$stenoFrame=null),this.setDefaults(),this.ableIndex=AblePlayer.nextIndex,AblePlayer.nextIndex+=1,this.title=s(t).attr("title"),this.tt={},i=this,s.when(this.getTranslationText()).then(function(){50<i.countProperties(i.tt)?i.setup():i.provideFallback()}).fail(function(){i.provideFallback()}))},AblePlayer.nextIndex=0,AblePlayer.prototype.setup=function(){var t=this;this.initializing=!0,this.reinitialize().then(function(){t.player?t.setupInstance().then(function(){t.setupInstancePlaylist(),t.hasPlaylist||t.recreatePlayer().then(function(){t.initializing=!1,t.playerCreated=!0})}):t.provideFallback()})},AblePlayer.getActiveDOMElement=function(){for(var t=document.activeElement;t.shadowRoot&&t.shadowRoot.activeElement;)t=t.shadowRoot.activeElement;return t},AblePlayer.localGetElementById=function(t,e){return t.getRootNode?s(t.getRootNode().querySelector("#"+e)):s(document.getElementById(e))},AblePlayer.youTubeIframeAPIReady=!1,AblePlayer.loadingYouTubeIframeAPI=!1}(jQuery),function(n){AblePlayer.prototype.setDefaults=function(){this.playerCreated=!1,this.playing=!1,this.paused=!0,this.clickedPlay=!1,this.fullscreen=!1,this.swappingSrc=!1,this.initializing=!1,this.cueingPlaylistItems=!1,this.buttonWithFocus=null,this.speechEnabled=null,this.setIconColor(),this.setButtonImages()},AblePlayer.prototype.getRootPath=function(){for(var t,e,i,s,a=document.getElementsByTagName("script"),n=0;n<a.length;n++)if(-1!==(t=a[n].src).substring(t.lastIndexOf("/")).indexOf("ableplayer")){e=t.split("?")[0];break}return s=(i=e.split("/").slice(0,-1).join("/")).lastIndexOf("/"),i.substring(0,s)+"/"},AblePlayer.prototype.setIconColor=function(){for(var t,e,i=["controller","toolbar"],s=0;s<i.length;s++)"controller"==i[s]?t=n("<div>",{class:"able-controller"}).hide():"toolbar"===i[s]&&(t=n("<div>",{class:"able-window-toolbar"}).hide()),n("body").append(t),e=.2126*(e=t.css("background-color").replace(/[^\d,]/g,"").split(","))[0]+.7152*e[1]+.0722*e[2]<125?"white":"black","controller"===i[s]?this.iconColor=e:"toolbar"===i[s]&&(this.toolbarIconColor=e),t.remove()},AblePlayer.prototype.setButtonImages=function(){this.imgPath=this.rootPath+"button-icons/"+this.iconColor+"/",this.playButtonImg=this.imgPath+"play.png",this.pauseButtonImg=this.imgPath+"pause.png",this.restartButtonImg=this.imgPath+"restart.png",this.rewindButtonImg=this.imgPath+"rewind.png",this.forwardButtonImg=this.imgPath+"forward.png",this.previousButtonImg=this.imgPath+"previous.png",this.nextButtonImg=this.imgPath+"next.png","arrows"===this.speedIcons?(this.fasterButtonImg=this.imgPath+"slower.png",this.slowerButtonImg=this.imgPath+"faster.png"):"animals"===this.speedIcons&&(this.fasterButtonImg=this.imgPath+"rabbit.png",this.slowerButtonImg=this.imgPath+"turtle.png"),this.captionsButtonImg=this.imgPath+"captions.png",this.chaptersButtonImg=this.imgPath+"chapters.png",this.signButtonImg=this.imgPath+"sign.png",this.transcriptButtonImg=this.imgPath+"transcript.png",this.descriptionsButtonImg=this.imgPath+"descriptions.png",this.fullscreenExpandButtonImg=this.imgPath+"fullscreen-expand.png",this.fullscreenCollapseButtonImg=this.imgPath+"fullscreen-collapse.png",this.prefsButtonImg=this.imgPath+"preferences.png",this.helpButtonImg=this.imgPath+"help.png"},AblePlayer.prototype.getSvgData=function(t){var e=Array();switch(t){case"play":e[0]="0 0 16 20",e[1]="M0 18.393v-16.429q0-0.29 0.184-0.402t0.441 0.033l14.821 8.237q0.257 0.145 0.257 0.346t-0.257 0.346l-14.821 8.237q-0.257 0.145-0.441 0.033t-0.184-0.402z";break;case"pause":e[0]="0 0 20 20",e[1]="M0 18.036v-15.714q0-0.29 0.212-0.502t0.502-0.212h5.714q0.29 0 0.502 0.212t0.212 0.502v15.714q0 0.29-0.212 0.502t-0.502 0.212h-5.714q-0.29 0-0.502-0.212t-0.212-0.502zM10 18.036v-15.714q0-0.29 0.212-0.502t0.502-0.212h5.714q0.29 0 0.502 0.212t0.212 0.502v15.714q0 0.29-0.212 0.502t-0.502 0.212h-5.714q-0.29 0-0.502-0.212t-0.212-0.502z";break;case"stop":e[0]="0 0 20 20",e[1]="M0 18.036v-15.714q0-0.29 0.212-0.502t0.502-0.212h15.714q0.29 0 0.502 0.212t0.212 0.502v15.714q0 0.29-0.212 0.502t-0.502 0.212h-15.714q-0.29 0-0.502-0.212t-0.212-0.502z";break;case"restart":e[0]="0 0 20 20",e[1]="M18 8h-6l2.243-2.243c-1.133-1.133-2.64-1.757-4.243-1.757s-3.109 0.624-4.243 1.757c-1.133 1.133-1.757 2.64-1.757 4.243s0.624 3.109 1.757 4.243c1.133 1.133 2.64 1.757 4.243 1.757s3.109-0.624 4.243-1.757c0.095-0.095 0.185-0.192 0.273-0.292l1.505 1.317c-1.466 1.674-3.62 2.732-6.020 2.732-4.418 0-8-3.582-8-8s3.582-8 8-8c2.209 0 4.209 0.896 5.656 2.344l2.344-2.344v6z";break;case"rewind":e[0]="0 0 20 20",e[1]="M11.25 3.125v6.25l6.25-6.25v13.75l-6.25-6.25v6.25l-6.875-6.875z";break;case"forward":e[0]="0 0 20 20",e[1]="M10 16.875v-6.25l-6.25 6.25v-13.75l6.25 6.25v-6.25l6.875 6.875z";break;case"previous":e[0]="0 0 20 20",e[1]="M5 17.5v-15h2.5v6.875l6.25-6.25v13.75l-6.25-6.25v6.875z";break;case"next":e[0]="0 0 20 20",e[1]="M15 2.5v15h-2.5v-6.875l-6.25 6.25v-13.75l6.25 6.25v-6.875z";break;case"slower":e[0]="0 0 20 20",e[1]="M0 7.321q0-0.29 0.212-0.502t0.502-0.212h10q0.29 0 0.502 0.212t0.212 0.502-0.212 0.502l-5 5q-0.212 0.212-0.502 0.212t-0.502-0.212l-5-5q-0.212-0.212-0.212-0.502z";break;case"faster":e[0]="0 0 11 20",e[1]="M0 12.411q0-0.29 0.212-0.502l5-5q0.212-0.212 0.502-0.212t0.502 0.212l5 5q0.212 0.212 0.212 0.502t-0.212 0.502-0.502 0.212h-10q-0.29 0-0.502-0.212t-0.212-0.502z";break;case"turtle":e[0]="0 0 20 20",e[1]="M17.212 3.846c-0.281-0.014-0.549 0.025-0.817 0.144-1.218 0.542-1.662 2.708-2.163 3.942-1.207 2.972-7.090 4.619-11.755 5.216-0.887 0.114-1.749 0.74-2.428 1.466 0.82-0.284 2.126-0.297 2.74 0.144 0.007 0.488-0.376 1.062-0.625 1.37-0.404 0.5-0.398 0.793 0.12 0.793 0.473 0 0.752 0.007 1.635 0 0.393-0.003 0.618-0.16 1.49-1.49 3.592 0.718 5.986-0.264 5.986-0.264s0.407 1.755 1.418 1.755h1.49c0.633 0 0.667-0.331 0.625-0.433-0.448-1.082-0.68-1.873-0.769-2.5-0.263-1.857 0.657-3.836 2.524-5.457 0.585 0.986 2.253 0.845 2.909-0.096s0.446-2.268-0.192-3.221c-0.49-0.732-1.345-1.327-2.188-1.37zM8.221 4.663c-0.722-0.016-1.536 0.111-2.5 0.409-4.211 1.302-4.177 4.951-3.51 5.745 0 0-0.955 0.479-0.409 1.274 0.448 0.652 3.139 0.191 5.409-0.529s4.226-1.793 5.312-2.692c0.948-0.785 0.551-2.106-0.505-1.947-0.494-0.98-1.632-2.212-3.798-2.26zM18.846 5.962c0.325 0 0.577 0.252 0.577 0.577s-0.252 0.577-0.577 0.577c-0.325 0-0.577-0.252-0.577-0.577s0.252-0.577 0.577-0.577z";break;case"rabbit":e[0]="0 0 20 20",e[1]="M10.817 0c-2.248 0-1.586 0.525-1.154 0.505 1.551-0.072 5.199 0.044 6.851 2.428 0 0-1.022-2.933-5.697-2.933zM10.529 0.769c-2.572 0-2.837 0.51-2.837 1.106 0 0.545 1.526 0.836 2.524 0.697 2.778-0.386 4.231-0.12 5.264 0.865-1.010 0.779-0.75 1.401-1.274 1.851-1.093 0.941-2.643-0.673-4.976-0.673-2.496 0-4.712 1.92-4.712 4.76-0.157-0.537-0.769-0.913-1.442-0.913-0.974 0-1.514 0.637-1.514 1.49 0 0.769 1.13 1.791 2.861 0.938 0.499 1.208 2.265 1.364 2.452 1.418 0.538 0.154 1.875 0.098 1.875 0.865 0 0.794-1.034 1.094-1.034 1.707 0 1.070 1.758 0.873 2.284 1.034 1.683 0.517 2.103 1.214 2.788 2.212 0.771 1.122 2.572 1.408 2.572 0.625 0-3.185-4.413-4.126-4.399-4.135 0.608-0.382 2.139-1.397 2.139-3.534 0-1.295-0.703-2.256-1.755-2.861 1.256 0.094 2.572 1.205 2.572 2.74 0 1.877-0.653 2.823-0.769 2.957 1.975-1.158 3.193-3.91 3.029-6.37 0.61 0.401 1.27 0.577 1.971 0.625 0.751 0.052 1.475-0.225 1.635-0.529 0.38-0.723 0.162-2.321-0.12-2.837-0.763-1.392-2.236-1.73-3.606-1.683-1.202-1.671-3.812-2.356-5.529-2.356zM1.37 3.077l-0.553 1.538h3.726c0.521-0.576 1.541-1.207 2.284-1.538h-5.457zM18.846 5.192c0.325 0 0.577 0.252 0.577 0.577s-0.252 0.577-0.577 0.577c-0.325 0-0.577-0.252-0.577-0.577s0.252-0.577 0.577-0.577zM0.553 5.385l-0.553 1.538h3.197c0.26-0.824 0.586-1.328 0.769-1.538h-3.413z";break;case"ellipsis":e[0]="0 0 20 20",e[1]="M10.001 7.8c-1.215 0-2.201 0.985-2.201 2.2s0.986 2.2 2.201 2.2c1.215 0 2.199-0.985 2.199-2.2s-0.984-2.2-2.199-2.2zM3.001 7.8c-1.215 0-2.201 0.985-2.201 2.2s0.986 2.2 2.201 2.2c1.215 0 2.199-0.986 2.199-2.2s-0.984-2.2-2.199-2.2zM17.001 7.8c-1.215 0-2.201 0.985-2.201 2.2s0.986 2.2 2.201 2.2c1.215 0 2.199-0.985 2.199-2.2s-0.984-2.2-2.199-2.2z";break;case"pipe":e[0]="0 0 20 20",e[1]="M10.15 0.179h0.623c0.069 0 0.127 0.114 0.127 0.253v19.494c0 0.139-0.057 0.253-0.127 0.253h-1.247c-0.069 0-0.126-0.114-0.126-0.253v-19.494c0-0.139 0.057-0.253 0.126-0.253h0.623z";break;case"captions":e[0]="0 0 20 20",e[1]="M0.033 3.624h19.933v12.956h-19.933v-12.956zM18.098 10.045c-0.025-2.264-0.124-3.251-0.743-3.948-0.112-0.151-0.322-0.236-0.496-0.344-0.606-0.386-3.465-0.526-6.782-0.526s-6.313 0.14-6.907 0.526c-0.185 0.108-0.396 0.193-0.519 0.344-0.607 0.697-0.693 1.684-0.731 3.948 0.037 2.265 0.124 3.252 0.731 3.949 0.124 0.161 0.335 0.236 0.519 0.344 0.594 0.396 3.59 0.526 6.907 0.547 3.317-0.022 6.176-0.151 6.782-0.547 0.174-0.108 0.384-0.183 0.496-0.344 0.619-0.697 0.717-1.684 0.743-3.949v0 0zM9.689 9.281c-0.168-1.77-1.253-2.813-3.196-2.813-1.773 0-3.168 1.387-3.168 3.617 0 2.239 1.271 3.636 3.372 3.636 1.676 0 2.851-1.071 3.035-2.852h-2.003c-0.079 0.661-0.397 1.168-1.068 1.168-1.059 0-1.253-0.91-1.253-1.876 0-1.33 0.442-2.010 1.174-2.010 0.653 0 1.068 0.412 1.13 1.129h1.977zM16.607 9.281c-0.167-1.77-1.252-2.813-3.194-2.813-1.773 0-3.168 1.387-3.168 3.617 0 2.239 1.271 3.636 3.372 3.636 1.676 0 2.851-1.071 3.035-2.852h-2.003c-0.079 0.661-0.397 1.168-1.068 1.168-1.059 0-1.253-0.91-1.253-1.876 0-1.33 0.441-2.010 1.174-2.010 0.653 0 1.068 0.412 1.13 1.129h1.976z";break;case"descriptions":e[0]="0 0 20 20",e[1]="M17.623 3.57h-1.555c1.754 1.736 2.763 4.106 2.763 6.572 0 2.191-0.788 4.286-2.189 5.943h1.484c1.247-1.704 1.945-3.792 1.945-5.943-0-2.418-0.886-4.754-2.447-6.572v0zM14.449 3.57h-1.55c1.749 1.736 2.757 4.106 2.757 6.572 0 2.191-0.788 4.286-2.187 5.943h1.476c1.258-1.704 1.951-3.792 1.951-5.943-0-2.418-0.884-4.754-2.447-6.572v0zM11.269 3.57h-1.542c1.752 1.736 2.752 4.106 2.752 6.572 0 2.191-0.791 4.286-2.181 5.943h1.473c1.258-1.704 1.945-3.792 1.945-5.943 0-2.418-0.876-4.754-2.447-6.572v0zM10.24 9.857c0 3.459-2.826 6.265-6.303 6.265v0.011h-3.867v-12.555h3.896c3.477 0 6.274 2.806 6.274 6.279v0zM6.944 9.857c0-1.842-1.492-3.338-3.349-3.338h-0.876v6.686h0.876c1.858 0 3.349-1.498 3.349-3.348v0z";break;case"sign":e[0]="0 0 20 20",e[1]="M10.954 10.307c0.378 0.302 0.569 1.202 0.564 1.193 0.697 0.221 1.136 0.682 1.136 0.682 1.070-0.596 1.094-0.326 1.558-0.682 0.383-0.263 0.366-0.344 0.567-1.048 0.187-0.572-0.476-0.518-1.021-1.558-0.95 0.358-1.463 0.196-1.784 0.167-0.145-0.020-0.12 0.562-1.021 1.247zM14.409 17.196c-0.133 0.182-0.196 0.218-0.363 0.454-0.28 0.361 0.076 0.906 0.253 0.82 0.206-0.076 0.341-0.488 0.567-0.623 0.115-0.061 0.422-0.513 0.709-0.82 0.211-0.238 0.363-0.344 0.564-0.594 0.341-0.422 0.412-0.744 0.709-1.193 0.184-0.236 0.312-0.307 0.481-0.594 0.886-1.679 0.628-2.432 1.475-3.629 0.26-0.353 0.552-0.442 0.964-0.653 0.383-2.793-0.888-4.356-0.879-4.361-1.067 0.623-1.644 0.879-2.751 0.82-0.417-0.005-0.636-0.182-1.048-0.145-0.385 0.015-0.582 0.159-0.964 0.29-0.589 0.182-0.91 0.344-1.529 0.535-0.393 0.11-0.643 0.115-1.050 0.255-0.348 0.147-0.182 0.029-0.427 0.312-0.317 0.348-0.238 0.623-0.535 1.222-0.371 0.785-0.326 0.891-0.115 0.987-0.14 0.402-0.174 0.672-0.14 1.107 0.039 0.331-0.101 0.562 0.255 0.825 0.483 0.361 1.499 1.205 1.757 1.217 0.39-0.012 1.521 0.029 2.096-0.368 0.13-0.081 0.167-0.162 0.056 0.145-0.022 0.037-1.433 1.136-1.585 1.131-1.794 0.056-1.193 0.157-1.303 0.115-0.091 0-0.955-1.055-1.477-0.682-0.196 0.12-0.287 0.236-0.363 0.452 0.066 0.137 0.383 0.358 0.675 0.54 0.422 0.27 0.461 0.552 0.881 0.653 0.513 0.115 1.060 0.039 1.387 0.081 0.125 0.034 1.256-0.297 1.961-0.675 0.65-0.336-0.898 0.648-1.276 1.131-1.141 0.358-0.82 0.373-1.362 0.483-0.503 0.115-0.479 0.086-0.822 0.196-0.356 0.086-0.648 0.572-0.312 0.825 0.201 0.167 0.827-0.066 1.445-0.086 0.275-0.005 1.391-0.518 1.644-0.653 0.633-0.339 1.099-0.81 1.472-1.077 0.518-0.361-0.584 0.991-1.050 1.558zM8.855 9.799c-0.378-0.312-0.569-1.212-0.564-1.217-0.697-0.206-1.136-0.667-1.136-0.653-1.070 0.582-1.099 0.312-1.558 0.653-0.388 0.277-0.366 0.363-0.567 1.045-0.187 0.594 0.471 0.535 1.021 1.561 0.95-0.344 1.463-0.182 1.784-0.142 0.145 0.010 0.12-0.572 1.021-1.247zM5.4 2.911c0.133-0.191 0.196-0.228 0.368-0.454 0.27-0.371-0.081-0.915-0.253-0.849-0.211 0.096-0.346 0.508-0.599 0.653-0.093 0.052-0.4 0.503-0.682 0.82-0.211 0.228-0.363 0.334-0.564 0.599-0.346 0.407-0.412 0.729-0.709 1.161-0.184 0.258-0.317 0.324-0.481 0.621-0.886 1.669-0.631 2.422-1.475 3.6-0.26 0.38-0.552 0.461-0.964 0.682-0.383 2.788 0.883 4.346 0.879 4.336 1.068-0.609 1.639-0.861 2.751-0.825 0.417 0.025 0.636 0.201 1.048 0.174 0.385-0.025 0.582-0.169 0.964-0.285 0.589-0.196 0.91-0.358 1.499-0.54 0.422-0.12 0.672-0.125 1.080-0.285 0.348-0.128 0.182-0.010 0.427-0.282 0.312-0.358 0.238-0.633 0.508-1.217 0.398-0.8 0.353-0.906 0.142-0.991 0.135-0.412 0.174-0.677 0.14-1.107-0.044-0.336 0.101-0.572-0.255-0.82-0.483-0.375-1.499-1.22-1.752-1.222-0.395 0.002-1.526-0.039-2.101 0.339-0.13 0.101-0.167 0.182-0.056-0.11 0.022-0.052 1.433-1.148 1.585-1.163 1.794-0.039 1.193-0.14 1.303-0.088 0.091-0.007 0.955 1.045 1.477 0.682 0.191-0.13 0.287-0.245 0.368-0.452-0.071-0.147-0.388-0.368-0.68-0.537-0.422-0.282-0.464-0.564-0.881-0.655-0.513-0.125-1.065-0.049-1.387-0.11-0.125-0.015-1.256 0.317-1.956 0.68-0.66 0.351 0.893-0.631 1.276-1.136 1.136-0.339 0.81-0.353 1.36-0.479 0.501-0.101 0.476-0.071 0.82-0.172 0.351-0.096 0.648-0.577 0.312-0.849-0.206-0.152-0.827 0.081-1.44 0.086-0.28 0.020-1.396 0.533-1.649 0.677-0.633 0.329-1.099 0.8-1.472 1.048-0.523 0.38 0.584-0.967 1.050-1.529z";break;case"mute":case"volume-mute":e[0]="0 0 20 20",e[1]="M7.839 1.536c0.501-0.501 0.911-0.331 0.911 0.378v16.172c0 0.709-0.41 0.879-0.911 0.378l-4.714-4.713h-3.125v-7.5h3.125l4.714-4.714zM18.75 12.093v1.657h-1.657l-2.093-2.093-2.093 2.093h-1.657v-1.657l2.093-2.093-2.093-2.093v-1.657h1.657l2.093 2.093 2.093-2.093h1.657v1.657l-2.093 2.093z";break;case"volume-soft":e[0]="0 0 20 20",e[1]="M10.723 14.473c-0.24 0-0.48-0.092-0.663-0.275-0.366-0.366-0.366-0.96 0-1.326 1.584-1.584 1.584-4.161 0-5.745-0.366-0.366-0.366-0.96 0-1.326s0.96-0.366 1.326 0c2.315 2.315 2.315 6.082 0 8.397-0.183 0.183-0.423 0.275-0.663 0.275zM7.839 1.536c0.501-0.501 0.911-0.331 0.911 0.378v16.172c0 0.709-0.41 0.879-0.911 0.378l-4.714-4.713h-3.125v-7.5h3.125l4.714-4.714z";break;case"volume-medium":e[0]="0 0 20 20",e[1]="M14.053 16.241c-0.24 0-0.48-0.092-0.663-0.275-0.366-0.366-0.366-0.96 0-1.326 2.559-2.559 2.559-6.722 0-9.281-0.366-0.366-0.366-0.96 0-1.326s0.96-0.366 1.326 0c1.594 1.594 2.471 3.712 2.471 5.966s-0.878 4.373-2.471 5.966c-0.183 0.183-0.423 0.275-0.663 0.275zM10.723 14.473c-0.24 0-0.48-0.092-0.663-0.275-0.366-0.366-0.366-0.96 0-1.326 1.584-1.584 1.584-4.161 0-5.745-0.366-0.366-0.366-0.96 0-1.326s0.96-0.366 1.326 0c2.315 2.315 2.315 6.082 0 8.397-0.183 0.183-0.423 0.275-0.663 0.275zM7.839 1.536c0.501-0.501 0.911-0.331 0.911 0.378v16.172c0 0.709-0.41 0.879-0.911 0.378l-4.714-4.713h-3.125v-7.5h3.125l4.714-4.714z";break;case"volume-loud":e[0]="0 0 21 20",e[1]="M17.384 18.009c-0.24 0-0.48-0.092-0.663-0.275-0.366-0.366-0.366-0.96 0-1.326 1.712-1.712 2.654-3.988 2.654-6.408s-0.943-4.696-2.654-6.408c-0.366-0.366-0.366-0.96 0-1.326s0.96-0.366 1.326 0c2.066 2.066 3.204 4.813 3.204 7.734s-1.138 5.668-3.204 7.734c-0.183 0.183-0.423 0.275-0.663 0.275zM14.053 16.241c-0.24 0-0.48-0.092-0.663-0.275-0.366-0.366-0.366-0.96 0-1.326 2.559-2.559 2.559-6.722 0-9.281-0.366-0.366-0.366-0.96 0-1.326s0.96-0.366 1.326 0c1.594 1.594 2.471 3.712 2.471 5.966s-0.878 4.373-2.471 5.966c-0.183 0.183-0.423 0.275-0.663 0.275zM10.723 14.473c-0.24 0-0.48-0.092-0.663-0.275-0.366-0.366-0.366-0.96 0-1.326 1.584-1.584 1.584-4.161 0-5.745-0.366-0.366-0.366-0.96 0-1.326s0.96-0.366 1.326 0c2.315 2.315 2.315 6.082 0 8.397-0.183 0.183-0.423 0.275-0.663 0.275zM7.839 1.536c0.501-0.501 0.911-0.331 0.911 0.378v16.172c0 0.709-0.41 0.879-0.911 0.378l-4.714-4.713h-3.125v-7.5h3.125l4.714-4.714z";break;case"chapters":e[0]="0 0 20 20",e[1]="M5 2.5v17.5l6.25-6.25 6.25 6.25v-17.5zM15 0h-12.5v17.5l1.25-1.25v-15h11.25z";break;case"transcript":e[0]="0 0 20 20",e[1]="M0 19.107v-17.857q0-0.446 0.313-0.759t0.759-0.313h8.929v6.071q0 0.446 0.313 0.759t0.759 0.313h6.071v11.786q0 0.446-0.313 0.759t-0.759 0.312h-15q-0.446 0-0.759-0.313t-0.313-0.759zM4.286 15.536q0 0.156 0.1 0.257t0.257 0.1h7.857q0.156 0 0.257-0.1t0.1-0.257v-0.714q0-0.156-0.1-0.257t-0.257-0.1h-7.857q-0.156 0-0.257 0.1t-0.1 0.257v0.714zM4.286 12.679q0 0.156 0.1 0.257t0.257 0.1h7.857q0.156 0 0.257-0.1t0.1-0.257v-0.714q0-0.156-0.1-0.257t-0.257-0.1h-7.857q-0.156 0-0.257 0.1t-0.1 0.257v0.714zM4.286 9.821q0 0.156 0.1 0.257t0.257 0.1h7.857q0.156 0 0.257-0.1t0.1-0.257v-0.714q0-0.156-0.1-0.257t-0.257-0.1h-7.857q-0.156 0-0.257 0.1t-0.1 0.257v0.714zM11.429 5.893v-5.268q0.246 0.156 0.402 0.313l4.554 4.554q0.156 0.156 0.313 0.402h-5.268z";break;case"preferences":e[0]="0 0 20 20",e[1]="M18.238 11.919c-1.049-1.817-0.418-4.147 1.409-5.205l-1.965-3.404c-0.562 0.329-1.214 0.518-1.911 0.518-2.1 0-3.803-1.714-3.803-3.828h-3.931c0.005 0.653-0.158 1.314-0.507 1.919-1.049 1.818-3.382 2.436-5.212 1.382l-1.965 3.404c0.566 0.322 1.056 0.793 1.404 1.396 1.048 1.815 0.42 4.139-1.401 5.2l1.965 3.404c0.56-0.326 1.209-0.513 1.902-0.513 2.094 0 3.792 1.703 3.803 3.808h3.931c-0.002-0.646 0.162-1.3 0.507-1.899 1.048-1.815 3.375-2.433 5.203-1.387l1.965-3.404c-0.562-0.322-1.049-0.791-1.395-1.391zM10 14.049c-2.236 0-4.050-1.813-4.050-4.049s1.813-4.049 4.050-4.049 4.049 1.813 4.049 4.049c-0 2.237-1.813 4.049-4.049 4.049z";break;case"close":e[0]="0 0 16 20",e[1]="M1.228 14.933q0-0.446 0.312-0.759l3.281-3.281-3.281-3.281q-0.313-0.313-0.313-0.759t0.313-0.759l1.518-1.518q0.313-0.313 0.759-0.313t0.759 0.313l3.281 3.281 3.281-3.281q0.313-0.313 0.759-0.313t0.759 0.313l1.518 1.518q0.313 0.313 0.313 0.759t-0.313 0.759l-3.281 3.281 3.281 3.281q0.313 0.313 0.313 0.759t-0.313 0.759l-1.518 1.518q-0.313 0.313-0.759 0.313t-0.759-0.313l-3.281-3.281-3.281 3.281q-0.313 0.313-0.759 0.313t-0.759-0.313l-1.518-1.518q-0.313-0.313-0.313-0.759z";break;case"fullscreen-expand":e[0]="0 0 20 20",e[1]="M0 18.036v-5q0-0.29 0.212-0.502t0.502-0.212 0.502 0.212l1.607 1.607 3.705-3.705q0.112-0.112 0.257-0.112t0.257 0.112l1.272 1.272q0.112 0.112 0.112 0.257t-0.112 0.257l-3.705 3.705 1.607 1.607q0.212 0.212 0.212 0.502t-0.212 0.502-0.502 0.212h-5q-0.29 0-0.502-0.212t-0.212-0.502zM8.717 8.393q0-0.145 0.112-0.257l3.705-3.705-1.607-1.607q-0.212-0.212-0.212-0.502t0.212-0.502 0.502-0.212h5q0.29 0 0.502 0.212t0.212 0.502v5q0 0.29-0.212 0.502t-0.502 0.212-0.502-0.212l-1.607-1.607-3.705 3.705q-0.112 0.112-0.257 0.112t-0.257-0.112l-1.272-1.272q-0.112-0.112-0.112-0.257z";break;case"fullscreen-collapse":e[0]="0 0 20 20",e[1]="M0.145 16.964q0-0.145 0.112-0.257l3.705-3.705-1.607-1.607q-0.212-0.212-0.212-0.502t0.212-0.502 0.502-0.212h5q0.29 0 0.502 0.212t0.212 0.502v5q0 0.29-0.212 0.502t-0.502 0.212-0.502-0.212l-1.607-1.607-3.705 3.705q-0.112 0.112-0.257 0.112t-0.257-0.112l-1.272-1.272q-0.112-0.112-0.112-0.257zM8.571 9.464v-5q0-0.29 0.212-0.502t0.502-0.212 0.502 0.212l1.607 1.607 3.705-3.705q0.112-0.112 0.257-0.112t0.257 0.112l1.272 1.272q0.112 0.112 0.112 0.257t-0.112 0.257l-3.705 3.705 1.607 1.607q0.212 0.212 0.212 0.502t-0.212 0.502-0.502 0.212h-5q-0.29 0-0.502-0.212t-0.212-0.502z";break;case"help":e[0]="0 0 11 20",e[1]="M0.577 6.317q-0.028-0.167 0.061-0.313 1.786-2.969 5.179-2.969 0.893 0 1.797 0.346t1.629 0.926 1.183 1.423 0.458 1.769q0 0.603-0.173 1.127t-0.391 0.854-0.614 0.664-0.642 0.485-0.681 0.396q-0.458 0.257-0.765 0.725t-0.307 0.748q0 0.19-0.134 0.363t-0.313 0.173h-2.679q-0.167 0-0.285-0.206t-0.117-0.419v-0.502q0-0.926 0.725-1.747t1.596-1.211q0.658-0.301 0.938-0.625t0.279-0.848q0-0.469-0.519-0.826t-1.2-0.357q-0.725 0-1.205 0.324-0.391 0.279-1.194 1.283-0.145 0.179-0.346 0.179-0.134 0-0.279-0.089l-1.83-1.395q-0.145-0.112-0.173-0.279zM3.786 16.875v-2.679q0-0.179 0.134-0.313t0.313-0.134h2.679q0.179 0 0.313 0.134t0.134 0.313v2.679q0 0.179-0.134 0.313t-0.313 0.134h-2.679q-0.179 0-0.313-0.134t-0.134-0.313z"}return e},AblePlayer.prototype.reinitialize=function(){var t=new n.Deferred,e=t.promise();if(window.console||(this.debug=!1),this.startedPlaying=!1,this.autoScrollTranscript=!0,this.$media=n(this.media).first(),this.media=this.$media[0],this.$media.is("audio"))this.mediaType="audio";else{if(!this.$media.is("video"))return this.provideFallback(),t.fail(),e;this.mediaType="video"}return this.$sources=this.$media.find("source"),this.player=this.getPlayer(),this.player||this.provideFallback(),this.setIconType(),t.resolve(),e},AblePlayer.prototype.setPlayerSize=function(t,e){this.$media.attr("id");"audio"===this.mediaType?this.playerWidth&&this.$ableWrapper.css("width",this.playerWidth+"px"):0<t&&0<e&&(this.playerWidth=t,this.playerHeight=e,this.aspectRatio=e/t)},AblePlayer.prototype.setIconType=function(){var t,e;if(this.forceIconType)return!1;document.createElementNS&&document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect?this.iconType="svg":(window.getComputedStyle&&(e=n("span.icon-play").length?n("span.icon-play"):(t=n("<span>",{class:"icon-play able-clipped"}),n("body").append(t),t),void 0!==(e=window.getComputedStyle(e.get(0),null).getPropertyValue("font-family")))&&-1!==e.indexOf("able")?this.iconType="font":this.iconType="image",void 0!==t&&t.remove())},AblePlayer.prototype.setupInstance=function(){var t=new n.Deferred,e=t.promise();return this.$media.attr("id")?this.mediaId=this.$media.attr("id"):(this.mediaId="ableMediaId_"+this.ableIndex,this.$media.attr("id",this.mediaId)),t.resolve(),e},AblePlayer.prototype.setupInstancePlaylist=function(){var t,e=this;this.hasPlaylist=!1,n(".able-playlist").each(function(){var t;n(this).data("player")===e.mediaId&&(e.hasPlaylist=!0,e.$playlist=n(this).find("li"),n(this).find("li[data-youtube-id]").each(function(){var t=n(this).attr("data-youtube-id"),t=e.getYouTubePosterUrl(t,"120"),t=n("<img>",{src:t,alt:""});n(this).find("button").prepend(t)}),n(this).find("li[data-vimeo-id]").each(function(){var t=n(this).attr("data-youtube-id"),t=e.getVimeoPosterUrl(t,"120"),t=n("<img>",{src:t,alt:""});n(this).find("button").prepend(t)}),n(this).find("li span").attr("aria-hidden","true"),e.playlistIndex=0,t=n(this).data("embedded"),e.playlistEmbed=void 0!==t&&!1!==t)}),this.hasPlaylist&&this.loop&&this.media.removeAttribute("loop"),this.hasPlaylist&&this.playlistEmbed&&(t=this.$playlist.parent(),this.$playlistDom=t.clone(),t.remove()),this.hasPlaylist&&0===this.$sources.length&&(this.cuePlaylistItem(0),this.$sources=this.$media.find("source"))},AblePlayer.prototype.recreatePlayer=function(){var e,i,s,t,a;if(this.player)return t=(s=new n.Deferred).promise(),(a=this).playerDeleted=!1,this.recreatingPlayer=!0,this.playerCreated||(this.loadCurrentPreferences(),this.injectPlayerCode(),this.resizePlayer(this.media.videoWidth,this.media.videoHeight)),this.getSampleDescriptionText(),this.initSignLanguage(),this.initPlayer().then(function(){a.getTracks().then(function(){a.initDescription().then(function(){a.setupTracks().then(function(){a.hasClosedDesc&&(!a.$descDiv||a.$descDiv&&!n.contains(a.$ableDiv[0],a.$descDiv[0]))&&a.injectTextDescriptionArea(),a.initSpeech("init"),a.setupTranscript().then(function(){a.initStenoFrame().then(function(){a.stenoMode&&a.$stenoFrame&&(a.stenoFrameContents=a.$stenoFrame.contents()),a.getMediaTimes().then(function(t){for(a.duration=t.duration,a.elapsed=t.elapsed,a.setFullscreen(!1),void 0===a.volume&&(a.volume=a.defaultVolume),a.volume&&a.setVolume(a.volume),a.transcriptType&&(a.addTranscriptAreaEvents(),a.updateTranscript()),a.captions.length&&a.initDefaultCaption(),a.setMediaAttributes(),a.addControls(),a.addEventListeners(),e=a.getPreferencesGroups(),i=0;i<e.length;i++)a.injectPrefsForm(e[i]);a.setupPopups(),a.updateCaption(),a.injectVTS(),a.chaptersDivLocation&&a.populateChaptersDiv(),a.showSearchResults(),"html5"!==a.player||a.loadingMedia||(a.$media[0].load(),a.loadingMedia=!0),setTimeout(function(){a.refreshControls("init"),s.resolve()},100)})})})})})})},function(){a.provideFallback()}),t;console.log("Can't create player; no appropriate player type detected.")},AblePlayer.prototype.initPlayer=function(){var t,e=this,i=("html5"===this.player?t=this.initHtml5Player():"youtube"===this.player?t=this.initYouTubePlayer():"vimeo"===this.player&&(t=this.initVimeoPlayer()),new n.Deferred),s=i.promise();return t.done(function(){e.useFixedSeekInterval?(e.seekInterval||(e.seekInterval=e.defaultSeekInterval),e.seekIntervalCalculated=!0):e.setSeekInterval(),i.resolve()}).fail(function(){i.reject()}),s},AblePlayer.prototype.initStenoFrame=function(){var t=new n.Deferred,e=t.promise();return!this.stenoMode||!this.$stenoFrame||(this.$stenoFrame[0].contentWindow,"complete"==document.readyState)?t.resolve():this.$stenoFrame.on("load",function(){t.resolve()}),e},AblePlayer.prototype.setSeekInterval=function(){var t;this.seekInterval=this.defaultSeekInterval,void 0===(t=this.useChapterTimes?this.chapterDuration:this.duration)||t<1?this.seekIntervalCalculated=!1:(this.seekInterval=t<=20?5:t<=30?6:t<=40?8:t<=100?10:t/10,this.seekIntervalCalculated=!0)},AblePlayer.prototype.initDefaultCaption=function(){var t,e=this.captions;if(0<e.length){for(t=0;t<e.length;t++)!0===e[t].def&&(this.captionLang=e[t].language,this.selectedCaptions=e[t]);if(void 0===this.captionLang)for(t=0;t<e.length;t++)e[t].language===this.lang&&(this.captionLang=e[t].language,this.selectedCaptions=e[t]);void 0===this.captionLang&&(this.captionLang=e[0].language,this.selectedCaptions=e[0]),void 0!==this.captionLang&&(this.$transcriptLanguageSelect&&this.$transcriptLanguageSelect.find("option[lang="+this.captionLang+"]").prop("selected",!0),this.syncTrackLanguages("init",this.captionLang)),"vimeo"===this.player&&(this.usingVimeoCaptions&&1==this.prefCaptions?this.vimeoPlayer.enableTextTrack(this.captionLang).then(function(t){}).catch(function(t){t.name}):this.vimeoPlayer.disableTextTrack().then(function(){}).catch(function(t){}))}},AblePlayer.prototype.initHtml5Player=function(){var t=new n.Deferred,e=t.promise();return t.resolve(),e},AblePlayer.prototype.setMediaAttributes=function(){this.$media.attr("tabindex",-1);var t=this.$media.get(0).textTracks;if(t)for(var e=0;e<t.length;)t[e].mode="disabled",e+=1},AblePlayer.prototype.getPlayer=function(){return this.testFallback?null:this.youTubeId?"video"!==this.mediaType?null:"youtube":this.vimeoId?"video"!==this.mediaType?null:"vimeo":this.media.canPlayType?"html5":null}}(jQuery),function(V){AblePlayer.prototype.setCookie=function(t){Cookies.set("Able-Player",JSON.stringify(t),{expires:90,sameSite:"strict"})},AblePlayer.prototype.getCookie=function(){var e,i={preferences:{},sign:{},transcript:{},voices:[]};try{e=JSON.parse(Cookies.get("Able-Player"))}catch(t){this.setCookie(i),e=i}return e||i},AblePlayer.prototype.updateCookie=function(t){var e,i,s,a,n,r=this.getCookie();if("transcript"===t||"sign"===t)"transcript"===t?(n=(e=this.$transcriptArea).position(),void 0===r.transcript&&(r.transcript={}),r.transcript.position=e.css("position"),r.transcript.zindex=e.css("z-index"),r.transcript.top=n.top,r.transcript.left=n.left,r.transcript.width=e.width(),r.transcript.height=e.height()):"sign"===t&&(n=(e=this.$signWindow).position(),void 0===r.sign&&(r.sign={}),r.sign.position=e.css("position"),r.sign.zindex=e.css("z-index"),r.sign.top=n.top,r.sign.left=n.left,r.sign.width=e.width(),r.sign.height=e.height());else if("voice"===t){void 0===r.voices&&(r.voices=[]);for(var o=!1,l=0;l<r.voices.length;l++)r.voices[l].lang===this.prefDescVoiceLang&&(o=!0,r.voices[l].name=this.prefDescVoice);o||(n={name:this.prefDescVoice,lang:this.prefDescVoiceLang},r.voices.push(n))}else for(i=this.getAvailablePreferences(),s=0;s<i.length;s++)(a=i[s].name)==t&&(r.preferences[a]=this[a]);this.setCookie(r)},AblePlayer.prototype.getPreferencesGroups=function(){return this.usingYouTubeCaptions?["captions","descriptions","keyboard"]:this.usingVimeoCaptions?["descriptions","keyboard"]:["captions","descriptions","keyboard","transcript"]},AblePlayer.prototype.getAvailablePreferences=function(){var t=[];return t.push({name:"prefAltKey",label:this.tt.prefAltKey,group:"keyboard",default:1}),t.push({name:"prefCtrlKey",label:this.tt.prefCtrlKey,group:"keyboard",default:1}),t.push({name:"prefShiftKey",label:this.tt.prefShiftKey,group:"keyboard",default:0}),t.push({name:"prefTranscript",label:null,group:"transcript",default:0}),t.push({name:"prefHighlight",label:this.tt.prefHighlight,group:"transcript",default:1}),t.push({name:"prefAutoScrollTranscript",label:null,group:"transcript",default:1}),t.push({name:"prefTabbable",label:this.tt.prefTabbable,group:"transcript",default:0}),t.push({name:"prefCaptions",label:null,group:"captions",default:this.defaultStateCaptions}),this.usingYouTubeCaptions||("video"===this.mediaType&&t.push({name:"prefCaptionsPosition",label:this.tt.prefCaptionsPosition,group:"captions",default:this.defaultCaptionsPosition}),t.push({name:"prefCaptionsFont",label:this.tt.prefCaptionsFont,group:"captions",default:"sans-serif"})),t.push({name:"prefCaptionsSize",label:this.tt.prefCaptionsSize,group:"captions",default:"100%"}),this.usingYouTubeCaptions||(t.push({name:"prefCaptionsColor",label:this.tt.prefCaptionsColor,group:"captions",default:"white"}),t.push({name:"prefCaptionsBGColor",label:this.tt.prefCaptionsBGColor,group:"captions",default:"black"}),t.push({name:"prefCaptionsOpacity",label:this.tt.prefCaptionsOpacity,group:"captions",default:"100%"})),"video"===this.mediaType&&(t.push({name:"prefDesc",label:null,group:"descriptions",default:this.defaultStateDescriptions}),t.push({name:"prefDescMethod",label:null,group:"descriptions",default:"video"}),t.push({name:"prefDescVoice",label:this.tt.prefDescVoice,group:"descriptions",default:null}),t.push({name:"prefDescPitch",label:this.tt.prefDescPitch,group:"descriptions",default:1}),t.push({name:"prefDescRate",label:this.tt.prefDescRate,group:"descriptions",default:1}),t.push({name:"prefDescVolume",label:this.tt.volume,group:"descriptions",default:1}),t.push({name:"prefDescPause",label:this.tt.prefDescPause,group:"descriptions",default:this.defaultDescPause}),t.push({name:"prefDescVisible",label:this.tt.prefDescVisible,group:"descriptions",default:0})),t.push({name:"prefSign",label:null,group:null,default:0}),t},AblePlayer.prototype.loadCurrentPreferences=function(){for(var t=this.getAvailablePreferences(),e=this.getCookie(),i=0;i<t.length;i++){var s=t[i].name,a=t[i].default;void 0!==e.preferences[s]?this[s]=e.preferences[s]:(e.preferences[s]=a,this[s]=a)}void 0!==e.voices&&(this.prefVoices=e.voices),this.setCookie(e)},AblePlayer.prototype.injectPrefsForm=function(t){var e,i,s,a,n,r,o,l,h,p,c,d,u,g,f,m,v,y,b,P,k,T,C,w,$,D,A,x,S,I,N,B=this,M=this.getAvailablePreferences(),F=V("<div>",{class:"able-prefs-form "});for(F.addClass("able-prefs-form-"+t),"captions"==t?A=this.tt.prefTitleCaptions:"descriptions"==t?(A=this.tt.prefTitleDescriptions,x=V("<p>",{text:this.tt.prefIntroDescription1}),S=V("<ul>"),I=V("<li>",{text:this.tt.prefDescFormatOption1}),N=V("<li>",{text:this.tt.prefDescFormatOption2}),S.append(I,N),this.hasOpenDesc&&this.hasClosedDesc?(P=this.tt.prefIntroDescription2+" ",P=(P+="<strong>"+this.tt.prefDescFormatOption1b+"</strong>")+" <em>"+this.tt.and+"</em> <strong>"+this.tt.prefDescFormatOption2b+"</strong>."):this.hasOpenDesc?(P=this.tt.prefIntroDescription2,P+=" <strong>"+this.tt.prefDescFormatOption1b+"</strong>."):this.hasClosedDesc?(P=this.tt.prefIntroDescription2,P+=" <strong>"+this.tt.prefDescFormatOption2b+"</strong>."):P=this.tt.prefIntroDescriptionNone,I=V("<p>",{html:P}),N=this.tt.prefIntroDescription3,(this.hasOpenDesc||this.hasClosedDesc)&&(N+=" "+this.tt.prefIntroDescription4),P=V("<p>",{text:N}),F.append(x,S,I,P)):"keyboard"==t?(A=this.tt.prefTitleKeyboard,N=this.tt.prefIntroKeyboard1,N=(N+=" "+this.tt.prefIntroKeyboard2)+" "+this.tt.prefIntroKeyboard3,x=V("<p>",{text:N}),F.append(x)):"transcript"==t&&(A=this.tt.prefTitleTranscript),s=V("<div>").attr("role","group"),I=(S=this.mediaId+"-prefs-"+t)+"-legend",s.addClass("able-prefs-"+t).attr("id",S),"keyboard"===t?((a=V("<h2>"+this.tt.prefHeadingKeyboard1+"</h2>")).attr("id",I),s.attr("aria-labelledby",I),s.append(a)):"descriptions"===t&&((a=V("<h2>"+this.tt.prefHeadingTextDescription+"</h2>")).attr("id",I),s.attr("aria-labelledby",I),s.append(a)),e=0;e<M.length;e++)if(M[e].group==t&&M[e].label){if(o="able-"+(n=M[e].name),l=this.mediaId+"_"+n,r=V("<div>").addClass(o),"captions"===t){for(h=V('<label for="'+l+'"> '+M[e].label+"</label>"),p=V("<select>",{name:n,id:l}),"prefCaptions"!==n&&"prefCaptionsStyle"!==n&&p.change(function(){m=V(this).attr("name"),B.stylizeCaptions(B.$sampleCapsDiv,m)}),c=this.getCaptionsOptions(n),i=0;i<c.length;i++)"prefCaptionsPosition"===n?"overlay"===(u=c[i])?f=this.tt.captionsPositionOverlay:"below"===u&&(u=c[i],f=this.tt.captionsPositionBelow):"prefCaptionsFont"===n||"prefCaptionsColor"===n||"prefCaptionsBGColor"===n?(u=c[i][0],f=c[i][1]):"prefCaptionsOpacity"===n?(u=c[i],f=c[i],"0%"===u?f+=" ("+this.tt.transparent+")":"100%"===u&&(f+=" ("+this.tt.solid+")")):(u=c[i],f=c[i]),d=V("<option>",{value:u,text:f}),this[n]===u&&d.prop("selected",!0),p.append(d);r.append(h,p)}else if("descriptions"===t){if(h=V('<label for="'+l+'"> '+M[e].label+"</label>"),"prefDescPause"===n||"prefDescVisible"===n)r.addClass("able-prefs-checkbox"),p=V("<input>",{type:"checkbox",name:n,id:l,value:"true"}),1===this[n]&&p.prop("checked",!0),r.append(p,h);else if(this.synth){if(r.addClass("able-prefs-select"),p=V("<select>",{name:n,id:l}),"prefDescVoice"===n&&this.descVoices){for(b=this.getPrefDescVoice(),i=0;i<this.descVoices.length;i++)u=this.descVoices[i].name,g=this.descVoices[i].lang.substring(0,2).toLowerCase(),f=u+" ("+this.descVoices[i].lang+")",d=V("<option>",{value:u,"data-lang":g,text:f}),b===u&&d.prop("selected",!0),p.append(d);this.$voiceSelectField=p}else if("prefDescPitch"==n?c=[0,.5,1,1.5,2]:"prefDescRate"==n?c=[.7,.8,.9,1,1.1,1.2,1.5,2,2.5,3]:"prefDescVolume"==n&&(c=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1]),void 0!==c)for(i=0;i<c.length;i++)u=c[i],f=this.makePrefsValueReadable(n,u),d=V("<option>",{value:u,text:f}),this[n]==u&&d.prop("selected",!0),p.append(d),r.append(h,p);p.on("change",function(){B.announceDescriptionText("sample",B.currentSampleText)}),r.append(h,p)}}else h=V('<label for="'+l+'"> '+M[e].label+"</label>"),p=V("<input>",{type:"checkbox",name:n,id:l,value:"true"}),1===this[n]&&p.prop("checked",!0),"keyboard"===t&&p.on("change",function(){"prefAltKey"===(m=V(this).attr("name"))?(v=".able-modkey-alt",y=B.tt.prefAltKey+" + "):"prefCtrlKey"===m?(v=".able-modkey-ctrl",y=B.tt.prefCtrlKey+" + "):"prefShiftKey"===m&&(v=".able-modkey-shift",y=B.tt.prefShiftKey+" + "),V(this).is(":checked")?V(v).text(y):V(v).text("")}),r.append(p,h);s.append(r)}if(F.append(s),"captions"===t)this.usingYouTubeCaptions||(this.$sampleCapsDiv=V("<div>",{class:"able-captions-sample"}).text(this.tt.sampleCaptionText),F.append(this.$sampleCapsDiv),this.stylizeCaptions(this.$sampleCapsDiv));else if("descriptions"===t)this.synth&&(this.$sampleDescDiv=V("<div>",{class:"able-desc-sample"}).text(this.tt.sampleDescriptionText),F.append(this.$sampleDescDiv),this.currentSampleText=this.tt.sampleDescriptionText);else if("keyboard"===t){for(P=V("<h2>",{text:this.tt.prefHeadingKeyboard2}),k=V("<ul>"),T=[],C=[],e=0;e<this.controls.length;e++)"play"===this.controls[e]?(T.push(this.tt.play+"/"+this.tt.pause),C.push("p</span> <em>"+this.tt.or+'</em> <span class="able-help-modifiers"> '+this.tt.spacebar)):"restart"===this.controls[e]?(T.push(this.tt.restart),C.push("s")):"previous"===this.controls[e]?(T.push(this.tt.prevTrack),C.push("b")):"next"===this.controls[e]?(T.push(this.tt.nextTrack),C.push("n")):"rewind"===this.controls[e]?(T.push(this.tt.rewind),C.push("r")):"forward"===this.controls[e]?(T.push(this.tt.forward),C.push("f")):"volume"===this.controls[e]?(T.push(this.tt.volume),C.push("v</span> <em>"+this.tt.or+'</em> <span class="able-modkey">1-9'),T.push(this.tt.mute+"/"+this.tt.unmute),C.push("m")):"captions"===this.controls[e]?(1<this.captions.length?T.push(this.tt.captions):this.captionsOn?T.push(this.tt.hideCaptions):T.push(this.tt.showCaptions),C.push("c")):"descriptions"===this.controls[e]?(this.descOn?T.push(this.tt.turnOffDescriptions):T.push(this.tt.turnOnDescriptions),C.push("d")):"prefs"===this.controls[e]?(T.push(this.tt.preferences),C.push("e")):"help"===this.controls[e]&&(T.push(this.tt.help),C.push("h"));for(e=0;e<C.length;e++)w='<span class="able-modkey-alt">',1===this.prefAltKey&&(w+=this.tt.prefAltKey+" + "),w+='</span><span class="able-modkey-ctrl">',1===this.prefCtrlKey&&(w+=this.tt.prefCtrlKey+" + "),w+='</span><span class="able-modkey-shift">',1===this.prefShiftKey&&(w+=this.tt.prefShiftKey+" + "),$=V("<li>",{html:w=(w+="</span>")+('<span class="able-modkey">'+C[e]+"</span>")+(" = "+T[e])}),k.append($);w='<span class="able-modkey">'+this.tt.escapeKey+"</span>",w+=" = "+this.tt.escapeKeyFunction,$=V("<li>",{html:w}),k.append($),F.append(P,k)}V("body").append(F),D=new AccessibleDialog(F,this.$prefsButton,"dialog",!0,A,x,B.tt.closeButtonLabel,"32em"),F.append("<hr>"),N=V('<button class="modal-button">'+this.tt.save+"</button>"),S=V('<button class="modal-button">'+this.tt.cancel+"</button>"),N.click(function(){D.hide(),B.savePrefsFromForm()}),S.click(function(){D.hide(),B.resetPrefsForm()}),F.append(N),F.append(S),"captions"!==t&&"transcript"!==t||s.attr("aria-labelledby",D.titleH1.attr("id")),"captions"===t?this.captionPrefsDialog=D:"descriptions"===t?this.descPrefsDialog=D:"keyboard"===t?this.keyboardPrefsDialog=D:"transcript"===t&&(this.transcriptPrefsDialog=D),V("div.able-prefs-form button.modalCloseButton").click(function(){B.resetPrefsForm()}),V("div.able-prefs-form").keydown(function(t){27===t.which&&B.resetPrefsForm()})},AblePlayer.prototype.getPrefDescVoice=function(){var t,e=this.selectedDescriptions?this.selectedDescriptions.language:this.captionLang||this.lang,i=this.getCookie();if(i.voices)for(t=0;t<i.voices.length;t++)if(i.voices[t].lang===e)return i.voices[t].name;return null},AblePlayer.prototype.rebuildDescPrefsForm=function(){var t,e,i;for(this.$voiceSelectField=V("#"+this.mediaId+"_prefDescVoice"),this.$voiceSelectField.empty(),t=0;t<this.descVoices.length;t++)i=(e=this.descVoices[t].name)+" ("+this.descVoices[t].lang+")",i=V("<option>",{value:e,"data-lang":this.descVoices[t].lang.substring(0,2).toLowerCase(),text:i}),this.prefDescVoice==e&&i.prop("selected",!0),this.$voiceSelectField.append(i)},AblePlayer.prototype.makePrefsValueReadable=function(t,e){if("prefDescPitch"===t){if(0===e)return this.tt.prefDescPitch1;if(.5===e)return this.tt.prefDescPitch2;if(1===e)return this.tt.prefDescPitch3;if(1.5===e)return this.tt.prefDescPitch4;if(2===e)return this.tt.prefDescPitch5}else if("prefDescRate"===t){if(.7===e)return 1;if(.8===e)return 2;if(.9===e)return 3;if(1===e)return 4;if(1.1===e)return 5;if(1.2===e)return 6;if(1.5===e)return 7;if(2===e)return 8;if(2.5===e)return 9;if(3===e)return 10}else if("prefDescVolume"===t)return 10*e;return e},AblePlayer.prototype.resetPrefsForm=function(){for(var t,e=this.getCookie(),i=this.getAvailablePreferences(),s=0;s<i.length;s++)t=i[s].name,this.mediaId,-1!==t.indexOf("Captions")&&"prefCaptions"!==t?V('select[name="'+t+'"]').val(e.preferences[t]):1===this[t]?V('input[name="'+t+'"]').prop("checked",!0):V('input[name="'+t+'"]').prop("checked",!1);this.stylizeCaptions(this.$sampleCapsDiv)},AblePlayer.prototype.savePrefsFromForm=function(){for(var t,e,i,s,a,n=0,r=0,o=!1,l=this.getCookie(),h=this.getAvailablePreferences(),p=0;p<h.length;p++)if(h[p].label)if(t=h[p].name,e=this.mediaId+"_"+t,"prefDescVoice"===t){void 0===l.voices&&(l.voices=[]),i=this.mediaId+"_prefDescVoice",this.prefDescVoice=V("select#"+i).find(":selected").val(),this.prefDescVoiceLang=V("select#"+i).find(":selected").attr("data-lang");for(var c=!1,d=0;d<l.voices.length;d++)l.voices[d].lang===this.prefDescVoiceLang&&(c=!0,l.voices[d].name=this.prefDescVoice);c||(i={name:this.prefDescVoice,lang:this.prefDescVoiceLang},l.voices.push(i)),n++}else"prefDescMethod"==t?(this.prefDescMethod="video",this.prefDescMethod!==l.preferences.prefDescMethod&&(l.preferences.prefDescMethod=this.prefDescMethod,n++)):-1!==t.indexOf("Captions")&&"prefCaptions"!==t?(a=V('select[id="'+e+'"]').val(),l.preferences[t]!==a&&(l.preferences[t]=a,this[t]=a,n++,r++),"prefCaptionsSize"===t&&(o=!0,s=a)):-1!==t.indexOf("Desc")&&"prefDescPause"!==t&&"prefDescVisible"!==t?(a=V('select[id="'+e+'"]').val(),l.preferences[t]!==a&&(l.preferences[t]=a,this[t]=a,n++)):V('input[id="'+e+'"]').is(":checked")?(l.preferences[t]=1)!==this[t]&&(this[t]=1,n++):(l.preferences[t]=0,1===this[t]&&(this[t]=0,n++));if(0<n?(this.setCookie(l),this.showAlert(this.tt.prefSuccess)):this.showAlert(this.tt.prefNoChange),"youtube"===this.player&&void 0!==this.usingYouTubeCaptions&&this.usingYouTubeCaptions&&o&&this.youTubePlayer.setOption("captions","fontSize",this.translatePrefs("size",s,"youtube")),1<AblePlayerInstances.length)for(p=0;p<AblePlayerInstances.length;p++)AblePlayerInstances[p].updatePrefs(),AblePlayerInstances[p].geteferences(),AblePlayerInstances[p].resetPrefsForm(),0<r&&(AblePlayerInstances[p].stylizeCaptions(AblePlayerInstances[p].$captionsDiv),void 0!==AblePlayerInstances[p].$descDiv)&&AblePlayerInstances[p].stylizeCaptions(AblePlayerInstances[p].$descDiv);else this.updatePrefs(),0<r&&(this.stylizeCaptions(this.$captionsDiv),void 0!==this.$descDiv)&&this.stylizeCaptions(this.$descDiv)},AblePlayer.prototype.updatePrefs=function(){this.$transcriptDiv&&(1===this.prefTabbable?this.$transcriptDiv.find("span.able-transcript-seekpoint").attr("tabindex","0"):this.$transcriptDiv.find("span.able-transcript-seekpoint").removeAttr("tabindex"),0===this.prefHighlight)&&this.$transcriptDiv.find("span").removeClass("able-highlight"),this.updateCaption(),this.initDescription()},AblePlayer.prototype.usingModifierKeys=function(t){return!(1===this.prefAltKey&&!t.altKey||1===this.prefCtrlKey&&!t.ctrlKey||1===this.prefShiftKey&&!t.shiftKey)}}(jQuery),function(o){function r(t,e){for(var i=[],s=0;s<e.length;s++)i.push(l(t,e[s]));return i}function l(t,e){e=e(t);if(null!==t.error)throw t.error;return e}function s(t,e){for(var i=0;i<e.length;i++)"\n"===e[i]?(t.column=1,t.line+=1):t.column+=1}function h(t,e){var i=t.text.substring(0,e);return s(t,i),t.text=t.text.substring(e),i}function p(t){var e,i=t.text.indexOf("\n");return-1===i?(s(t,e=t.text),t.text=""):(e=t.text.substring(0,i),s(t,e+"\n"),t.text=t.text.substring(i+1)),e}function c(t){var e=t.text.indexOf("\n");return-1===e?t.text:t.text.substring(0,e)}function t(t){r(t,[y,b]);var e=t.text[0];" "===e||"\t"===e||"\n"===e?r(t,[C,i,$,u]):t.error="WEBVTT signature not followed by whitespace."}function i(t){for(;;){var e=c(t);if(-1!==e.indexOf("--\x3e"))return;if(0===e.length)return;e=l(t,a);t.metadata[e[0]]=e[1],l(t,C)}}function n(t){var e=[],i=t.indexOf(" "),i=(0<=i&&e.push(i),t.indexOf("\t")),i=(0<=i&&e.push(i),t.indexOf("\n"));return 0<=i&&e.push(i),Math.min.apply(null,e)}function a(t){var e=t.text.indexOf("\n"),e=h(t,e),i=e.indexOf(":");if(-1!==i)return[e.substring(0,i),e.substring(i+1)];t.error="Missing colon."}function d(t){var e=h(t,n(t.text)),i=e.indexOf(":");if(-1!==i)return[e.substring(0,i),e.substring(i+1)];t.error="Missing colon."}function u(t){for(;;){var e=c(t);if(0!==e.indexOf("NOTE")||4!==e.length&&" "!==e[4]&&"\t"!==e[4])if(0===o.trim(e).length&&0<t.text.length)l(t,w);else{if(!(0<o.trim(e).length))return;l(t,g)}else r(t,[v,w])}}function g(t){var e,i,s,a,n=c(t);-1===n.indexOf("--\x3e")&&(e=p(t),-1===(n=c(t)).indexOf("--\x3e"))?(n="Invalid WebVTT file: "+t.src+"\n",n+="Line: "+t.line+", ",t.column,console.warn||console.log):(i=(n=r(t,[D,T,P,T,D]))[0],(n=n[4])<=i?t.error="Start time is not sooner than end time.":(l(t,k),s=l(t,f),h(t,1),a=l(t,m),void 0===e&&(e=t.cues.length+1),t.cues.push({id:e,start:i,end:n,settings:s,components:a})))}function f(t){for(var e={};0<t.text.length&&"\n"!==t.text[0];){var i=l(t,d);e[i[0]]=i[1],l(t,k)}return e}function m(t){for(var e={type:"internal",tagName:"",value:"",classes:[],annotation:"",parent:null,children:[],language:""},i=e,s=[];0<t.text.length;){var a=c(t);if(-1!==a.indexOf("--\x3e")||/^\s+$/.test(a))break;if(2<=t.text.length&&"\n"===t.text[0]&&"\n"===t.text[1]){h(t,2);break}a=function(t){var e,i="data",s=[],a="",n={type:"",tagName:"",value:"",classes:[],annotation:"",children:[]};for(;;){if(e=!(2<=t.text.length&&"\n"===t.text[0]&&"\n"===t.text[1])&&0<t.text.length?t.text[0]:"","data"===i)if("&"===e)a="&",i="escape";else if("<"===e){if(0!==s.length)return n.type="string",n.value=s.join(""),n;i="tag"}else{if(""===e)return{type:"string",value:s.join("")};s.push(e)}else if("escape"===i)if("&"===e)s.push(a),a="&";else if(e.match(/[0-9a-z]/))a+=e;else{if(";"===e)"&amp"===a?s.push("&"):"&lt"===a?s.push("<"):"&gt"===a?s.push(">"):"&lrm"===a?s.push("‎"):"&rlm"===a?s.push("‏"):"&nbsp"===a?s.push(" "):(s.push(a),s.push(";"));else{if("<"===e||""===e)return s.push(a),n.type="string",n.value=s.join(""),n;if("\t"===e||"\n"===e||"\f"===e||" "===e)return s.push(a),n.type="string",n.value=s.join(""),n;s.push(a)}i="data"}else if("tag"===i)if("\t"===e||"\n"===e||"\f"===e||" "===e)i="startTagAnnotation";else if("."===e)i="startTagClass";else if("/"===e)i="endTag";else if(e.match("[0-9]"))i="timestampTag",s.push(e);else{if(">"===e){h(t,1);break}if(""===e)return n.tagName="",n.type="startTag",n;s.push(e),i="startTag"}else if("startTag"===i)if("\t"===e||"\f"===e||" "===e)i="startTagAnnotation";else if("\n"===e)a=e,i="startTagAnnotation";else if("."===e)i="startTagClass";else{if(">"===e)return h(t,1),n.tagName=s.join(""),n.type="startTag",n;if(""===e)return n.tagName=s.join(""),n.type="startTag",n;s.push(e)}else if("startTagClass"===i)if("\t"===e||"\f"===e||" "===e)n.classes.push(a),a="",i="startTagAnnotation";else if("\n"===e)n.classes.push(a),a=e,i="startTagAnnotation";else if("."===e)n.classes.push(a),a="";else{if(">"===e)return h(t,1),n.classes.push(a),n.type="startTag",n.tagName=s.join(""),n;if(""===e)return n.classes.push(a),n.type="startTag",n.tagName=s.join(""),n;a+="c"}else if("startTagAnnotation"===i){if(">"===e)return h(t,1),a=o.trim(a).replace(/ +/," "),n.type="startTag",n.tagName=s.join(""),n.annotation=a,n;if(""===e)return a=o.trim(a).replace(/ +/," "),n.type="startTag",n.tagName=s.join(""),n.annotation=a,n;a+=e}else{if("endTag"===i){if(">"===e)return h(t,1),n.type="endTag",n.tagName=s.join(""),n;if(""===e)return n.type="endTag",n.tagName=s.join(""),n}else{if("timestampTag"!==i)throw"Unknown tokenState "+i;if(">"===e)return h(t,1),n.type="timestampTag",n.name=s.join(""),n;if(""===e)return n.type="timestampTag",n.name=s.join(""),n}s.push(e)}h(t,1)}}(t);if("string"===a.type)i.children.push(a);else if("startTag"===a.type)a.type=a.tagName,a.parent=i,-1!==o.inArray(a.tagName,["i","b","u","ruby"])||"rt"===a.tagName&&"ruby"===i.tagName?(0<s.length&&(i.language=s[s.length-1]),i.children.push(a),i=a):"c"===a.tagName||"v"===a.tagName?(a.value=a.annotation,0<s.length&&(i.language=s[s.length-1]),i.children.push(a),i=a):"lang"===a.tagName&&(s.push(a.annotation),0<s.length&&(i.language=s[s.length-1]),i.children.push(a),i=a);else if("endTag"===a.type)a.tagName===i.type&&-1!==o.inArray(a.tagName,["c","i","b","u","ruby","rt","v"])?i=i.parent:"lang"===a.tagName&&"lang"===i.type?(i=i.parent,s.pop()):"ruby"===a.tagName&&"rt"===i.type&&(i=i.parent.parent);else if("timestampTag"===a.type){var n={text:a.value,error:null,metadata:{},cues:[],line:1,column:1};try{var r=l(n,D);0===n.text.length&&(a.value=r,i.push(a))}catch(t){}}}return e}function v(t){if(-1!==p(t).indexOf("--\x3e"))t.error="Invalid syntax: --\x3e in NOTE line.";else for(;;){var e=c(t);if(0===o.trim(e).length)return;if(-1!==e.indexOf("--\x3e"))return void(t.error="Invalid syntax: --\x3e in comment.");p(t)}}function y(t){"\ufeff"===t.text[0]&&h(t,1)}function b(t){"WEBVTT"===t.text.substring(0,6)?h(t,6):t.error="Invalid signature."}function P(t){t.text.length<3||"--\x3e"!==t.text.substring(0,3)?t.error="Missing --\x3e":h(t,3)}function k(t){for(;"\t"===t.text[0]||" "===t.text[0];)h(t,1)}function T(t){for(var e=0;"\t"===t.text[0]||" "===t.text[0];)h(t,1),e+=1;0===e&&(t.error="Missing space.")}function C(t){var e=t.text.indexOf("\n");-1===e?t.error="Missing EOL.":h(t,e+1)}function w(t){for(;0<t.text.length;){var e=c(t);if(0!==o.trim(e).length)break;p(t)}}function $(t){for(var e=0;0<t.text.length;){var i=c(t);if(0!==o.trim(i).length)break;p(t),e+=1}0===e&&(t.error="Missing empty line.")}function D(t){var e=n(t.text);if(-1===e)t.error("Missing timing.");else{e=h(t,e),e=/((\d\d):)?((\d\d):)(\d\d).(\d\d\d)|(\d+).(\d\d\d)/.exec(e);if(e){var i=0,s=e[2],a=e[4];if(a){if(59<parseInt(a,10))return void(t.error="Invalid minute range");s&&(i+=3600*parseInt(s,10)),i+=60*parseInt(a,10);s=e[5];if(59<parseInt(s,10))return void(t.error="Invalid second range");i=(i+=parseInt(s,10))+parseInt(e[6],10)/1e3}else i=(i+=parseInt(e[7],10))+parseInt(e[8],10)/1e3;return i}t.error="Unable to parse timestamp"}}AblePlayer.prototype.parseWebVTT=function(e,i){e={src:e,text:i=i.replace(/(\r\n|\n|\r)/g,"\n"),error:null,metadata:{},cues:[],line:1,column:1};try{l(e,t)}catch(t){i="Invalid WebVTT file: "+e.src+"\n";i+="Line: "+e.line+", ";console.warn||console.log}return e}}(jQuery),function(P){AblePlayer.prototype.injectPlayerCode=function(){var t;this.$mediaContainer=this.$media.wrap('<div class="able-media-container"></div>').parent(),this.$ableDiv=this.$mediaContainer.wrap('<div class="able"></div>').parent(),this.$ableWrapper=this.$ableDiv.wrap('<div class="able-wrapper"></div>').parent(),this.$ableWrapper.addClass("able-skin-"+this.skin),this.$ableWrapper.css({width:this.playerWidth+"px"}),"video"!==this.mediaType||"image"==this.iconType||"youtube"===this.player&&!this.hasPoster||this.injectBigPlayButton(),t=P("<div>"),"video"===this.mediaType?t.addClass("able-vidcap-container"):"audio"===this.mediaType&&(t.addClass("able-audcap-container"),t.addClass("captions-off")),this.injectPlayerControlArea(),this.$captionsContainer=this.$mediaContainer.wrap(t).parent(),this.injectAlert(),this.injectPlaylist(),this.injectOffscreenHeading()},AblePlayer.prototype.injectOffscreenHeading=function(){var t;"0"!=this.playerHeadingLevel&&(void 0===this.playerHeadingLevel&&(this.playerHeadingLevel=this.getNextHeadingLevel(this.$ableDiv)),t="h"+this.playerHeadingLevel.toString(),this.$headingDiv=P("<"+t+">"),this.$ableDiv.prepend(this.$headingDiv),this.$headingDiv.addClass("able-offscreen"),this.$headingDiv.text(this.tt.playerHeading))},AblePlayer.prototype.injectBigPlayButton=function(){var t,e,i=this;this.$bigPlayButton=P("<button>",{class:"able-big-play-button","aria-hidden":!1,"aria-label":this.tt.play,tabindex:0}),"svg"==this.iconType?(e=this.getSvgData("play"),t=P("<svg>",{focusable:"false","aria-hidden":"true",viewBox:e[0]}),e=P("<path>",{d:e[1]}),t.append(e),this.$bigPlayButton.html(t),this.$bigPlayButton.html(this.$bigPlayButton.html())):(this.$bigPlayIcon=P("<span>",{class:"icon-play"}),this.$bigPlayButton.append(this.$bigPlayIcon)),this.$bigPlayButton.click(function(t){t.preventDefault(),i.handlePlay()}),this.$mediaContainer.append(this.$bigPlayButton)},AblePlayer.prototype.injectPlayerControlArea=function(){this.$playerDiv=P("<div>",{class:"able-player",role:"region","aria-label":this.mediaType+" player"}),this.$playerDiv.addClass("able-"+this.mediaType),this.hasPlaylist&&this.showNowPlaying&&(this.$nowPlayingDiv=P("<div>",{class:"able-now-playing","aria-live":"assertive","aria-atomic":"true"})),this.$controllerDiv=P("<div>",{class:"able-controller"}),this.$controllerDiv.addClass("able-"+this.iconColor+"-controls"),this.$statusBarDiv=P("<div>",{class:"able-status-bar"}),this.$timer=P("<span>",{class:"able-timer"}),this.$elapsedTimeContainer=P("<span>",{class:"able-elapsedTime",text:"0:00"}),this.$durationContainer=P("<span>",{class:"able-duration"}),this.$timer.append(this.$elapsedTimeContainer).append(this.$durationContainer),this.$speed=P("<span>",{class:"able-speed","aria-live":"assertive"}).text(this.tt.speed+": 1x"),this.$status=P("<span>",{class:"able-status","aria-live":"polite"}),this.$statusBarDiv.append(this.$timer,this.$speed,this.$status),this.showNowPlaying?this.$playerDiv.append(this.$nowPlayingDiv,this.$controllerDiv,this.$statusBarDiv):this.$playerDiv.append(this.$controllerDiv,this.$statusBarDiv),"video"===this.mediaType?this.$ableDiv.append(this.$playerDiv):this.$ableDiv.prepend(this.$playerDiv)},AblePlayer.prototype.injectTextDescriptionArea=function(){this.$descDiv=P("<div>",{class:"able-descriptions"}),this.$descDiv.attr({"aria-live":"assertive","aria-atomic":"true"}),this.$descDiv.hide(),this.$ableDiv.append(this.$descDiv)},AblePlayer.prototype.getDefaultWidth=function(t){return"transcript"===t?450:"sign"===t?400:void 0},AblePlayer.prototype.positionDraggableWindow=function(t,e){var i,s,a=this.getCookie();"transcript"===t?(s=this.$transcriptArea,void 0!==a.transcript&&(i=a.transcript)):"sign"===t&&(s=this.$signWindow,void 0!==a.transcript)&&(i=a.sign),void 0===i||P.isEmptyObject(i)?(a=this.getOptimumPosition(t,e),void 0===e&&(e=this.getDefaultWidth(t)),s.css({position:a[0],width:e,"z-index":a[3]}),"absolute"===a[0]&&s.css({top:a[1]+"px",left:a[2]+"px"})):(s.css({position:i.position,width:i.width,"z-index":i.zindex}),"absolute"===i.position&&s.css({top:i.top,left:i.left}),this.updateZIndex(t))},AblePlayer.prototype.getOptimumPosition=function(t,e){var i,s,a,n,r;return void 0===e&&(e=this.getDefaultWidth(t)),i=[],s=this.$ableDiv.width(),this.$ableDiv.height(),(a=this.$ableDiv.offset()).top,a=a.left,n=P(window).width(),r=0,"transcript"===t?void 0!==this.$signWindow&&this.$signWindow.is(":visible")&&(r=this.$signWindow.width()+5):"sign"===t&&void 0!==this.$transcriptArea&&this.$transcriptArea.is(":visible")&&(r=this.$transcriptArea.width()+5),e<n-(a+s+5+r)?(i[0]="absolute",i[1]=0,i[2]=s+r+5):e+5<a?(i[0]="absolute",i[1]=0,i[2]=a-e-5):i[0]="relative",i},AblePlayer.prototype.injectAlert=function(){var t;this.$alertBox=P('<div role="alert"></div>'),this.$alertBox.addClass("able-alert"),this.$alertBox.hide(),this.$alertBox.appendTo(this.$ableDiv),t="audio"==this.mediaType?"-10":"10",this.$alertBox.css({top:t+"px"}),this.$srAlertBox=P('<div role="alert"></div>'),this.$srAlertBox.addClass("able-screenreader-alert"),this.$srAlertBox.appendTo(this.$ableDiv)},AblePlayer.prototype.injectPlaylist=function(){var t;!0===this.playlistEmbed&&((t=this.$playlistDom.clone()).insertBefore(this.$statusBarDiv),this.$playlist=t.find("li"))},AblePlayer.prototype.createPopup=function(e,t){var i,s,a,n,r,o,l,h,p,c,d=this,u=P("<ul>",{id:this.mediaId+"-"+e+"-menu",class:"able-popup",role:"menu"}).hide();if("captions"===e&&u.addClass("able-popup-captions"),"prefs"===e)if(1<this.prefCats.length){for(i=0;i<this.prefCats.length;i++)s=P("<li></li>",{role:"menuitem",tabindex:"-1"}),"captions"===(a=this.prefCats[i])?s.text(this.tt.prefMenuCaptions):"descriptions"===a?s.text(this.tt.prefMenuDescriptions):"keyboard"===a?s.text(this.tt.prefMenuKeyboard):"transcript"===a&&s.text(this.tt.prefMenuTranscript),s.on("click",function(){l=P(this).text(),d.showingPrefsDialog=!0,d.setFullscreen(!1),l===d.tt.prefMenuCaptions?d.captionPrefsDialog.show():l===d.tt.prefMenuDescriptions?d.descPrefsDialog.show():l===d.tt.prefMenuKeyboard?d.keyboardPrefsDialog.show():l===d.tt.prefMenuTranscript&&d.transcriptPrefsDialog.show(),d.closePopups(),d.showingPrefsDialog=!1}),u.append(s);this.$prefsButton.attr("data-prefs-popup","menu")}else 1==this.prefCats.length&&this.$prefsButton.attr("data-prefs-popup",this.prefCats[0]);else if("captions"===e||"chapters"===e){for(n=!1,i=0;i<t.length;i++)r=t[i],("captions"!==e||"html5"!==this.player||void 0!==r.cues)&&(s=P("<li></li>",{role:"menuitemradio",tabindex:"-1",lang:r.language}),r.def&&1==this.prefCaptions?(s.attr("aria-checked","true"),n=!0):s.attr("aria-checked","false"),"captions"==e?(s.text(r.label),s.on("click",this.getCaptionClickFunction(r))):"chapters"==e&&(s.text(this.flattenCueForCaption(r)+" - "+this.formatSecondsAsColonTime(r.start)),s.on("click",this.getChapterClickFunction(r.start))),u.append(s));"captions"===e&&(s=P("<li></li>",{role:"menuitemradio",tabindex:"-1"}).text(this.tt.captionsOff),0===this.prefCaptions?(s.attr("aria-checked","true"),n=!0):s.attr("aria-checked","false"),s.on("click",this.getCaptionOffFunction()),u.append(s))}else if("transcript-window"===e||"sign-window"===e)for((o=[]).push({name:"move",label:this.tt.windowMove}),o.push({name:"resize",label:this.tt.windowResize}),o.push({name:"close",label:this.tt.windowClose}),i=0;i<o.length;i++)(s=P("<li></li>",{role:"menuitem",tabindex:"-1","data-choice":o[i].name})).text(o[i].label),s.on("click mousedown",function(t){if(t.stopPropagation(),void 0!==t.button&&0!==t.button)return!1;d.windowMenuClickRegistered||d.finishingDrag||(d.windowMenuClickRegistered=!0,d.handleMenuChoice(e.substring(0,e.indexOf("-")),P(this).attr("data-choice"),t))}),u.append(s);return"captions"!==e||n?"chapters"===e&&(u.find('li:contains("'+this.defaultChapter+'")')?u.find('li:contains("'+this.defaultChapter+'")'):u.find("li").first()).attr("aria-checked","true").addClass("able-focus"):(u.find("li[lang="+this.captionLang+"]")?u.find("li[lang="+this.captionLang+"]"):u.find("li").last()).attr("aria-checked","true"),u.on("keydown",function(t){P(this).attr("id").split("-")[1],h=P(this).find("li:focus"),c=h.is(":first-child")?(p=P(this).find("li").last(),h.next()):h.is(":last-child")?(p=h.prev(),P(this).find("li").first()):(p=h.prev(),h.next()),9===t.which?(t.shiftKey?(h.removeClass("able-focus"),p):(h.removeClass("able-focus"),c)).focus().addClass("able-focus"):40===t.which||39===t.which?(h.removeClass("able-focus"),c.focus().addClass("able-focus")):38==t.which||37===t.which?(h.removeClass("able-focus"),p.focus().addClass("able-focus")):32===t.which||13===t.which?h.click():27===t.which&&(h.removeClass("able-focus"),d.closePopups(),t.stopPropagation),t.preventDefault()}),this.$controllerDiv.append(u),u},AblePlayer.prototype.closePopups=function(){var t=this;this.chaptersPopup&&this.chaptersPopup.is(":visible")&&(this.chaptersPopup.hide(),this.$chaptersButton.attr("aria-expanded","false").focus()),this.captionsPopup&&this.captionsPopup.is(":visible")&&(this.captionsPopup.hide(),this.$ccButton.attr("aria-expanded","false"),this.waitThenFocus(this.$ccButton)),this.prefsPopup&&this.prefsPopup.is(":visible")&&!this.hidingPopup&&(this.hidingPopup=!0,this.prefsPopup.hide(),this.prefsPopup.find("li").removeClass("able-focus").attr("tabindex","-1"),this.$prefsButton.attr("aria-expanded","false"),this.showingPrefsDialog||this.waitThenFocus(t.$prefsButton),setTimeout(function(){t.hidingPopup=!1},100)),this.$volumeSlider&&this.$volumeSlider.is(":visible")&&(this.$volumeSlider.hide().attr("aria-hidden","true"),this.$volumeButton.attr("aria-expanded","false").focus()),this.$transcriptPopup&&this.$transcriptPopup.is(":visible")&&(this.hidingPopup=!0,this.$transcriptPopup.hide(),this.$transcriptPopup.find("li").removeClass("able-focus").attr("tabindex","-1"),this.$transcriptPopupButton.attr("aria-expanded","false").focus(),setTimeout(function(){t.hidingPopup=!1},100)),this.$signPopup&&this.$signPopup.is(":visible")&&(this.$signPopup.hide(),this.$signPopup.find("li").removeClass("able-focus").attr("tabindex","-1"),this.$signPopupButton.attr("aria-expanded","false").focus())},AblePlayer.prototype.setupPopups=function(t){var e,i=[];if(void 0===t&&i.push("prefs"),"captions"!==t&&void 0!==t||0<this.captions.length&&i.push("captions"),"chapters"!==t&&void 0!==t||0<this.chapters.length&&this.useChaptersButton&&i.push("chapters"),"transcript-window"===t&&"popup"===this.transcriptType&&i.push("transcript-window"),"sign-window"===t&&this.hasSignLanguage&&i.push("sign-window"),0<i.length)for(var s=0;s<i.length;s++){var a=i[s];if("prefs"==a)this.prefsPopup=this.createPopup("prefs");else if("captions"==a)void 0!==this.captionsPopup&&this.captionsPopup||(this.captionsPopup=this.createPopup("captions",this.captions));else if("chapters"==a)e=this.selectedChapters?this.selectedChapters.cues:1<=this.chapters.length?this.chapters[0].cues:[],void 0!==this.chaptersPopup&&this.chaptersPopup||(this.chaptersPopup=this.createPopup("chapters",e));else{if("transcript-window"==a)return this.createPopup("transcript-window");if("sign-window"==a)return this.createPopup("sign-window")}}},AblePlayer.prototype.provideFallback=function(){var t,e;if(!this.usingFallback){if(this.usingFallback=!0,this.testFallback||(this.testFallback=1),void 0===this.$media&&(this.$media=P(this.media)),this.$media.attr("id")?this.mediaId=this.$media.attr("id"):this.mediaId="media"+Math.floor(1e9*Math.random()).toString(),this.hasFallback=!1,this.$media.children().length)for(t=0;t<this.$media.children().length&&!this.hasFallback;)"SOURCE"!==this.$media.children()[t].tagName&&"TRACK"!==this.$media.children()[t].tagName&&(this.hasFallback=!0),t++;if(this.hasFallback||(e=P("<p>").text("Media player unavailable."),this.$media.append(e)),this.$media.attr("width")&&this.$media.css("width",this.$media.attr("width")+"px"),this.$media.attr("height")&&this.$media.css("height",this.$media.attr("height")+"px"),this.$media.removeAttr("data-able-player"),this.$media.prop("controls",!0),2==this.testFallback){if(P(this.$media).replaceWith(P('<foobar id="foobar-'+this.mediaId+'">')),this.$newFallbackElement=P("#foobar-"+this.mediaId),this.$media.children().length)for(t=this.$media.children().length-1;0<=t;)this.$newFallbackElement.prepend(P(this.$media.children()[t])),t--;this.hasFallback||this.$newFallbackElement.append(e)}}},AblePlayer.prototype.calculateControlLayout=function(){var t,e,i=[];return i[0]=[],i[1]=[],"legacy"===this.skin&&(i[2]=[],i[3]=[]),i[0].push("play"),i[0].push("restart"),i[0].push("rewind"),i[0].push("forward"),"legacy"===this.skin&&i[1].push("seek"),!this.hasPlaylist||"legacy"!==this.skin&&"2020"!=this.skin||(i[0].push("previous"),i[0].push("next")),this.isPlaybackRateSupported()?(t=!0,"legacy"===this.skin&&(i[2].push("slower"),i[2].push("faster"))):t=!1,e=0,this.hasCaptions&&(e++,"legacy"===this.skin?i[2].push("captions"):"2020"==this.skin&&i[1].push("captions")),this.hasSignLanguage&&(e++,"legacy"===this.skin?i[2].push("sign"):"2020"==this.skin&&i[1].push("sign")),"video"===this.mediaType&&(this.hasOpenDesc||this.hasClosedDesc)&&(e++,"legacy"===this.skin?i[2].push("descriptions"):"2020"==this.skin&&i[1].push("descriptions")),"popup"!==this.transcriptType||this.hideTranscriptButton||(e++,"legacy"===this.skin?i[2].push("transcript"):"2020"==this.skin&&i[1].push("transcript")),this.hasChapters&&this.useChaptersButton&&(e++,"legacy"===this.skin?i[2].push("chapters"):"2020"==this.skin&&i[1].push("chapters")),"2020"==this.skin&&0<e&&i[1].push("pipe"),t&&"2020"===this.skin&&(i[1].push("faster"),i[1].push("slower"),i[1].push("pipe")),"legacy"===this.skin?i[3].push("preferences"):"2020"==this.skin&&i[1].push("preferences"),"video"===this.mediaType&&this.allowFullscreen&&("legacy"===this.skin?i[3]:i[1]).push("fullscreen"),this.browserSupportsVolume()?(this.volumeButton="volume-"+this.getVolumeName(this.volume),"legacy"!==this.skin&&"2020"!=this.skin||i[1].push("volume")):this.volume=!1,i},AblePlayer.prototype.addControls=function(){var t,e,i,s,a,n,r,o,l,h,p,c,d,u,g,f,m=this,v=this.calculateControlLayout(),y=v.length,b=this.mediaId+"-tooltip";for(this.$tooltipDiv=P("<div>",{id:b,class:"able-tooltip"}).hide(),this.$controllerDiv.append(this.$tooltipDiv),"2020"==this.skin&&(a=P('<div class="able-seekbar"></div>'),n=this.mediaType+" "+this.tt.seekbarLabel,this.$controllerDiv.append(a),this.seekBar=new AccessibleSlider(this.mediaType,a,"horizontal",100,0,this.duration,this.seekInterval,n,"seekbar",!0,"visible")),t=0;t<y;t++){for(i=v[t],s=P("<div>",t%2==0?{class:"able-left-controls"}:{class:"able-right-controls"}),this.$controllerDiv.append(s),e=0;e<i.length;e++)"seek"===(g=i[e])?(a=P('<div class="able-seekbar"></div>'),n=this.mediaType+" "+this.tt.seekbarLabel,s.append(a),void 0!==this.duration&&0!==this.duration||(this.duration=60,this.elapsed=0),this.seekBar=new AccessibleSlider(this.mediaType,a,"horizontal",100,0,this.duration,this.seekInterval,n,"seekbar",!0,"visible")):"pipe"===g?(c=P("<span>",{tabindex:"-1","aria-hidden":"true"}),"font"===this.iconType?c.addClass("icon-pipe"):(p=P("<img>",{src:this.rootPath+"button-icons/"+this.iconColor+"/pipe.png",alt:"",role:"presentation"}),c.append(p)),s.append(c)):(p="volume"===g?this.rootPath+"button-icons/"+this.iconColor+"/"+this.volumeButton+".png":"fullscreen"===g?this.rootPath+"button-icons/"+this.iconColor+"/fullscreen-expand.png":"slower"===g?"animals"===this.speedIcons?this.rootPath+"button-icons/"+this.iconColor+"/turtle.png":this.rootPath+"button-icons/"+this.iconColor+"/slower.png":"faster"===g?"animals"===this.speedIcons?this.rootPath+"button-icons/"+this.iconColor+"/rabbit.png":this.rootPath+"button-icons/"+this.iconColor+"/faster.png":this.rootPath+"button-icons/"+this.iconColor+"/"+g+".png",c=this.getButtonTitle(g),d=P("<div>",{role:"button",tabindex:"0","aria-label":c,class:"able-button-handler-"+g}),"volume"!==g&&"preferences"!==g&&"captions"!==g||("preferences"==g?(this.prefCats=this.getPreferencesGroups(),1<this.prefCats.length?(l=this.mediaId+"-prefs-menu",d.attr({"aria-controls":l,"aria-haspopup":"menu","aria-expanded":"false"})):1===this.prefCats.length&&d.attr({"aria-haspopup":"dialog"})):"volume"===g?(l=this.mediaId+"-volume-slider",d.attr({"aria-controls":l,"aria-expanded":"false"})):"captions"===g&&this.captions&&(1<this.captions.length?d.attr("aria-expanded","false"):d.attr("aria-pressed","false"))),"font"===this.iconType?(r="volume"===g?"icon-"+this.volumeButton:"slower"===g?"animals"===this.speedIcons?"icon-turtle":"icon-slower":"faster"===g?"animals"===this.speedIcons?"icon-rabbit":"icon-faster":"icon-"+g,r=P("<span>",{class:r,"aria-hidden":"true"}),d.append(r)):"svg"===this.iconType?(h="volume"===g?this.getSvgData(this.volumeButton):"fullscreen"===g?this.getSvgData("fullscreen-expand"):"slower"===g?"animals"===this.speedIcons?this.getSvgData("turtle"):this.getSvgData("slower"):"faster"===g?"animals"===this.speedIcons?this.getSvgData("rabbit"):this.getSvgData("faster"):this.getSvgData(g),r=P("<svg>",{focusable:"false","aria-hidden":"true",viewBox:h[0]}),h=P("<path>",{d:h[1]}),r.append(h),d.html(r),d.html(d.html())):(h=P("<img>",{src:p,alt:"",role:"presentation"}),d.append(h)),u=P("<span>",{class:"able-clipped"}).text(c),d.append(u),d.on("mouseenter focus",function(t){clearTimeout(o);var e,i=P(this).attr("aria-label"),s=P(this).position(),a=P(this).height(),n=P(this).width(),r=m.$controllerDiv.width(),r=(s.right=r-s.left-n,s.top+a+5),a=(n=P(this).parent().hasClass("able-right-controls")?"right":"left",AblePlayer.localGetElementById(d[0],b).text(i).width()),s=(n="left"==n?{left:(e=(e=s.left-a/2)<0?2:e)+"px",right:"",top:r+"px"}:{left:"",right:(e=(e=s.right-a/2)<0?2:e)+"px",top:r+"px"},AblePlayer.localGetElementById(d[0],b).text(i).css(n));m.showTooltip(s),P(this).on("mouseleave blur",function(){clearTimeout(o),o=setTimeout(function(){AblePlayer.localGetElementById(d[0],b).text("").hide()},500),m.$tooltipDiv.on("mouseenter focus",function(){clearTimeout(o)}),m.$tooltipDiv.on("mouseleave blur",function(){AblePlayer.localGetElementById(d[0],b).text("").hide()})})}),"captions"===g?this.prefCaptions&&1===this.prefCaptions||(u=1<this.captions.length?this.tt.captions:this.tt.showCaptions,d.addClass("buttonOff").attr("title",u),d.attr("aria-pressed","false")):"descriptions"!==g||this.prefDesc&&1===this.prefDesc||d.addClass("buttonOff").attr("title",this.tt.turnOnDescriptions),s.append(d),"play"===g?this.$playpauseButton=d:"previous"==g?(this.$prevButton=d,"previous"==this.buttonWithFocus&&(this.$prevButton.focus(),this.buttonWithFocus=null)):"next"==g?(this.$nextButton=d,"next"==this.buttonWithFocus&&(this.$nextButton.focus(),this.buttonWithFocus=null)):"captions"===g?this.$ccButton=d:"sign"===g?(this.$signButton=d,this.$signWindow.is(":visible")||this.$signButton.addClass("buttonOff")):"descriptions"===g?this.$descButton=d:"mute"===g?this.$muteButton=d:"transcript"===g?(this.$transcriptButton=d,this.$transcriptDiv.is(":visible")||this.$transcriptButton.addClass("buttonOff").attr("title",this.tt.showTranscript)):"fullscreen"===g?this.$fullscreenButton=d:"chapters"===g?this.$chaptersButton=d:"preferences"===g?this.$prefsButton=d:"volume"===g&&(this.$volumeButton=d)),"volume"===g&&this.addVolumeSlider(s);t%2==1&&this.$controllerDiv.append('<div style="clear:both;"></div>')}for(f in void 0!==this.$captionsDiv&&this.stylizeCaptions(this.$captionsDiv),void 0!==this.$descDiv&&this.stylizeCaptions(this.$descDiv),this.controls=[],v)v.hasOwnProperty(f)&&(this.controls=this.controls.concat(v[f]));this.refreshControls("init")},AblePlayer.prototype.useSvg=function(){Object.create(null)},AblePlayer.prototype.cuePlaylistItem=function(t){var e,i,s,a,n=this,r=this.player,r=(this.initializing||this.playerCreated&&this.deletePlayer("playlist"),this.swappingSrc=!0,this.startedPlaying?this.okToPlay=!0:this.okToPlay=!1,this.loadingMedia=!1,e=this.$playlist.eq(t),"youtube"===(o=this.hasAttr(e,"data-youtube-id")?(this.youTubeId=this.getYouTubeId(e.attr("data-youtube-id")),this.hasAttr(e,"data-youtube-desc-id")&&(this.youTubeDescId=this.getYouTubeId(e.attr("data-youtube-desc-id"))),"youtube"):this.hasAttr(e,"data-vimeo-id")?(this.vimeoId=this.getVimeoId(e.attr("data-vimeo-id")),this.hasAttr(e,"data-vimeo-desc-id")&&(this.vimeoDescId=this.getVimeoId(e.attr("data-vimeo-desc-id"))),"vimeo"):"html5")?"html5"===r&&(this.playing&&this.pauseMedia(),this.$media.hide()):(this.youTubeId=!1,"youtube"===r&&this.$media.show()),this.player=o,this.$media.empty(),this.hasAttr(e,"data-poster")&&this.$media.attr("poster",e.attr("data-poster")),this.hasAttr(e,"data-youtube-desc-id")&&this.$media.attr("data-youtube-desc-id",e.attr("data-youtube-desc-id")),this.youTubeId&&this.$media.attr("data-youtube-id",e.attr("data-youtube-id")),e.children("span.able-source")),o=(r.length&&r.each(function(){var t;n.hasAttr(P(this),"data-src")&&(t=P("<source>",{src:P(this).attr("data-src")}),n.hasAttr(P(this),"data-type")&&t.attr("type",P(this).attr("data-type")),n.hasAttr(P(this),"data-desc-src")&&t.attr("data-desc-src",P(this).attr("data-desc-src")),n.hasAttr(P(this),"data-sign-src")&&t.attr("data-sign-src",P(this).attr("data-sign-src")),n.$media.append(t))}),e.children("span.able-track"));o.length&&o.each(function(){var t;n.hasAttr(P(this),"data-src")&&n.hasAttr(P(this),"data-kind")&&n.hasAttr(P(this),"data-srclang")&&(t=P("<track>",{src:P(this).attr("data-src"),kind:P(this).attr("data-kind"),srclang:P(this).attr("data-srclang")}),n.hasAttr(P(this),"data-label")&&t.attr("label",P(this).attr("data-label")),n.hasAttr(P(this),"data-desc")&&t.attr("data-desc",P(this).attr("data-desc")),n.$media.append(t))}),i=e.text(),this.hasAttr(e,"lang")&&(s=e.attr("lang")),this.$sources=this.$media.find("source"),this.recreatingPlayer||this.recreatePlayer().then(function(){n.$playlist.removeClass("able-current").children("button").removeAttr("aria-current"),n.$playlist.eq(t).addClass("able-current").children("button").attr("aria-current","true"),!0===n.showNowPlaying&&void 0!==n.$nowPlayingDiv&&(a=P("<span>"),void 0!==s&&a.attr("lang",s),a.html("<span>"+n.tt.selectedTrack+":</span>"+i),n.$nowPlayingDiv.html(a)),n.initializing?n.swappingSrc=!1:"html5"===n.player?n.loadingMedia||(n.media.load(),n.loadingMedia=!0):"youtube"===n.player&&(n.okToPlay=!0),n.initializing=!1,n.playerCreated=!0})},AblePlayer.prototype.deletePlayer=function(t){"youtube"===this.player&&this.youTubePlayer&&this.youTubePlayer.destroy(),"vimeo"===this.player&&this.vimeoPlayer&&this.vimeoPlayer.destroy(),this.$controllerDiv.empty(),this.$elapsedTimeContainer.empty().text("0:00"),this.$durationContainer.empty(),this.$signWindow&&this.$signWindow.remove(),this.$transcriptArea&&this.$transcriptArea.remove(),P(".able-modal-dialog").remove(),this.$captionsWrapper&&this.$captionsWrapper.remove(),this.$descDiv&&this.$descDiv.remove(),this.hasCaptions=!1,this.hasChapters=!1,this.hasDescTracks=!1,this.hasOpenDesc=!1,this.hasClosedDesc=!1,this.captionsPopup=null,this.chaptersPopup=null,this.transcriptType=null,this.playerDeleted=!0},AblePlayer.prototype.getButtonTitle=function(t){return"playpause"===t||"play"===t?this.tt.play:"pause"===t?this.tt.pause:"restart"===t?this.tt.restart:"previous"===t?this.tt.prevTrack:"next"===t?this.tt.nextTrack:"rewind"===t?this.tt.rewind:"forward"===t?this.tt.forward:"captions"===t?1<this.captions.length?this.tt.captions:this.captionsOn?this.tt.hideCaptions:this.tt.showCaptions:"descriptions"===t?this.descOn?this.tt.turnOffDescriptions:this.tt.turnOnDescriptions:"transcript"===t?this.$transcriptDiv.is(":visible")?this.tt.hideTranscript:this.tt.showTranscript:"chapters"===t?this.tt.chapters:"sign"===t?this.tt.sign:"volume"===t?this.tt.volume:"faster"===t?this.tt.faster:"slower"===t?this.tt.slower:"preferences"===t?this.tt.preferences:"help"!==t?"fullscreen"===t?this.fullscreen?this.tt.exitFullscreen:this.tt.enterFullscreen:(this.debug,t.charAt(0).toUpperCase()+t.slice(1)):void 0}}(jQuery),function(c){AblePlayer.prototype.setupTracks=function(){var t,e,i,l=this,s=new c.Deferred,a=s.promise(),n=[];for(c("#able-vts").length?(this.vtsTracks=[],this.hasVts=!0):this.hasVts=!1,e=this.hasDescTracks&&this.descOn?this.altTracks:this.tracks,t=0;t<e.length;t++){var r,o=(i=e[t]).kind;i.src?(i.src,r=this.loadTextObject(i.src),n.push(r.catch(function(t){})),r.then(function(s,a){s.src;var n=s.language,r=s.label,o=s.desc;return function(t,e){var i=l.parseWebVTT(t,e).cues;l.hasVts&&l.setupVtsTracks(a,n,o,r,t,e),"captions"===a||"subtitles"===a?l.setupCaptions(s,i):"descriptions"===a?l.setupDescriptions(s,i):"chapters"===a?l.setupChapters(s,i):"metadata"===a&&l.setupMetadata(s,i)}}(i,o))):(l.usingYouTubeCaptions||l.usingVimeoCaptions)&&l.setupCaptions(i)}return l.usingYouTubeCaptions||l.usingVimeoCaptions?s.resolve():c.when.apply(c,n).then(function(){s.resolve()}),a},AblePlayer.prototype.getTracks=function(){var i,s,a,n,r,o,l,h=this,p=!1,t=new c.Deferred,e=t.promise();return this.$tracks=this.$media.find("track"),this.tracks=[],this.altTracks=[],this.captions=[],this.descriptions=[],this.chapters=[],this.meta=[],this.hasCaptionsTrack=!1,this.hasDescTracks=!1,this.$tracks.length&&(this.usingYouTubeCaptions=!1,this.$tracks.each(function(t,e){if("captions"===c(this).attr("kind")?h.hasCaptionsTrack=!0:"descriptions"===c(this).attr("kind")&&(h.hasClosedDesc=!0),i=c(this).attr("srclang")?c(this).attr("srclang"):h.lang,s=c(this).attr("label")?c(this).attr("label"):h.getLanguageName(i),void 0===c(this).attr("default")||p?a=i===h.lang&&!(r=!0):p=a=!0,a&&(h.captionLang=i),void 0!==c(this).data("desc")?(n=!0,h.hasDescTracks=!0):n=!1,(n?h.altTracks:h.tracks).push({kind:c(this).attr("kind"),src:c(this).attr("src"),language:i,label:s,def:a,desc:n}),t==h.$tracks.length-1){if(!p)if(r)for(h.captionLang=h.lang,o=!1,l=0;l<h.tracks.length&&!o;)h.tracks[l].language===h.lang&&(h.tracks[l].def=!0,o=!0),l++;else h.tracks[0].def=!0,h.captionLang=h.tracks[0].language;h.$media.find("track").removeAttr("default")}})),this.$tracks.length&&this.hasCaptionsTrack?t.resolve():"youtube"===this.player?this.getYouTubeCaptionTracks(this.youTubeId).then(function(){h.hasCaptions&&(h.usingYouTubeCaptions=!0,h.$captionsWrapper)&&h.$captionsWrapper.remove(),t.resolve()}):"vimeo"===this.player?this.getVimeoCaptionTracks().then(function(){h.hasCaptions&&(h.usingVimeoCaptions=!0,h.$captionsWrapper)&&h.$captionsWrapper.remove(),t.resolve()}):(this.hasCaptions=!1,h.$captionsWrapper&&h.$captionsWrapper.remove(),t.resolve()),e},AblePlayer.prototype.setupCaptions=function(t,e){var i,s;if(void 0===e&&(e=null),!this.usingYouTubeCaptions&&!this.usingVimeoCaptions)if(0===this.captions.length)this.captions.push({language:t.language,label:t.label,def:t.def,cues:e});else{for(i=!1,s=0;s<this.captions.length;s++)if(t.label.toLowerCase()<this.captions[s].label.toLowerCase()){this.captions.splice(s,0,{language:t.language,label:t.label,def:t.def,cues:e}),i=!0;break}i||this.captions.push({language:t.language,label:t.label,def:t.def,cues:e})}this.hasCaptions=!0,this.currentCaption=-1,1===this.prefCaptions||0!==this.prefCaptions&&1===this.defaultStateCaptions?this.captionsOn=!0:this.captionsOn=!1,"audio"===this.mediaType&&this.captionsOn&&this.$captionsContainer.removeClass("captions-off"),this.$captionsWrapper&&(!this.$captionsWrapper||c.contains(this.$ableDiv[0],this.$captionsWrapper[0]))||(this.$captionsDiv=c("<div>",{class:"able-captions"}),this.$captionsWrapper=c("<div>",{class:"able-captions-wrapper","aria-hidden":"true"}).hide(),"below"===this.prefCaptionsPosition?this.$captionsWrapper.addClass("able-captions-below"):this.$captionsWrapper.addClass("able-captions-overlay"),this.$captionsWrapper.append(this.$captionsDiv),this.$captionsContainer.append(this.$captionsWrapper))},AblePlayer.prototype.setupDescriptions=function(t,e){this.hasClosedDesc=!0,this.currentDescription=-1,this.descriptions.push({cues:e,language:t.language})},AblePlayer.prototype.setupChapters=function(t,e){this.hasChapters=!0,this.chapters.push({cues:e,language:t.language})},AblePlayer.prototype.setupMetadata=function(t,e,i){"text"===this.metaType?this.metaDiv&&c("#"+this.metaDiv)&&(this.$metaDiv=c("#"+this.metaDiv),this.hasMeta=!0,this.meta=e):"selector"===this.metaType&&(this.hasMeta=!0,this.visibleSelectors=[],this.meta=e)},AblePlayer.prototype.loadTextObject=function(s){var a=new c.Deferred,t=a.promise(),n=this,r=c("<div>",{style:"display:none"});return r.load(s,function(t,e,i){"error"===e?(n.debug,a.reject(s)):a.resolve(s,t),r.remove()}),t}}(jQuery),function(h){AblePlayer.prototype.initYouTubePlayer=function(){var t,e=this,i=new h.Deferred,s=i.promise();return this.youTubePlayerReady=!1,t=this.youTubeDescId&&this.prefDesc?this.youTubeDescId:this.youTubeId,this.activeYouTubeId=t,AblePlayer.youTubeIframeAPIReady?e.finalizeYoutubeInit().then(function(){i.resolve()}):(AblePlayer.loadingYouTubeIframeAPI||h.getScript("https://www.youtube.com/iframe_api").fail(function(){i.fail()}),h("body").on("youTubeIframeAPIReady",function(){e.finalizeYoutubeInit().then(function(){i.resolve()})})),s},AblePlayer.prototype.finalizeYoutubeInit=function(){var t,e=new h.Deferred,i=e.promise(),s=this,a=this.mediaId+"_youtube";return this.$mediaContainer.prepend(h("<div>").attr("id",a)),t=this.okToPlay?1:0,void 0===this.captionLang&&(this.captionLang=this.lang),this.youTubePlayer=new YT.Player(a,{videoId:this.activeYouTubeId,host:this.youTubeNoCookie?"https://www.youtube-nocookie.com":"https://www.youtube.com",playerVars:{autoplay:t,enablejsapi:1,disableKb:1,playsinline:this.playsInline,start:this.startTime,controls:0,cc_load_policy:1,cc_lang_pref:this.captionLang,hl:this.lang,modestbranding:1,rel:0,iv_load_policy:3},events:{onReady:function(){s.youTubePlayerReady=!0,s.playerWidth&&s.playerHeight||s.getYouTubeDimensions(),s.playerWidth&&s.playerHeight&&(s.youTubePlayer.setSize(s.playerWidth,s.playerHeight),s.$ableWrapper.css({width:s.playerWidth+"px"})),s.swappingSrc&&(s.swappingSrc=!1,s.restoreFocus(),s.cueingPlaylistItem=!1,s.playing||s.okToPlay)&&s.playMedia(),s.userClickedPlaylist&&(s.userClickedPlaylist=!1),s.recreatingPlayer&&(s.recreatingPlayer=!1),e.resolve()},onError:function(t){e.fail()},onStateChange:function(t){s.getPlayerState().then(function(t){"playing"===t?(s.playing=!0,s.startedPlaying=!0,s.paused=!1):"ended"==t?s.onMediaComplete():(s.playing=!1,s.paused=!0),s.stoppingYouTube&&"paused"===t&&(void 0!==s.$posterImg&&s.$posterImg.show(),s.stoppingYouTube=!1,s.seeking=!1,s.playing=!1,s.paused=!0)}),"youtube"!==s.player||s.usingYouTubeCaptions||s.youTubePlayer.getOptions("captions")&&s.youTubePlayer.unloadModule("captions")},onPlaybackQualityChange:function(){}}}),this.hasPlaylist||this.$media.remove(),i},AblePlayer.prototype.getYouTubeDimensions=function(t){var e,i=this.$ableWrapper.find("iframe");void 0!==i&&i.prop("width")&&(e=i.prop("width"),i.prop("height"))&&(i=i.prop("height"),this.resizePlayer(e,i))},AblePlayer.prototype.getYouTubeCaptionTracks=function(t){var e,i,s,a,n,r=new h.Deferred,o=r.promise(),l=this;return this.youTubePlayer.getOption("captions","tracklist")||(this.youTubePlayer.addEventListener("onApiChange",function(t){if(l.duration=l.youTubePlayer.getDuration(),l.loadingYouTubeCaptions){if(e=l.youTubePlayer.getOption("captions","tracklist"),l.okToPlay||l.youTubePlayer.pauseVideo(),e&&e.length){for(i=0;i<e.length;i++)s=e[i].languageCode,a=e[i].languageName,n=!1,void 0!==l.captionLang?s===l.captionLang&&(n=!0):void 0!==l.lang&&s===l.lang&&(n=!0),l.tracks.push({kind:"captions",language:s,label:a,def:n}),l.captions.push({language:s,label:a,def:n,cues:null});l.hasCaptions=!0,l.setupPopups("captions")}else l.usingYouTubeCaptions=!1,l.hasCaptions=!1;l.loadingYouTubeCaptions=!1,l.okToPlay&&l.youTubePlayer.playVideo()}l.captionLangPending&&(l.youTubePlayer.setOption("captions","track",{languageCode:l.captionLangPending}),l.captionLangPending=null),void 0!==l.prefCaptionsSize&&l.youTubePlayer.setOption("captions","fontSize",l.translatePrefs("size",l.prefCaptionsSize,"youtube")),r.resolve()}),this.loadingYouTubeCaptions=!0,this.youTubePlayer.playVideo()),o},AblePlayer.prototype.getYouTubeTimedTextUrl=function(t,e,i){var s=(s="https://www.youtube.com/api/timedtext?fmt=vtt")+("&v="+t)+("&lang="+i);return""!==e&&(s+="&name="+e),s},AblePlayer.prototype.getYouTubePosterUrl=function(t,e){t="https://img.youtube.com/vi/"+t;return"120"==e?t+"/default.jpg":"320"==e||"480"==e?t+"/hqdefault.jpg":"640"==e&&t+"/sddefault.jpg"},AblePlayer.prototype.getYouTubeId=function(t){var e;return-1!==t.indexOf("youtu")?(e=(t=t.trim()).length-11,t.substring(e)):t}}(jQuery),function(u){window.AccessibleSlider=function(t,e,i,s,a,n,r,o,l,h,p){var c,d=this;this.position=0,this.tracking=!1,this.trackDevice=null,this.keyTrackPosition=0,this.lastTrackPosition=0,this.nextStep=1,this.inertiaCount=0,this.bodyDiv=u(e),h&&(this.loadedDiv=u("<div></div>"),this.playedDiv=u("<div></div>")),this.seekHead=u("<div>",{"aria-orientation":i,class:"able-"+l+"-head"}),"visible"===p?this.seekHead.attr("tabindex","0"):this.seekHead.attr("tabindex","-1"),this.seekHead.attr({role:"slider","aria-label":o,"aria-valuemin":a,"aria-valuemax":n}),this.timeTooltipTimeoutId=null,this.overTooltip=!1,this.timeTooltip=u("<div>"),this.bodyDiv.append(this.timeTooltip),this.timeTooltip.attr("role","tooltip"),this.timeTooltip.addClass("able-tooltip"),this.timeTooltip.on("mouseenter focus",function(){d.overTooltip=!0,clearInterval(d.timeTooltipTimeoutId)}),this.timeTooltip.on("mouseleave blur",function(){d.overTooltip=!1,u(this).hide()}),this.timeTooltip.hide(),this.bodyDiv.append(this.loadedDiv),this.bodyDiv.append(this.playedDiv),this.bodyDiv.append(this.seekHead),this.bodyDiv.wrap("<div></div>"),this.wrapperDiv=this.bodyDiv.parent(),"legacy"===this.skin&&("horizontal"===i?(this.wrapperDiv.width(s),this.loadedDiv.width(0)):(this.wrapperDiv.height(s),this.loadedDiv.height(0))),this.wrapperDiv.addClass("able-"+l+"-wrapper"),h&&(this.loadedDiv.addClass("able-"+l+"-loaded"),this.playedDiv.width(0),this.playedDiv.addClass("able-"+l+"-played"),this.setDuration(n)),this.seekHead.on("mouseenter mouseleave mousemove mousedown mouseup focus blur touchstart touchmove touchend",function(t){c=d.pointerEventToXY(t),"mouseenter"===t.type||"focus"===t.type?d.overHead=!0:"mouseleave"===t.type||"blur"===t.type?(d.overHead=!1,!d.overBody&&d.tracking&&"mouse"===d.trackDevice&&d.stopTracking(d.pageXToPosition(c.x))):"mousemove"===t.type||"touchmove"===t.type?d.tracking&&"mouse"===d.trackDevice&&d.trackHeadAtPageX(c.x):"mousedown"===t.type||"touchstart"===t.type?(d.startTracking("mouse",d.pageXToPosition(d.seekHead.offset()+d.seekHead.width()/2)),d.bodyDiv.is(":focus")||d.bodyDiv.focus(),t.preventDefault()):"mouseup"!==t.type&&"touchend"!==t.type||d.tracking&&"mouse"===d.trackDevice&&d.stopTracking(d.pageXToPosition(c.x)),"mousemove"!==t.type&&"mousedown"!==t.type&&"mouseup"!==t.type&&"touchstart"!==t.type&&"touchend"!==t.type&&d.refreshTooltip()}),this.bodyDiv.on("mouseenter mouseleave mousemove mousedown mouseup keydown keyup touchstart touchmove touchend",function(t){if(c=d.pointerEventToXY(t),"mouseenter"===t.type)d.overBody=!0,d.overBodyMousePos={x:c.x,y:c.y};else if("mouseleave"===t.type)d.overBody=!1,d.overBodyMousePos=null,!d.overHead&&d.tracking&&"mouse"===d.trackDevice&&d.stopTracking(d.pageXToPosition(c.x));else if("mousemove"===t.type||"touchmove"===t.type)d.overBodyMousePos={x:c.x,y:c.y},d.tracking&&"mouse"===d.trackDevice&&d.trackHeadAtPageX(c.x);else if("mousedown"===t.type||"touchstart"===t.type)d.startTracking("mouse",d.pageXToPosition(c.x)),d.trackHeadAtPageX(c.x),d.seekHead.is(":focus")||d.seekHead.focus(),t.preventDefault();else if("mouseup"===t.type||"touchend"===t.type)d.tracking&&"mouse"===d.trackDevice&&d.stopTracking(d.pageXToPosition(c.x));else if("keydown"===t.type){if(36===t.which)d.trackImmediatelyTo(0);else if(35===t.which)d.trackImmediatelyTo(d.duration);else if(37===t.which||40===t.which)d.arrowKeyDown(-1);else if(39===t.which||38===t.which)d.arrowKeyDown(1);else if(33===t.which&&0<r)d.arrowKeyDown(r);else{if(!(34===t.which&&0<r))return;d.arrowKeyDown(-r)}t.preventDefault()}else"keyup"===t.type&&33<=t.which&&t.which<=40&&(d.tracking&&"keyboard"===d.trackDevice&&d.stopTracking(d.keyTrackPosition),t.preventDefault());d.overTooltip||"mouseup"===t.type||"keydown"===t.type||"keydown"===t.type||d.refreshTooltip()})},AccessibleSlider.prototype.arrowKeyDown=function(t){this.tracking&&"keyboard"===this.trackDevice?(this.keyTrackPosition=this.boundPos(this.keyTrackPosition+this.nextStep*t),this.inertiaCount+=1,20===this.inertiaCount&&(this.inertiaCount=0,this.nextStep*=2)):(this.nextStep=1,this.inertiaCount=0,this.keyTrackPosition=this.boundPos(this.position+this.nextStep*t),this.startTracking("keyboard",this.keyTrackPosition)),this.trackHeadAtPosition(this.keyTrackPosition)},AccessibleSlider.prototype.pageXToPosition=function(t){t-=this.bodyDiv.offset().left,t=this.duration*(t/this.bodyDiv.width());return this.boundPos(t)},AccessibleSlider.prototype.boundPos=function(t){return Math.max(0,Math.min(t,this.duration))},AccessibleSlider.prototype.setDuration=function(t){t!==this.duration&&(this.duration=t,this.resetHeadLocation(),this.seekHead.attr("aria-valuemax",t))},AccessibleSlider.prototype.setWidth=function(t){this.wrapperDiv.width(t),this.resizeDivs(),this.resetHeadLocation()},AccessibleSlider.prototype.getWidth=function(){return this.wrapperDiv.width()},AccessibleSlider.prototype.resizeDivs=function(){this.playedDiv.width(this.bodyDiv.width()*(this.position/this.duration)),this.loadedDiv.width(this.bodyDiv.width()*this.buffered)},AccessibleSlider.prototype.resetHeadLocation=function(){var t=this.position/this.duration,t=this.bodyDiv.width()*t;this.seekHead.css("left",t-this.seekHead.width()/2),this.tracking&&this.stopTracking(this.position)},AccessibleSlider.prototype.setPosition=function(t,e){this.position=t,this.resetHeadLocation(),this.overHead&&this.refreshTooltip(),this.resizeDivs(),this.updateAriaValues(t,e)},AccessibleSlider.prototype.setBuffered=function(t){isNaN(t)||(this.buffered=t,this.redrawDivs)},AccessibleSlider.prototype.startTracking=function(t,e){this.tracking||(this.trackDevice=t,this.tracking=!0,this.bodyDiv.trigger("startTracking",[e]))},AccessibleSlider.prototype.stopTracking=function(t){this.trackDevice=null,this.tracking=!1,this.bodyDiv.trigger("stopTracking",[t]),this.setPosition(t,!0)},AccessibleSlider.prototype.trackHeadAtPageX=function(t){var e=this.pageXToPosition(t),t=t-this.bodyDiv.offset().left-this.seekHead.width()/2,t=Math.max(0,Math.min(t,this.bodyDiv.width()-this.seekHead.width()));this.lastTrackPosition=e,this.seekHead.css("left",t),this.reportTrackAtPosition(e)},AccessibleSlider.prototype.trackHeadAtPosition=function(t){var e=t/this.duration,e=this.bodyDiv.width()*e;this.lastTrackPosition=t,this.seekHead.css("left",e-this.seekHead.width()/2),this.reportTrackAtPosition(t)},AccessibleSlider.prototype.reportTrackAtPosition=function(t){this.bodyDiv.trigger("tracking",[t]),this.updateAriaValues(t,!0)},AccessibleSlider.prototype.updateAriaValues=function(t,e){var i=Math.floor(t/3600),s=Math.floor(t%3600/60),a=Math.floor(t%60),n=1===s?"minute":"minutes",r=1===a?"second":"seconds",i=0<i?i+" "+(1===i?"hour":"hours")+", "+s+" "+n+", "+a+" "+r:0<s?s+" "+n+", "+a+" "+r:a+" "+r;this.liveAriaRegion||(this.liveAriaRegion=u("<span>",{class:"able-offscreen","aria-live":"polite"}),this.wrapperDiv.append(this.liveAriaRegion)),e&&this.liveAriaRegion.text()!==i&&this.liveAriaRegion.text(i),this.seekHead.attr("aria-valuetext",i),this.seekHead.attr("aria-valuenow",Math.floor(t).toString())},AccessibleSlider.prototype.trackImmediatelyTo=function(t){this.startTracking("keyboard",t),this.trackHeadAtPosition(t),this.keyTrackPosition=t},AccessibleSlider.prototype.refreshTooltip=function(){var t;this.overHead?(this.timeTooltip.show(),this.tracking?this.timeTooltip.text(this.positionToStr(this.lastTrackPosition)):this.timeTooltip.text(this.positionToStr(this.position)),this.setTooltipPosition(this.seekHead.position().left+this.seekHead.width()/2)):this.overBody&&this.overBodyMousePos?(this.timeTooltip.show(),this.timeTooltip.text(this.positionToStr(this.pageXToPosition(this.overBodyMousePos.x))),this.setTooltipPosition(this.overBodyMousePos.x-this.bodyDiv.offset().left)):(clearTimeout(this.timeTooltipTimeoutId),(t=this).timeTooltipTimeoutId=setTimeout(function(){t.timeTooltip.hide()},500))},AccessibleSlider.prototype.hideSliderTooltips=function(){this.overHead=!1,this.overBody=!1,this.timeTooltip.hide()},AccessibleSlider.prototype.setTooltipPosition=function(t){this.timeTooltip.css({left:t-this.timeTooltip.width()/2-10,bottom:this.seekHead.height()+10})},AccessibleSlider.prototype.positionToStr=function(t){var e=Math.floor(t/3600),i=Math.floor(t/60)%60,t=Math.floor(t%60);return t<10&&(t="0"+t),0<e?e+":"+(i=i<10?"0"+i:i)+":"+t:i+":"+t},AccessibleSlider.prototype.pointerEventToXY=function(t){var e,i={x:0,y:0};return"touchstart"==t.type||"touchmove"==t.type||"touchend"==t.type||"touchcancel"==t.type?(e=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],i.x=e.pageX,i.y=e.pageY):"mousedown"!=t.type&&"mouseup"!=t.type&&"mousemove"!=t.type&&"mouseover"!=t.type&&"mouseout"!=t.type&&"mouseenter"!=t.type&&"mouseleave"!=t.type||(i.x=t.pageX,i.y=t.pageY),i}}(jQuery),function(l){AblePlayer.prototype.addVolumeSlider=function(t){var e,i,s,a=this,n=this.mediaId+"-volume-slider",r=this.mediaId+"-volume-help",o=this.mediaId+"-volume-tick-labels";for(this.$volumeSlider=l("<div>",{id:n,class:"able-volume-slider","aria-hidden":"true"}).hide(),this.$volumeSliderTooltip=l("<div>",{class:"able-tooltip",role:"tooltip"}).hide(),this.$volumeRange=l("<input>",{type:"range",min:"0",max:"10",step:"1",orient:"vertical","aria-label":this.tt.volumeUpDown,value:this.volume}),n=parseInt(a.volume)/10*100,this.$volumeHelp=l("<div>",{id:r,class:"able-volume-help","aria-live":"polite"}).text(n+"%"),this.$volumeButton.attr({"aria-describedby":r}),e=l("<datalist>",{id:o}),i=0;i<=10;i++)s=0===i?this.tt.mute:10*i+"%",s=l("<option>",{value:i,label:s}),e.append(s);this.$volumeSlider.append(this.$volumeSliderTooltip,this.$volumeRange,this.$volumeHelp),t.append(this.$volumeSlider),this.$volumeRange.on("change",function(t){a.handleVolumeChange(l(this).val())}),this.$volumeRange.on("input",function(t){a.handleVolumeChange(l(this).val())}),this.$volumeRange.on("keydown",function(t){27!==t.which&&13!==t.which&&9!==t.which||(a.$volumeSlider.is(":visible")?(a.closingVolume=!0,a.hideVolumePopup()):a.closingVolume||a.showVolumePopup())})},AblePlayer.prototype.refreshVolumeHelp=function(t){this.$volumeHelp&&this.$volumeHelp.text(t/10*100+"%"),this.$volumeRange.attr("value",t)},AblePlayer.prototype.refreshVolumeButton=function(t){var e,i=this.getVolumeName(t),t=this.tt.volume+" "+t/10*100+"%";"font"===this.iconType?(e="icon-volume-"+i,this.$volumeButton.find("span").first().removeClass().addClass(e),this.$volumeButton.find("span.able-clipped").text(t)):"image"===this.iconType?(e=this.imgPath+"volume-"+i+".png",this.$volumeButton.find("img").attr("src",e)):"svg"===this.iconType&&(t=this.getSvgData(i="mute"!==i?"volume-"+i:i),this.$volumeButton.find("svg").attr("viewBox",t[0]),this.$volumeButton.find("path").attr("d",t[1]))},AblePlayer.prototype.handleVolumeButtonClick=function(){this.$volumeSlider.is(":visible")?this.hideVolumePopup():this.showVolumePopup()},AblePlayer.prototype.handleVolumeKeystroke=function(t){if(!(49<=t&&t<=57))return!1;t=t-48,this.isMuted()&&0<t?this.setMute(!1):0===t?this.setMute(!0):(this.setVolume(t),this.refreshVolumeHelp(t),this.refreshVolumeButton(t))},AblePlayer.prototype.handleVolumeChange=function(t){this.isMuted()&&0<t?this.setMute(!1):0===t?this.setMute(!0):(this.setVolume(t),this.refreshVolumeHelp(t),this.refreshVolumeButton(t))},AblePlayer.prototype.handleMute=function(){this.isMuted()?this.setMute(!1):this.setMute(!0)},AblePlayer.prototype.showVolumePopup=function(){this.closePopups(),this.$tooltipDiv.hide(),this.$volumeSlider.show().attr("aria-hidden","false"),this.$volumeButton.attr("aria-expanded","true"),this.$volumeButton.focus(),this.waitThenFocus(this.$volumeRange)},AblePlayer.prototype.hideVolumePopup=function(){var t=this;this.$volumeSlider.hide().attr("aria-hidden","true"),this.$volumeButton.attr("aria-expanded","false").focus(),setTimeout(function(){t.closingVolume=!1},1e3)},AblePlayer.prototype.isMuted=function(){return"html5"===this.player?this.media.muted:"youtube"===this.player?this.youTubePlayer.isMuted():void 0},AblePlayer.prototype.setMute=function(t){t?(this.lastVolume=this.volume,this.volume=0):void 0!==this.lastVolume&&(this.volume=this.lastVolume),"html5"===this.player?this.media.muted=t:"youtube"===this.player&&(t?this.youTubePlayer.mute():this.youTubePlayer.unMute()),this.setVolume(this.volume),this.refreshVolumeHelp(this.volume),this.refreshVolumeButton(this.volume)},AblePlayer.prototype.setVolume=function(t){"html5"===this.player?(this.media.volume=t/10,this.hasSignLanguage&&this.signVideo&&(this.signVideo.volume=0)):"youtube"===this.player?(this.youTubePlayer.setVolume(10*t),this.volume=t):"vimeo"===this.player&&this.vimeoPlayer.setVolume(t/10).then(function(){}),this.lastVolume=t},AblePlayer.prototype.getVolume=function(t){return"html5"===this.player?10*this.media.volume:"youtube"===this.player&&this.youTubePlayerReady?this.youTubePlayer.getVolume()/10:"vimeo"===this.player?this.volume:void 0},AblePlayer.prototype.getVolumeName=function(t){return 0==t?"mute":10==t?"loud":t<5?"soft":"medium"}}(jQuery),function(d){var u="a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]";window.AccessibleDialog=function(t,e,i,s,a,n,r,o,l,h){this.title=a,this.closeButtonLabel=r,this.focusedElementBeforeModal=e,this.escapeHook=h,this.baseId=d(t).attr("id")||Math.floor(1e9*Math.random()).toString();var p=this,c=t;(this.modal=c).css({width:o||"50%"}),c.addClass("able-modal-dialog"),l||((r=d("<button>",{class:"modalCloseButton",title:p.closeButtonLabel,"aria-label":p.closeButtonLabel}).text("X")).keydown(function(t){32===t.which&&p.hide()}).click(function(){p.hide()}),(e=d("<h1></h1>")).attr("id","modalTitle-"+this.baseId),e.css("text-align","center"),e.text(a),this.titleH1=e,c.attr({"aria-labelledby":"modalTitle-"+this.baseId}),c.prepend(e),c.prepend(r)),c.attr({"aria-hidden":"true",role:i}),s&&c.attr("aria-modal","true"),c.keydown(function(t){if(27===t.which)p.escapeHook?p.escapeHook(t,this):(p.hide(),t.preventDefault());else if(9===t.which){var e=c.find("*").filter(u).filter(":visible");if(0===e.length)return;var i=d(":focus"),i=e.index(i);t.shiftKey?0===i&&(e.get(e.length-1).focus(),t.preventDefault()):i===e.length-1&&(e.get(0).focus(),t.preventDefault())}t.stopPropagation()}),d("body > *").not(".able-modal-overlay").not(".able-modal-dialog").removeAttr("aria-hidden")},AccessibleDialog.prototype.show=function(){var t;this.overlay||(t=d("<div></div>").attr({class:"able-modal-overlay",tabindex:"-1"}),this.overlay=t,d("body").append(t),t.on("mousedown.accessibleModal",function(t){t.preventDefault()})),d("body > *").not(".able-modal-overlay").not(".able-modal-dialog").attr("aria-hidden","true"),this.overlay.css("display","block"),this.modal.css("display","block"),this.modal.attr({"aria-hidden":"false",tabindex:"-1"});0===this.modal.find("*").filter(u).filter(":visible").length&&this.focusedElementBeforeModal.blur();var e=this;setTimeout(function(){e.modal.find("button.modalCloseButton").first().focus()},300)},AccessibleDialog.prototype.hide=function(){this.overlay&&this.overlay.css("display","none"),this.modal.css("display","none"),this.modal.attr("aria-hidden","true"),d("body > *").not(".able-modal-overlay").not(".able-modal-dialog").removeAttr("aria-hidden"),this.focusedElementBeforeModal.focus()},AccessibleDialog.prototype.getInputs=function(){return!!this.modal&&this.modal.find("input")}}(jQuery),function(n){AblePlayer.prototype.getNextHeadingLevel=function(t){var e,i,s,a;return t.parents().each(function(){if(e=n(this).children(":header"),i=e.length)return s=e.eq(i-1).prop("tagName"),!1}),void 0===s?a=1:(a=parseInt(s[1]),6<(a+=1)&&(a=6)),a},AblePlayer.prototype.countProperties=function(t){var e,i=0;for(e in t)t.hasOwnProperty(e)&&++i;return i},AblePlayer.prototype.formatSecondsAsColonTime=function(t,e){var i,s,a,n,r;if(e)if(2===(s=t.toString().split(".")).length){if((a=s[1]).length<3)for(n=3-a.length,r=1;r<=n;r++)a+="0"}else a="000";return s=Math.floor(t/3600),i=Math.floor(t/60)%60,(t=Math.floor(t%60))<10&&(t="0"+t),0<s?(i<10&&(i="0"+i),e?s+":"+i+":"+t+"."+a:s+":"+i+":"+t):e?(s<1?s="00":s<10&&(s="0"+s),i<1?i="00":i<10&&(i="0"+i),s+":"+i+":"+t+"."+a):i+":"+t},AblePlayer.prototype.getSecondsFromColonTime=function(t){t=t.split(":");return 3===t.length?3600*parseInt(t[0])+60*parseInt(t[1])+parseFloat(t[2]):2===t.length?60*parseInt(t[0])+parseFloat(t[1]):1===t.length?parseFloat(t[0]):void 0},AblePlayer.prototype.capitalizeFirstLetter=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},AblePlayer.prototype.roundDown=function(t,e){return Number(Math.floor(t+"e"+e)+"e-"+e)},AblePlayer.prototype.hasAttr=function(t,e){t=t.attr(e);return void 0!==t&&!1!==t},Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}}(jQuery),function(c){AblePlayer.prototype.initDescription=function(){var t=new c.Deferred,e=t.promise();return"audio"===this.mediaType&&t.resolve(),this.descFile=this.$sources.first().attr("data-desc-src"),void 0!==this.descFile||this.youTubeDescId||this.vimeoDescId?this.hasOpenDesc=!0:this.hasOpenDesc=!1,this.hasOpenDesc&&this.hasClosedDesc?this.prefDescMethod?this.descMethod=this.prefDescMethod:this.descMethod="video":this.hasOpenDesc?this.descMethod="video":this.hasClosedDesc?this.descMethod="text":this.descMethod=null,this.descMethod&&(1===this.prefDesc||0!==this.prefDesc&&1===this.defaultStateDescriptions)?this.descOn=!0:this.descOn=!1,void 0===this.$descDiv&&this.hasClosedDesc&&"text"===this.descMethod&&this.injectTextDescriptionArea(),this.descOn?("video"!==this.descMethod||this.usingDescribedVersion()||this.swapDescription(),this.hasClosedDesc&&(this.prefDescVisible?void 0!==this.$descDiv&&(this.$descDiv.show(),this.$descDiv.removeClass("able-clipped")):void 0!==this.$descDiv&&this.$descDiv.addClass("able-clipped"))):"video"===this.descMethod?this.usingDescribedVersion()&&this.swapDescription():"text"===this.descMethod&&void 0!==this.$descDiv&&(this.$descDiv.hide(),this.$descDiv.removeClass("able-clipped")),t.resolve(),e},AblePlayer.prototype.usingDescribedVersion=function(){return"youtube"===this.player?this.activeYouTubeId===this.youTubeDescId:"vimeo"===this.player?this.activeVimeoId===this.vimeoDescId:this.$sources.first().attr("data-desc-src")===this.$sources.first().attr("src")},AblePlayer.prototype.initSpeech=function(t){var e=this;null===this.speechEnabled&&(void 0!==this.synth&&this.synth.cancel(),window.speechSynthesis?(this.synth=window.speechSynthesis,"init"===t?(c(document).on("click",function(){var t=new SpeechSynthesisUtterance("Hi!");t.volume=0,t.rate=10,e.synth.speak(t),t.onstart=function(t){c(document).off("click")},t.onend=function(t){e.getBrowserVoices(),e.descVoices.length&&(e.speechEnabled=!0)}}),this.getBrowserVoices(),this.descVoices.length&&(this.speechEnabled=!0)):((t=new SpeechSynthesisUtterance("Hi!")).volume=0,t.rate=10,e.synth.speak(t),t.onstart=function(t){c(document).off("click")},t.onend=function(t){e.getBrowserVoices(),e.descVoices.length&&(e.speechEnabled=!0)})):this.speechEnabled=!1)},AblePlayer.prototype.getBrowserVoices=function(){var t,e,i,s=(this.captionLang||this.lang).substring(0,2).toLowerCase();if(this.descVoices=[],t=this.synth.getVoices(),e=this.getDescriptionLangs(),0<t.length){this.descVoices=[];for(var a=0;a<t.length;a++)(i=t[a].lang.substring(0,2).toLowerCase())===s&&-1!==e.indexOf(i)&&this.descVoices.push(t[a]);this.descVoices.length||(this.descVoices=t)}return!1},AblePlayer.prototype.getDescriptionLangs=function(){var t=[];if(this.tracks)for(var e=0;e<this.tracks.length;e++)"descriptions"===this.tracks[e].kind&&t.push(this.tracks[e].language.substring(0,2).toLowerCase());return t},AblePlayer.prototype.setDescriptionVoice=function(){var t,e,i,s=void 0!==this.getCookie().voices?this.getPrefDescVoice():null;if(this.getBrowserVoices(),this.rebuildDescPrefsForm(),i=this.selectedDescriptions?this.selectedDescriptions.language:this.captionLang||this.lang,this.synth&&0<(t=this.synth.getVoices()).length){if(s)for(var a=!1,n=0;n<t.length;n++)if(t[n].lang.substring(0,2).toLowerCase()===i.substring(0,2).toLowerCase()&&t[n].name===s){e=t[n].name,a=!0;break}if(!a)for(n=0;n<t.length;n++)if(t[n].lang.substring(0,2).toLowerCase()===i.substring(0,2).toLowerCase()){e=t[n].name;break}this.prefDescVoice=e,this.prefDescVoiceLang=i,this.$voiceSelectField&&(this.$voiceSelectField.find('option[value="'+this.prefDescVoice+'"]'),this.$voiceSelectField.val(this.prefDescVoice)),this.updateCookie("voice")}},AblePlayer.prototype.swapDescription=function(){var t,e,i,s=this;if(this.loadingMedia=!1,this.$focusedElement=c(":focus"),0<this.elapsed?this.swapTime=this.elapsed:this.swapTime=0,0<this.duration&&(this.prevDuration=this.duration),this.okToPlay||(this.okToPlay=this.playing),this.descOn?this.showAlert(this.tt.alertDescribedVersion):this.showAlert(this.tt.alertNonDescribedVersion),"html5"===this.player){if(this.swappingSrc=!0,this.paused=!0,this.usingDescribedVersion())for(t=0;t<this.$sources.length;t++)e=this.$sources[t].getAttribute("data-orig-src"),this.$sources[t].getAttribute("type"),e&&this.$sources[t].setAttribute("src",e);else for(t=0;t<this.$sources.length;t++)e=this.$sources[t].getAttribute("src"),i=this.$sources[t].getAttribute("data-desc-src"),this.$sources[t].getAttribute("type"),i&&(this.$sources[t].setAttribute("src",i),this.$sources[t].setAttribute("data-orig-src",e));this.recreatingPlayer||this.playerCreated&&(this.deletePlayer("swap-desc-html"),this.recreatePlayer().then(function(){s.loadingMedia||(s.media.load(),s.loadingMedia=!0)}))}else"youtube"===this.player?(this.usingDescribedVersion()?this.activeYouTubeId=this.youTubeId:this.activeYouTubeId=this.youTubeDescId,void 0!==this.youTubePlayer&&(s.swappingSrc=!0,s.playing?s.youTubePlayer.loadVideoById(s.activeYouTubeId,s.swapTime):s.youTubePlayer.cueVideoById(s.activeYouTubeId,s.swapTime)),this.playerCreated&&this.deletePlayer("swap-desc-youtube"),this.recreatingPlayer||this.recreatePlayer().then(function(){})):"vimeo"===this.player&&(this.usingDescribedVersion()?(this.activeVimeoId=this.vimeoId,this.showAlert(this.tt.alertNonDescribedVersion)):(this.activeVimeoId=this.vimeoDescId,this.showAlert(this.tt.alertDescribedVersion)),this.playerCreated&&this.deletePlayer("swap-desc-vimeo"),this.recreatingPlayer||this.recreatePlayer().then(function(){s.vimeoPlayer.loadVideo(s.activeVimeoId).then(function(){s.playing?s.vimeoPlayer.setCurrentTime(s.swapTime):s.vimeoPlayer.pause()})}))},AblePlayer.prototype.showDescription=function(t){if(this.hasClosedDesc&&!this.swappingSrc&&this.descOn&&"video"!==this.descMethod){for(var e,i,s=function(t){var e=[];if("string"===t.type)e.push(t.value);else for(var i=0;i<t.children.length;i++)e.push(s(t.children[i]));return e.join("")},a=this.selectedDescriptions?this.selectedDescriptions.cues:1<=this.descriptions.length?this.descriptions[0].cues:[],n=0;n<a.length;n++)if(a[n].start<=t&&a[n].end>t){e=n;break}void 0!==e?this.currentDescription!==e&&(this.$status.removeAttr("aria-live"),i=s(a[e].components),"screenreader"!==this.descReader&&this.speechEnabled?(this.announceDescriptionText("description",i),this.prefDescVisible&&this.$descDiv.html(i).removeAttr("aria-live aria-atomic")):this.$descDiv.html(i),this.prefDescPause&&"text"===this.descMethod&&(this.pauseMedia(),this.pausedForDescription=!0),this.currentDescription=e):(this.$descDiv.html(""),this.currentDescription=-1,this.$status.attr("aria-live","polite"))}},AblePlayer.prototype.syncSpeechToPlaybackRate=function(t){var e;.5===t?e=.7:.75===t?e=.8:1===t?e=1:1.25===t?e=1.1:1.5===t?e=1.2:1.75===t?e=1.5:2===t?e=2:2.25===t?e=2.5:2.5<=t&&(e=3),this.prefDescRate=e},AblePlayer.prototype.announceDescriptionText=function(e,t){var i,s,a,n,r,o,l,h,p=this;if(this.speechEnabled||this.initSpeech("desc"),o="sample"===e?(i=c("#"+this.mediaId+"_prefDescVoice").val(),n=c("#"+this.mediaId+"_prefDescPitch").val(),r=c("#"+this.mediaId+"_prefDescRate").val(),c("#"+this.mediaId+"_prefDescVolume").val()):(i=this.prefDescVoice,n=this.prefDescPitch,r=this.prefDescRate,this.prefDescVolume),this.descVoices&&0<this.descVoices.length){if(i)for(s=0;s<this.descVoices.length;s++)if(this.descVoices[s].name==i){a=this.descVoices[s];break}void 0===a&&(a=this.descVoices[0]),(l=new SpeechSynthesisUtterance).voice=a,l.voiceURI="native",l.volume=o,l.rate=r,l.pitch=n,l.text=t,l.lang=this.lang,l.onstart=function(t){},l.onpause=function(t){},l.onend=function(t){this.speakingDescription=!1,h=t.elapsedTime,(100<h?t.elapsedTime/1e3:t.elapsedTime).toFixed(2),this.debug,"description"===e&&p.prefDescPause&&p.pausedForDescription&&(p.playMedia(),this.pausedForDescription=!1)},l.onerror=function(t){},this.synth.paused&&this.synth.resume(),this.synth.speak(l),this.speakingDescription=!0}}}(jQuery),jQuery,AblePlayer.prototype.isIOS=function(t){var e=navigator.userAgent.toLowerCase();return!!/ipad|iphone|ipod/.exec(e)&&(void 0===t||-1!==e.indexOf("os "+t))},AblePlayer.prototype.browserSupportsVolume=function(){var t;return!this.isIOS()&&((t=new Audio).volume=.9)===t.volume},AblePlayer.prototype.nativeFullscreenSupported=function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullscreenEnabled||document.msFullscreenEnabled},function(p){AblePlayer.prototype.seekTo=function(t){var e,i=this;this.seekFromTime=this.media.currentTime,this.seekToTime=t,this.seeking=!0,this.liveUpdatePending=!0,this.speakingDescription&&this.synth.cancel(),"html5"===this.player?(this.startTime=t,0<(e=this.media.seekable).length&&this.startTime>=e.start(0)&&this.startTime<=e.end(0)&&(this.media.currentTime=this.startTime,this.seekStatus="complete",this.hasSignLanguage)&&this.signVideo&&(this.signVideo.currentTime=this.startTime)):"youtube"===this.player?(this.youTubePlayer.seekTo(t,!0),0<t&&void 0!==this.$posterImg&&this.$posterImg.hide()):"vimeo"===this.player&&this.vimeoPlayer.setCurrentTime(t).then(function(){i.elapsed=t,i.refreshControls("timeline")}),this.refreshControls("timeline")},AblePlayer.prototype.getMediaTimes=function(t,e){var i={},s=new p.Deferred,a=s.promise(),n=this;return void 0!==t&&void 0!==e?(i.duration=t,i.elapsed=e,s.resolve(i)):this.getDuration().then(function(t){i.duration=n.roundDown(t,6),n.getElapsed().then(function(t){i.elapsed=n.roundDown(t,6),s.resolve(i)})}),a},AblePlayer.prototype.getDuration=function(){var t,e=new p.Deferred,i=e.promise();return"vimeo"===this.player?this.vimeoPlayer?this.vimeoPlayer.getDuration().then(function(t){void 0===t||isNaN(t)||-1===t?e.resolve(0):e.resolve(t)}):e.resolve(0):("html5"===this.player?t=this.media.duration:"youtube"===this.player&&(t=this.youTubePlayerReady?0<this.duration?this.duration:this.youTubePlayer.getDuration():0),void 0===t||isNaN(t)||-1===t?e.resolve(0):e.resolve(t)),i},AblePlayer.prototype.getElapsed=function(){var t,e=new p.Deferred,i=e.promise();return"vimeo"===this.player?this.vimeoPlayer?this.vimeoPlayer.getCurrentTime().then(function(t){void 0===t||isNaN(t)||-1===t?e.resolve(0):e.resolve(t)}):e.resolve(0):("html5"===this.player?t=this.media.currentTime:"youtube"===this.player&&(t=this.youTubePlayerReady?this.youTubePlayer.getCurrentTime():0),void 0===t||isNaN(t)||-1===t?e.resolve(0):e.resolve(t)),i},AblePlayer.prototype.getPlayerState=function(){var t,e=new p.Deferred,i=e.promise(),s=this;return"html5"===this.player?this.media.ended?e.resolve("ended"):this.media.paused?e.resolve("paused"):4!==this.media.readyState?e.resolve("buffering"):e.resolve("playing"):"youtube"===this.player&&this.youTubePlayerReady?-1===(t=this.youTubePlayer.getPlayerState())||5===t?e.resolve("stopped"):0===t?e.resolve("ended"):1===t?e.resolve("playing"):2===t?e.resolve("paused"):3===t&&e.resolve("buffering"):"vimeo"===this.player&&this.vimeoPlayer&&this.vimeoPlayer.getPaused().then(function(t){t?e.resolve("paused"):s.vimeoPlayer.getEnded().then(function(t){t?e.resolve("ended"):e.resolve("playing")})}),i},AblePlayer.prototype.isPlaybackRateSupported=function(){return"html5"===this.player?!!this.media.playbackRate:"youtube"===this.player?!!this.youTubePlayerReady&&1<this.youTubePlayer.getAvailablePlaybackRates().length:"vimeo"===this.player?this.vimeoSupportsPlaybackRateChange:void 0},AblePlayer.prototype.setPlaybackRate=function(t){t=Math.max(.5,t),this.hasClosedDesc&&"text"===this.descMethod&&this.syncSpeechToPlaybackRate(t),"html5"===this.player?this.media.playbackRate=t:"youtube"===this.player?this.youTubePlayer.setPlaybackRate(t):"vimeo"===this.player&&this.vimeoPlayer.setPlaybackRate(t),this.hasSignLanguage&&this.signVideo&&(this.signVideo.playbackRate=t),this.playbackRate=t,this.$speed.text(this.tt.speed+": "+t.toFixed(2).toString()+"x")},AblePlayer.prototype.getPlaybackRate=function(){return"html5"===this.player?this.media.playbackRate:"youtube"===this.player&&this.youTubePlayerReady?this.youTubePlayer.getPlaybackRate():void 0},AblePlayer.prototype.isPaused=function(){if("vimeo"===this.player)return!this.playing;this.getPlayerState().then(function(t){return"paused"===t||"stopped"===t||"ended"===t})},AblePlayer.prototype.pauseMedia=function(){"html5"===this.player?(this.media.pause(!0),this.hasSignLanguage&&this.signVideo&&this.signVideo.pause(!0)):"youtube"===this.player?this.youTubePlayer.pauseVideo():"vimeo"===this.player&&this.vimeoPlayer.pause()},AblePlayer.prototype.playMedia=function(){"html5"===this.player?(this.media.play(!0),this.hasSignLanguage&&this.signVideo&&this.signVideo.play(!0)):"youtube"===this.player?(this.youTubePlayer.playVideo(),void 0!==this.$posterImg&&this.$posterImg.hide(),this.stoppingYouTube=!1):"vimeo"===this.player&&this.vimeoPlayer.play(),this.startedPlaying=!0,this.hideControls&&(this.hidingControls=!0,this.invokeHideControlsTimeout())},AblePlayer.prototype.fadeControls=function(t){"out"==t?(this.$mediaContainer.height(),this.$playerDiv.height(),this.$playerDiv.fadeTo(2e3,0,function(){})):"in"==t&&this.$playerDiv.fadeTo(100,1)},AblePlayer.prototype.invokeHideControlsTimeout=function(){var t=this;this.hideControlsTimeout=window.setTimeout(function(){void 0!==t.playing&&!0===t.playing&&t.hideControls&&(t.fadeControls("out"),t.controlsHidden=!0)},5e3),this.hideControlsTimeoutStatus="active"},AblePlayer.prototype.refreshControls=function(e,t,i){var s,a,n,r,o,l,h;e="init",(s=this).swappingSrc&&this.playing||void 0===this.duration||(this.useChapterTimes&&(this.chapterDuration=this.getChapterDuration(),this.chapterElapsed=this.getChapterElapsed()),!1===this.useFixedSeekInterval&&!1===this.seekIntervalCalculated&&0<this.duration&&this.setSeekInterval(),this.seekBar&&(this.useChapterTimes?(o=this.selectedChapters.cues.length-1,this.selectedChapters.cues[o]==this.currentChapter&&this.currentChapter.end!==this.duration?this.seekBar.setDuration(this.duration-this.currentChapter.start):this.seekBar.setDuration(this.chapterDuration)):void 0===this.duration||isNaN(this.duration)||-1===this.duration||this.seekBar.setDuration(this.duration),this.seekBar.tracking||(o=this.liveUpdatePending||this.seekBar.seekHead.is(p(document.activeElement)),this.liveUpdatePending=!1,this.useChapterTimes?this.seekBar.setPosition(this.chapterElapsed,o):this.seekBar.setPosition(this.elapsed,o)),o=this.seekBar.tracking?this.seekBar.lastTrackPosition:this.useChapterTimes?this.chapterElapsed:this.elapsed),void 0!==this.$durationContainer&&(this.useChapterTimes?this.$durationContainer.text(" / "+this.formatSecondsAsColonTime(this.chapterDuration)):this.$durationContainer.text(" / "+this.formatSecondsAsColonTime(this.duration))),void 0!==this.$elapsedTimeContainer&&this.$elapsedTimeContainer.text(this.formatSecondsAsColonTime(o)),"legacy"===this.skin&&this.seekBar&&(r=0,l=(o=this.seekBar.wrapperDiv.parent().prev("div.able-left-controls")).next("div.able-right-controls"),o.children().each(function(){"button"==p(this).attr("role")&&(r+=p(this).outerWidth(!0))}),l.children().each(function(){"button"==p(this).attr("role")&&(r+=p(this).outerWidth(!0))}),o=this.fullscreen?p(window).width()-r:this.$ableWrapper.width()-r-5,5<Math.abs(o-this.seekBar.getWidth()))&&this.seekBar.setWidth(o),"html5"===this.player?0<this.media.buffered.length&&(l=this.media.buffered.end(0),this.useChapterTimes?(l>this.chapterDuration&&(l=this.chapterDuration),this.seekBar&&this.seekBar.setBuffered(l/this.chapterDuration)):this.seekBar&&!isNaN(l)&&this.seekBar.setBuffered(l/t)):"youtube"===this.player?this.seekBar&&this.youTubePlayerReady&&this.seekBar.setBuffered(this.youTubePlayer.getVideoLoadedFraction()):this.player,this.$descButton&&(this.descOn?(this.$descButton.removeClass("buttonOff").attr("aria-label",this.tt.turnOffDescriptions),this.$descButton.find("span.able-clipped").text(this.tt.turnOffDescriptions)):(this.$descButton.addClass("buttonOff").attr("aria-label",this.tt.turnOnDescriptions),this.$descButton.find("span.able-clipped").text(this.tt.turnOnDescriptions))),this.$ccButton&&(o=this.captions.length,this.captionsOn?(this.$ccButton.removeClass("buttonOff"),this.$ccButton.attr("aria-pressed","true"),1===o&&(this.$ccButton.attr("aria-label",this.tt.hideCaptions),this.$ccButton.find("span.able-clipped").text(this.tt.hideCaptions))):(this.$ccButton.addClass("buttonOff"),this.$ccButton.attr("aria-pressed","false"),1===o&&(this.$ccButton.attr("aria-label",this.tt.showCaptions),this.$ccButton.find("span.able-clipped").text(this.tt.showCaptions))),1<o)&&(this.$ccButton.attr({"aria-label":this.tt.captions,"aria-haspopup":"true","aria-controls":this.mediaId+"-captions-menu"}),this.$ccButton.find("span.able-clipped").text(this.tt.captions)),this.$fullscreenButton&&(this.fullscreen?(this.$fullscreenButton.attr("aria-label",this.tt.exitFullscreen),"font"===this.iconType?(this.$fullscreenButton.find("span").first().removeClass("icon-fullscreen-expand").addClass("icon-fullscreen-collapse"),this.$fullscreenButton.find("span.able-clipped").text(this.tt.exitFullscreen)):"svg"===this.iconType?(h=this.getSvgData("fullscreen-collapse"),this.$fullscreenButton.find("svg").attr("viewBox",h[0]),this.$fullscreenButton.find("path").attr("d",h[1]),this.$fullscreenButton.find("span.able-clipped").text(this.tt.exitFullscreen)):this.$fullscreenButton.find("img").attr("src",this.fullscreenCollapseButtonImg)):(this.$fullscreenButton.attr("aria-label",this.tt.enterFullscreen),"font"===this.iconType?(this.$fullscreenButton.find("span").first().removeClass("icon-fullscreen-collapse").addClass("icon-fullscreen-expand"),this.$fullscreenButton.find("span.able-clipped").text(this.tt.enterFullscreen)):"svg"===this.iconType?(h=this.getSvgData("fullscreen-expand"),this.$fullscreenButton.find("svg").attr("viewBox",h[0]),this.$fullscreenButton.find("path").attr("d",h[1]),this.$fullscreenButton.find("span.able-clipped").text(this.tt.enterFullscreen)):this.$fullscreenButton.find("img").attr("src",this.fullscreenExpandButtonImg))),void 0!==this.$bigPlayButton&&void 0!==this.seekBar&&(this.paused&&!this.seekBar.tracking?(this.hideBigPlayButton||(this.$bigPlayButton.show(),this.$bigPlayButton.attr("aria-hidden","false")),this.fullscreen?(this.$bigPlayButton.width(p(window).width()),this.$bigPlayButton.height(p(window).height())):(this.$bigPlayButton.width(this.$mediaContainer.width()),this.$bigPlayButton.height(this.$mediaContainer.height()))):(this.$bigPlayButton.hide(),this.$bigPlayButton.attr("aria-hidden","true"))),this.transcriptType&&(1===this.prefAutoScrollTranscript?(this.autoScrollTranscript=!0,this.$autoScrollTranscriptCheckbox.prop("checked",!0)):(this.autoScrollTranscript=!1,this.$autoScrollTranscriptCheckbox.prop("checked",!1)),this.autoScrollTranscript)&&this.currentHighlight&&(l=Math.floor(this.$transcriptDiv.scrollTop()+p(this.currentHighlight).position().top-this.$transcriptDiv.height()/2+p(this.currentHighlight).height()/2))!==Math.floor(this.$transcriptDiv.scrollTop())&&(this.scrollingTranscript=!0,this.movingHighlight)&&(this.$transcriptDiv.scrollTop(l),this.movingHighlight=!1),this.$chaptersButton&&this.$chaptersButton.attr({"aria-label":this.tt.chapters,"aria-haspopup":"true","aria-controls":this.mediaId+"-chapters-menu"}),a={stopped:this.tt.statusStopped,paused:this.tt.statusPaused,playing:this.tt.statusPlaying,buffering:this.tt.statusBuffering,ended:this.tt.statusEnd},this.stoppingYouTube?(this.$status.text()!==this.tt.statusStopped&&this.$status.text(this.tt.statusStopped),this.$playpauseButton.find("span").first().hasClass("icon-pause")&&("font"===this.iconType?(this.$playpauseButton.find("span").first().removeClass("icon-pause").addClass("icon-play"),this.$playpauseButton.find("span.able-clipped").text(this.tt.play)):"svg"===this.iconType?(h=this.getSvgData("play"),this.$playpauseButton.find("svg").attr("viewBox",h[0]),this.$playpauseButton.find("path").attr("d",h[1]),this.$playpauseButton.find("span.able-clipped").text(this.tt.play)):this.$playpauseButton.find("img").attr("src",this.playButtonImg))):void 0!==this.$status&&void 0!==this.seekBar&&this.getPlayerState().then(function(t){s.$status.text()===a[t]||s.seekBar.tracking?(s.statusDebounceStart=null,s.debouncingStatus=!1,clearTimeout(s.statusTimeout),s.statusTimeout=null):(s.swappingSrc?s.debouncingStatus||(s.statusMessageThreshold=2e3):s.debouncingStatus||(s.statusMessageThreshold=250),n=(new Date).getTime(),s.statusDebounceStart?n-s.statusDebounceStart>s.statusMessageThreshold&&(s.$status.text(a[t]),s.statusDebounceStart=null,clearTimeout(s.statusTimeout),s.statusTimeout=null):(s.statusDebounceStart=n,s.debouncingStatus=!0,s.statusTimeout=setTimeout(function(){s.debouncingStatus=!1,s.refreshControls(e)},s.statusMessageThreshold))),s.seekBar.tracking||s.stoppingYouTube||("paused"===t||"stopped"===t||"ended"===t?(s.$playpauseButton.attr("aria-label",s.tt.play),"font"===s.iconType?(s.$playpauseButton.find("span").first().removeClass("icon-pause").addClass("icon-play"),s.$playpauseButton.find("span.able-clipped").text(s.tt.play)):"svg"===s.iconType?(h=s.getSvgData("play"),s.$playpauseButton.find("svg").attr("viewBox",h[0]),s.$playpauseButton.find("path").attr("d",h[1]),s.$playpauseButton.find("span.able-clipped").text(s.tt.play)):s.$playpauseButton.find("img").attr("src",s.playButtonImg)):(s.$playpauseButton.attr("aria-label",s.tt.pause),"font"===s.iconType?(s.$playpauseButton.find("span").first().removeClass("icon-play").addClass("icon-pause"),s.$playpauseButton.find("span.able-clipped").text(s.tt.pause)):"svg"===s.iconType?(h=s.getSvgData("pause"),s.$playpauseButton.find("svg").attr("viewBox",h[0]),s.$playpauseButton.find("path").attr("d",h[1]),s.$playpauseButton.find("span.able-clipped").text(s.tt.pause)):s.$playpauseButton.find("img").attr("src",s.pauseButtonImg)))}),this.fullscreen)||(this.$statusBarDiv.height()+5<this.$statusBarDiv.find("span.able-speed").height()||(this.hidingSpeed&&(this.$statusBarDiv.find("span.able-speed").show(),this.hidingSpeed=!1),this.$statusBarDiv.width()<300)?(this.$statusBarDiv.find("span.able-speed").hide(),this.hidingSpeed=!0):this.hidingSpeed&&(this.$statusBarDiv.find("span.able-speed").show(),this.hidingSpeed=!1))},AblePlayer.prototype.getHiddenWidth=function(t){var t=t.clone().appendTo("body"),e=t.outerWidth();return t.remove(),e},AblePlayer.prototype.handlePlay=function(t){this.paused?(this.okToPlay=!0,this.playMedia(),this.synth.paused&&this.synth.resume()):(this.okToPlay=!1,this.pauseMedia(),this.speakingDescription&&this.synth.pause()),null===this.speechEnabled&&this.initSpeech("play")},AblePlayer.prototype.handleRestart=function(){this.speakingDescription&&this.synth.cancel(),this.seekTo(0)},AblePlayer.prototype.handlePrevTrack=function(){0===this.playlistIndex?this.playlistIndex=this.$playlist.length-1:this.playlistIndex--,this.cueingPlaylistItem=!0,this.cuePlaylistItem(this.playlistIndex)},AblePlayer.prototype.handleNextTrack=function(){this.playlistIndex===this.$playlist.length-1?this.playlistIndex=0:this.playlistIndex++,this.cueingPlaylistItem=!0,this.cuePlaylistItem(this.playlistIndex)},AblePlayer.prototype.handleRewind=function(){var t=this.elapsed-this.seekInterval;this.useChapterTimes?t<this.currentChapter.start&&(t=this.currentChapter.start):t<0&&(t=0),this.seekTo(t)},AblePlayer.prototype.handleFastForward=function(){var t=this.chapters.length-1,e=this.elapsed+this.seekInterval;this.useChapterTimes?this.chapters[t]==this.currentChapter?(e>this.duration||e>this.currentChapter.end||this.duration%e<this.seekInterval)&&(e=Math.min(this.duration,this.currentChapter.end)):e>this.currentChapter.end&&(e=this.currentChapter.end):e>this.duration&&(e=this.duration),this.seekTo(e)},AblePlayer.prototype.handleRateIncrease=function(){this.changeRate(1)},AblePlayer.prototype.handleRateDecrease=function(){this.changeRate(-1)},AblePlayer.prototype.changeRate=function(t){var e,i,s;"html5"===this.player?this.setPlaybackRate(this.getPlaybackRate()+.25*t):"youtube"===this.player?this.youTubePlayerReady&&(e=this.youTubePlayer.getAvailablePlaybackRates(),i=this.getPlaybackRate(),-1!==(i=e.indexOf(i)))&&(i+=t)<e.length&&0<=i&&this.setPlaybackRate(e[i]):"vimeo"===this.player&&(1===t?s=this.vimeoPlaybackRate+.5<=2?this.vimeoPlaybackRate+.5:2:-1===t&&(s=.5<=this.vimeoPlaybackRate-.5?this.vimeoPlaybackRate-.5:.5),this.setPlaybackRate(s))},AblePlayer.prototype.handleCaptionToggle=function(){var t,e=this;if(this.hidingPopup)return this.hidingPopup=!1;if(1===(t=this.captions.length?this.captions:[]).length){if(!0===this.captionsOn)this.captionsOn=!1,this.prefCaptions=0,this.$ccButton.attr("aria-pressed","false"),this.updateCookie("prefCaptions"),this.usingYouTubeCaptions?this.youTubePlayer.unloadModule("captions"):this.usingVimeoCaptions?this.vimeoPlayer.disableTextTrack():this.$captionsWrapper.hide();else{this.captionsOn=!0,this.prefCaptions=1,this.$ccButton.attr("aria-pressed","true"),this.updateCookie("prefCaptions"),this.usingYouTubeCaptions?this.youTubePlayer.loadModule("captions"):this.usingVimeoCaptions?this.vimeoPlayer.enableTextTrack(this.captionLang).then(function(t){}).catch(function(t){t.name}):this.$captionsWrapper.show();for(var i=0;i<t.length;i++)!0===t[i].def&&(this.selectedCaptions=t[i]);this.selectedCaptions=this.captions[0],0<=this.descriptions.length&&(this.selectedDescriptions=this.descriptions[0])}this.refreshControls("captions")}else this.captionsPopup&&this.captionsPopup.is(":visible")?(this.captionsPopup.hide(),this.hidingPopup=!1,this.$ccButton.attr("aria-expanded","false"),this.waitThenFocus(this.$ccButton)):(this.closePopups(),this.captionsPopup&&(this.captionsPopup.show(),this.$ccButton.attr("aria-expanded","true"),setTimeout(function(){e.captionsPopup.css("top",e.$ccButton.position().top-e.captionsPopup.outerHeight()),e.captionsPopup.css("left",e.$ccButton.position().left),e.captionsPopup.find("li").removeClass("able-focus"),e.captionsPopup.find("li").first().focus().addClass("able-focus")},50)))},AblePlayer.prototype.waitThenFocus=function(t,e){setTimeout(function(){t.focus()},null==e?50:e)},AblePlayer.prototype.handleChapters=function(){if(this.hidingPopup)return this.hidingPopup=!1;this.chaptersPopup.is(":visible")?(this.chaptersPopup.hide(),this.hidingPopup=!1,this.$chaptersButton.attr("aria-expanded","false").focus()):(this.closePopups(),this.chaptersPopup.show(),this.$chaptersButton.attr("aria-expanded","true"),this.chaptersPopup.css("top",this.$chaptersButton.position().top-this.chaptersPopup.outerHeight()),this.chaptersPopup.css("left",this.$chaptersButton.position().left),this.chaptersPopup.find("li").removeClass("able-focus"),this.chaptersPopup.find('li[aria-checked="true"]').length?this.chaptersPopup.find('li[aria-checked="true"]').focus().addClass("able-focus"):this.chaptersPopup.find("li").first().addClass("able-focus").attr("aria-checked","true").focus())},AblePlayer.prototype.handleDescriptionToggle=function(){this.descOn=!this.descOn,this.prefDesc=+this.descOn,this.updateCookie("prefDesc"),void 0===this.$descDiv||this.$descDiv.is(":hidden")||this.$descDiv.hide(),this.initDescription(),this.refreshControls("descriptions")},AblePlayer.prototype.handlePrefsClick=function(t){var e,i,s=this;if(null===this.speechEnabled&&this.initSpeech("prefs"),this.hidingPopup)return this.hidingPopup=!1;this.prefsPopup.is(":visible")?(this.prefsPopup.hide(),this.$prefsButton.attr("aria-expanded","false"),this.prefsPopup.find("li").removeClass("able-focus").attr("tabindex","-1"),this.showingPrefsDialog||this.$prefsButton.focus(),setTimeout(function(){s.hidingPopup=!1},100)):(this.closePopups(),this.prefsPopup.show(),this.$prefsButton.attr("aria-expanded","true"),this.$prefsButton.focus(),setTimeout(function(){e=s.$prefsButton.position(),i=s.$ableDiv.width()-5,i=i-s.prefsPopup.width(),s.prefsPopup.css("top",e.top-s.prefsPopup.outerHeight()),s.prefsPopup.css("left",i),s.prefsPopup.find("li").removeClass("able-focus").attr("tabindex","0"),s.prefsPopup.find("li").first().focus().addClass("able-focus")},50))},AblePlayer.prototype.handleHelpClick=function(){this.setFullscreen(!1),this.helpDialog.show()},AblePlayer.prototype.handleTranscriptToggle=function(){var t=this;this.$transcriptDiv.is(":visible")?(this.$transcriptArea.hide(),this.$transcriptButton.addClass("buttonOff").attr("aria-label",this.tt.showTranscript),this.$transcriptButton.find("span.able-clipped").text(this.tt.showTranscript),this.prefTranscript=0,this.$transcriptButton.focus().addClass("able-focus"),setTimeout(function(){t.closingTranscript=!1},100)):(this.positionDraggableWindow("transcript"),this.$transcriptArea.show(),this.$transcriptPopup.hide(),this.$transcriptButton.removeClass("buttonOff").attr("aria-label",this.tt.hideTranscript),this.$transcriptButton.find("span.able-clipped").text(this.tt.hideTranscript),this.prefTranscript=1,this.focusNotClick=!0,this.$transcriptArea.find("button").first().focus(),setTimeout(function(){t.focusNotClick=!1},100)),this.updateCookie("prefTranscript")},AblePlayer.prototype.handleSignToggle=function(){var t=this;this.$signWindow.is(":visible")?(this.$signWindow.hide(),this.$signButton.addClass("buttonOff").attr("aria-label",this.tt.showSign),this.$signButton.find("span.able-clipped").text(this.tt.showSign),this.prefSign=0,this.$signButton.focus().addClass("able-focus"),setTimeout(function(){t.closingSign=!1},100)):(this.positionDraggableWindow("sign"),this.$signWindow.show(),this.$signPopup.hide(),this.$signButton.removeClass("buttonOff").attr("aria-label",this.tt.hideSign),this.$signButton.find("span.able-clipped").text(this.tt.hideSign),this.prefSign=1,this.focusNotClick=!0,this.$signWindow.find("button").first().focus(),setTimeout(function(){t.focusNotClick=!1},100)),this.updateCookie("prefSign")},AblePlayer.prototype.isFullscreen=function(){return this.nativeFullscreenSupported()?!!(document.fullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullscreenElement||document.mozFullscreenElement||document.msFullscreenElement):!!this.modalFullscreenActive},AblePlayer.prototype.setFullscreen=function(t){var e,i,s,a;this.fullscreen!=t&&(s=(i=(e=this).$ableWrapper)[0],this.nativeFullscreenSupported()?t?(s.requestFullscreen?s.requestFullscreen():s.webkitRequestFullscreen?s.webkitRequestFullscreen():s.mozRequestFullscreen?s.mozRequestFullscreen():s.msRequestFullscreen&&s.msRequestFullscreen(),this.fullscreen=!0):(this.restoringAfterFullscreen=!0,document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.webkitCancelFullscreen?document.webkitCancelFullscreen():document.mozCancelFullscreen?document.mozCancelFullscreen():document.msExitFullscreen&&document.msExitFullscreen(),this.fullscreen=!1):(this.fullscreenDialog||(s=p("<div>"),a=p("<p>",{class:"able-screenreader-alert"}).text(this.tt.fullscreen),s.append(a),this.fullscreenDialog=new AccessibleDialog(s,this.$fullscreenButton,"dialog",!0,"Fullscreen video player",a,this.tt.exitFullscreen,"100%",!0,function(){e.handleFullscreenToggle()}),p("body").append(s)),a=this.paused,t?(this.modalFullscreenActive=!0,this.fullscreenDialog.show(),this.$modalFullscreenPlaceholder=p('<div class="placeholder">'),this.$modalFullscreenPlaceholder.insertAfter(i),i.appendTo(this.fullscreenDialog.modal),i===this.$ableColumnLeft&&i.width("100%"),p(window).height(),this.$playerDiv.height(),void 0===this.$descDiv||this.$descDiv.is(":hidden")||this.$descDiv.height()):(this.modalFullscreenActive=!1,i===this.$ableColumnLeft&&i.width("50%"),i.insertAfter(this.$modalFullscreenPlaceholder),this.$modalFullscreenPlaceholder.remove(),this.fullscreenDialog.hide()),!a&&this.paused&&this.playMedia()),p(document).on("webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange",function(t){e.fullscreen?e.clickedFullscreenButton||(e.fullscreen=!1,e.restoringAfterFullscreen=!0):e.restoringAfterFullscreen=!0,e.resizePlayer(),e.refreshControls("fullscreen"),setTimeout(function(){e.clickedFullscreenButton=!1,e.restoringAfterFullscreen=!1},1e3)}))},AblePlayer.prototype.handleFullscreenToggle=function(){var t=this.paused;this.setFullscreen(!this.fullscreen),t?this.pauseMedia():this.playMedia(),this.fullscreen?(this.hideControls=!0,this.playing&&(this.fadeControls("out"),this.controlsHidden=!0)):(this.hideControls=this.hideControlsOriginal,this.hideControls||(this.controlsHidden&&(this.fadeControls("in"),this.controlsHidden=!1),"active"===this.hideControlsTimeoutStatus&&(window.clearTimeout(this.hideControlsTimeout),this.hideControlsTimeoutStatus="clear")))},AblePlayer.prototype.handleTranscriptLockToggle=function(t){this.autoScrollTranscript=t,this.prefAutoScrollTranscript=+t,this.updateCookie("prefAutoScrollTranscript"),this.refreshControls("transcript")},AblePlayer.prototype.showTooltip=function(t){(t.is(":animated")?t.stop(!0,!0):t.stop()).show()},AblePlayer.prototype.showAlert=function(t,e){var i,s,a;"transcript"===e?(i=this.$transcriptAlert,s=this.$transcriptArea):"sign"===e?(i=this.$signAlert,s=this.$signWindow):i="screenreader"===e?this.$srAlertBox:this.$alertBox,i.text(t).show(),"transcript"==e||"sign"===e?(t=s.width()>i.width()?s.width()/2-i.width()/2:10,"sign"===e?a=s.height()/3*2:"transcript"===e&&(a=this.$transcriptToolbar.height()+30),i.css({top:a+"px",left:t+"px"})):"screenreader"!==e&&i.css({left:this.$playerDiv.width()/2-i.width()/2}),"screenreader"!==e&&setTimeout(function(){i.fadeOut(300)},3e3)},AblePlayer.prototype.showedAlert=function(t){return"transcript"===t?!!this.showedTranscriptAlert:"sign"===t&&!!this.showedSignAlert},AblePlayer.prototype.resizePlayer=function(t,e){var i,s;"audio"!==this.mediaType&&(void 0!==t&&void 0!==e?(this.aspectRatio=e/t,this.playerWidth?(i=this.playerWidth,this.playerHeight?s=this.playerHeight:(s=Math.round(i*this.aspectRatio),this.playerHeight=s)):(i=("html5"===this.player?p(window):this.$ableWrapper).width(),s=Math.round(i*this.aspectRatio))):this.fullscreen?(this.$ableWrapper.addClass("fullscreen"),i=p(window).width(),s=p(window).height()-this.$playerDiv.outerHeight()-5,this.positionCaptions("overlay")):(this.$ableWrapper.removeClass("fullscreen"),i="html5"===this.player?this.playerWidth||p(window).width():this.$ableWrapper.width(),s=Math.round(i*this.aspectRatio),this.positionCaptions(this.prefCaptionsPosition)),this.debug,"youtube"===this.player||"vimeo"===this.player?(e=this.$ableWrapper.find("iframe"),"youtube"===this.player&&this.youTubePlayer?this.youTubePlayer.setSize(i,s):e.attr({width:i,height:s}),this.playerWidth&&this.playerHeight&&(this.fullscreen?e.css({"max-width":"","max-height":""}):e.css({"max-width":this.playerWidth+"px","max-height":this.playerHeight+"px"}))):"html5"===this.player&&(this.fullscreen?(this.$media.attr({width:i,height:s}),this.$ableWrapper.css({width:i,height:s})):(this.$media.removeAttr("width height"),this.$ableWrapper.css({width:i+"px",height:"auto"}))),void 0!==this.$captionsDiv&&(t=parseInt(this.prefCaptionsSize,10),this.fullscreen?t=t/100+"vw":t+="%",this.$captionsDiv.css({"font-size":t})),"video"===this.mediaType&&(e=2*Math.round(this.$mediaContainer.height()/3),this.$alertBox.css({top:e+"px"})),this.refreshControls())},AblePlayer.prototype.retrieveOffscreenWindow=function(t,e,i){var s,a,n,r,o,l;"transcript"==t?s=this.$transcriptArea:"sign"==t&&(s=this.$signWindow),t=s.width(),l=s.height(),a=(n=s.position()).top,r=(n=n.left)+t,o=a+l,a<0&&s.css("top",a=10),n<0&&s.css("left",n=10),e<r&&s.css("left",n=e-20-t),i<o&&s.css("top",a=i-10-l)},AblePlayer.prototype.getHighestZIndex=function(){var t,e=0;return p("body *").not(".able-modal-dialog,.able-modal-dialog *,.able-modal-overlay,.able-modal-overlay *,.able-sign-window,.able-transcript-area").each(function(){t=p(this).css("z-index"),Number.isInteger(+t)&&parseInt(t)>e&&(e=parseInt(t))}),e},AblePlayer.prototype.updateZIndex=function(t){var e,i,s,a;this.getHighestZIndex();if(void 0===this.$transcriptArea||void 0===this.$signWindow)return void 0!==this.$transcriptArea?7e3<(e=parseInt(this.$transcriptArea.css("z-index")))&&this.$transcriptArea.css("z-index",7e3):void 0!==this.$signWindow&&8e3<(i=parseInt(this.$signWindow.css("z-index")))&&this.$signWindow.css("z-index",8e3),!1;if((e=parseInt(this.$transcriptArea.css("z-index")))===(i=parseInt(this.$signWindow.css("z-index"))))s=8e3,a=7e3;else if(i<e){if("transcript"===t)return!1;s=e,a=i}else{if("sign"===t)return!1;s=i,a=e}"transcript"===t?(this.$transcriptArea.css("z-index",s),this.$signWindow.css("z-index",a)):"sign"===t&&(this.$signWindow.css("z-index",s),this.$transcriptArea.css("z-index",a))},AblePlayer.prototype.syncTrackLanguages=function(t,e){for(var i,s,a,n,r=0;r<this.captions.length;r++)this.captions[r].language===e&&(i=this.captions[r]);for(r=0;r<this.chapters.length;r++)this.chapters[r].language===e&&(a=this.chapters[r]);for(r=0;r<this.descriptions.length;r++)this.descriptions[r].language===e&&(s=this.descriptions[r]);for(r=0;r<this.meta.length;r++)this.meta[r].language===e&&(n=this.meta[r]);if(this.transcriptLang=e,"init"===t||"captions"===t?(this.captionLang=e,this.selectedCaptions=i,this.selectedChapters=a,this.selectedDescriptions=s,this.selectedMeta=n,this.transcriptCaptions=i,this.transcriptChapters=a,this.transcriptDescriptions=s,this.updateChaptersList()):"transcript"===t&&(this.transcriptCaptions=i,this.transcriptChapters=a,this.transcriptDescriptions=s),this.selectedDescriptions&&(this.setDescriptionVoice(),this.$sampleDescDiv)&&this.sampleText)for(r=0;r<this.sampleText.length;r++)this.sampleText[r].lang===this.selectedDescriptions.language&&(this.currentSampleText=this.sampleText[r].text,this.$sampleDescDiv.html(this.currentSampleText));this.updateTranscript()}}(jQuery),function(s){AblePlayer.prototype.updateCaption=function(t){this.usingYouTubeCaptions||this.usingVimeoCaptions||void 0===this.$captionsWrapper||(this.captionsOn?(this.$captionsWrapper.show(),void 0!==t&&this.showCaptions(t)):this.$captionsWrapper&&(this.$captionsWrapper.hide(),this.prefCaptions=0))},AblePlayer.prototype.updateCaptionsMenu=function(t){this.captionsPopup.find("li").attr("aria-checked","false"),(void 0===t?this.captionsPopup.find("li").last():this.captionsPopup.find("li[lang="+t+"]")).attr("aria-checked","true")},AblePlayer.prototype.getCaptionClickFunction=function(t){var e=this;return function(){e.selectedCaptions=t,e.captionLang=t.language,e.currentCaption=-1,e.usingYouTubeCaptions?e.captionsOn?e.youTubePlayer.getOptions("captions")&&e.startedPlaying?e.youTubePlayer.setOption("captions","track",{languageCode:e.captionLang}):e.captionLangPending=e.captionLang:e.youTubePlayer.getOptions("captions")?e.youTubePlayer.setOption("captions","track",{languageCode:e.captionLang}):(e.youTubePlayer.loadModule("captions"),e.captionLangPending=e.captionLang):e.usingVimeoCaptions?e.vimeoPlayer.enableTextTrack(e.captionLang).then(function(t){}).catch(function(t){t.name}):(e.syncTrackLanguages("captions",e.captionLang),e.swappingSrc||(e.updateCaption(e.elapsed),e.showDescription(e.elapsed))),e.captionsOn=!0,e.hidingPopup=!0,e.captionsPopup.hide(),e.$ccButton.attr("aria-expanded","false"),"audio"===e.mediaType&&e.$captionsContainer.removeClass("captions-off"),setTimeout(function(){e.hidingPopup=!1},100),e.updateCaptionsMenu(e.captionLang),e.waitThenFocus(e.$ccButton),e.prefCaptions=1,e.updateCookie("prefCaptions"),e.refreshControls("captions")}},AblePlayer.prototype.getCaptionOffFunction=function(){var t=this;return function(){"youtube"==t.player?t.youTubePlayer.unloadModule("captions"):t.usingVimeoCaptions&&t.vimeoPlayer.disableTextTrack(),t.captionsOn=!1,t.currentCaption=-1,"audio"===t.mediaType&&t.$captionsContainer.addClass("captions-off"),t.hidingPopup=!0,t.captionsPopup.hide(),t.$ccButton.attr("aria-expanded","false"),setTimeout(function(){t.hidingPopup=!1},100),t.updateCaptionsMenu(),t.waitThenFocus(t.$ccButton),t.prefCaptions=0,t.updateCookie("prefCaptions"),this.swappingSrc||(t.refreshControls("captions"),t.updateCaption())}},AblePlayer.prototype.showCaptions=function(t){for(var e,i,s=this.selectedCaptions.cues.length?this.selectedCaptions.cues:1<=this.captions.length?this.captions[0].cues:[],a=0;a<s.length;a++)if(s[a].start<=t&&s[a].end>t){e=a;break}void 0!==e?this.currentCaption!==e&&(i=this.flattenCueForCaption(s[e]).replace("\n","<br>"),this.$captionsDiv.html(i),this.currentCaption=e,0===i.length?this.$captionsDiv.css("display","none"):this.$captionsDiv.css("display","inline-block")):(this.$captionsDiv.html("").css("display","none"),this.currentCaption=-1)},AblePlayer.prototype.flattenCueForCaption=function(t){function s(t){var e,i=[];if("string"===t.type)i.push(t.value);else if("v"===t.type)for(i.push("("+t.value+")"),e=0;e<t.children.length;e++)i.push(s(t.children[e]));else if("i"===t.type){for(i.push("<em>"),e=0;e<t.children.length;e++)i.push(s(t.children[e]));i.push("</em>")}else if("b"===t.type){for(i.push("<strong>"),e=0;e<t.children.length;e++)i.push(s(t.children[e]));i.push("</strong>")}else for(e=0;e<t.children.length;e++)i.push(s(t.children[e]));return i.join("")}var e=[];if(void 0!==t.components)for(var i=0;i<t.components.children.length;i++)e.push(s(t.components.children[i]));return e.join("")},AblePlayer.prototype.getCaptionsOptions=function(t){var e=[];switch(t){case"prefCaptionsFont":e[0]=["serif",this.tt.serif],e[1]=["sans-serif",this.tt.sans],e[2]=["cursive",this.tt.cursive],e[3]=["fantasy",this.tt.fantasy],e[4]=["monospace",this.tt.monospace];break;case"prefCaptionsColor":case"prefCaptionsBGColor":e[0]=["white",this.tt.white],e[1]=["yellow",this.tt.yellow],e[2]=["green",this.tt.green],e[3]=["cyan",this.tt.cyan],e[4]=["blue",this.tt.blue],e[5]=["magenta",this.tt.magenta],e[6]=["red",this.tt.red],e[7]=["black",this.tt.black];break;case"prefCaptionsSize":e[0]="75%",e[1]="100%",e[2]="125%",e[3]="150%",e[4]="200%";break;case"prefCaptionsOpacity":e[0]="0%",e[1]="25%",e[2]="50%",e[3]="75%",e[4]="100%";break;case"prefCaptionsStyle":e[0]=this.tt.captionsStylePopOn,e[1]=this.tt.captionsStyleRollUp;break;case"prefCaptionsPosition":e[0]="overlay",e[1]="below"}return e},AblePlayer.prototype.translatePrefs=function(t,e,i){if("youtube"==i&&"size"===t)switch(e){case"75%":return-1;case"100%":return 0;case"125%":return 1;case"150%":return 2;case"200%":return 3}return!1},AblePlayer.prototype.stylizeCaptions=function(t,e){var i;void 0!==t&&("prefCaptionsPosition"==e?this.positionCaptions():void 0!==e?("prefCaptionsFont"===e?i="font-family":"prefCaptionsSize"===e?i="font-size":"prefCaptionsColor"===e?i="color":"prefCaptionsBGColor"===e?i="background-color":"prefCaptionsOpacity"===e&&(i="opacity"),e="prefCaptionsOpacity"===e?parseFloat(s("#"+this.mediaId+"_"+e).val())/100:s("#"+this.mediaId+"_"+e).val(),t.css(i,e)):(i=parseFloat(this.prefCaptionsOpacity)/100,t.css({"font-family":this.prefCaptionsFont,color:this.prefCaptionsColor,"background-color":this.prefCaptionsBGColor,opacity:i}),t===this.$captionsDiv&&void 0!==this.$captionsDiv&&this.$captionsDiv.css({"font-size":this.prefCaptionsSize}),"below"===this.prefCaptionsPosition?void 0!==this.$captionsWrapper&&this.$captionsWrapper.css({"background-color":this.prefCaptionsBGColor,opacity:"1"}):"overlay"===this.prefCaptionsPosition&&void 0!==this.$captionsWrapper&&this.$captionsWrapper.css({"background-color":"transparent",opacity:""}),this.positionCaptions()))},AblePlayer.prototype.positionCaptions=function(t){void 0===t&&(t=this.prefCaptionsPosition),void 0!==this.$captionsWrapper&&("below"==t?(this.$captionsWrapper.removeClass("able-captions-overlay").addClass("able-captions-below"),this.$captionsWrapper.css({"background-color":this.prefCaptionsBGColor,opacity:"1"})):(this.$captionsWrapper.removeClass("able-captions-below").addClass("able-captions-overlay"),this.$captionsWrapper.css({"background-color":"transparent",opacity:""})))}}(jQuery),function(h){AblePlayer.prototype.populateChaptersDiv=function(){var t,e;h("#"+this.chaptersDivLocation)&&(this.$chaptersDiv=h("#"+this.chaptersDivLocation),this.$chaptersDiv.addClass("able-chapters-div"),this.$chaptersDiv.empty(),this.chaptersTitle&&(e="h"+this.getNextHeadingLevel(this.$chaptersDiv).toString(),t=this.mediaId+"-chapters-heading",e=h("<"+e+">",{class:"able-chapters-heading",id:t}).text(this.chaptersTitle),this.$chaptersDiv.append(e)),this.$chaptersNav=h("<nav>"),this.chaptersTitle?this.$chaptersNav.attr("aria-labelledby",t):this.$chaptersNav.attr("aria-label",this.tt.chapters),this.$chaptersDiv.append(this.$chaptersNav),this.updateChaptersList())},AblePlayer.prototype.updateChaptersList=function(){var t,e,i,s,a,n,r,o,l=this;if(this.$chaptersNav&&(void 0===this.useChapterTimes&&("chapter"===this.seekbarScope&&this.selectedChapters.cues.length?this.useChapterTimes=!0:this.useChapterTimes=!1),0<(t=this.useChapterTimes?this.selectedChapters.cues:1<=this.chapters.length?this.chapters[0].cues:[]).length)){for(o=h("<ul>"),e=0;e<t.length;e++)i=e,s=h("<li></li>"),(a=h("<button>",{type:"button",val:i}).text(this.flattenCueForCaption(t[i]))).on("click",function(t){return function(){l.seekTrigger="chapter",r=h(this).closest("li"),o=h(this).closest("ul").find("li"),o.index(r),o.removeClass("able-current-chapter").children("button").removeAttr("aria-current"),r.addClass("able-current-chapter").children("button").attr("aria-current","true"),l.updateChapter(t),l.seekTo(t)}}(t[i].start)),a.on("focus",function(){h(this).closest("ul").find("li").removeClass("able-focus"),h(this).closest("li").addClass("able-focus")}),s.on("hover",function(){h(this).closest("ul").find("li").removeClass("able-focus"),h(this).addClass("able-focus")}),s.on("mouseleave",function(){h(this).removeClass("able-focus")}),a.on("blur",function(){h(this).closest("li").removeClass("able-focus")}),s.append(a),o.append(s),this.defaultChapter===t[i].id&&(a.attr("aria-current","true").parent("li").addClass("able-current-chapter"),this.currentChapter=t[i],n=!0);n||(this.currentChapter=t[0],o.find("button").first().attr("aria-current","true").parent("li").addClass("able-current-chapter")),this.$chaptersNav.html(o)}return!1},AblePlayer.prototype.seekToChapter=function(t){for(var e=0;e<this.selectedChapters.cues.length;){if(this.selectedChapters.cues[e].id==t){this.seekTo(this.selectedChapters.cues[e].start),this.updateChapter(this.selectedChapters.cues[e].start);break}e++}},AblePlayer.prototype.updateChapter=function(t){if(void 0!==this.selectedChapters){for(var e,i=this.selectedChapters.cues,s=0;s<i.length;s++)if(i[s].start<=t&&i[s].end>t){e=s;break}void 0!==e&&this.currentChapter!==i[e]&&(this.currentChapter=i[e],this.useChapterTimes&&(this.chapterDuration=this.getChapterDuration(),this.seekIntervalCalculated=!1),void 0!==this.$chaptersDiv)&&(this.$chaptersDiv.find("ul").find("li").removeClass("able-current-chapter").children("button").removeAttr("aria-current"),this.$chaptersDiv.find("ul").find("li").eq(e).addClass("able-current-chapter").children("button").attr("aria-current","true"))}},AblePlayer.prototype.getChapterDuration=function(){var t,e;return void 0===this.currentChapter||void 0===this.duration?0:(t=this.selectedChapters.cues.length-1,this.selectedChapters.cues[t]==this.currentChapter&&this.currentChapter.end!==this.duration?(e=this.duration,this.currentChapter.end=this.duration):e=this.currentChapter.end,e-this.currentChapter.start)},AblePlayer.prototype.getChapterElapsed=function(){return void 0!==this.currentChapter&&this.elapsed>this.currentChapter.start?this.elapsed-this.currentChapter.start:0},AblePlayer.prototype.convertChapterTimeToVideoTime=function(t){var e;return void 0!==this.currentChapter?(e=this.currentChapter.start+t)>this.currentChapter.end?this.currentChapter.end:e:t},AblePlayer.prototype.getChapterClickFunction=function(t){var e=this;return function(){e.seekTrigger="chapter",e.seekTo(t),e.hidingPopup=!0,e.chaptersPopup.hide(),setTimeout(function(){e.hidingPopup=!1},100),e.$chaptersButton.focus()}}}(jQuery),function(h){AblePlayer.prototype.updateMeta=function(t){this.hasMeta&&("text"===this.metaType&&this.$metaDiv.show(),this.showMeta(t||this.elapsed))},AblePlayer.prototype.showMeta=function(t){for(var e,i,s,a,n,r=[],o=1<=this.meta.length?this.meta:[],l=0;l<o.length;l++)if(o[l].start<=t&&o[l].end>t){e=l;break}if(void 0!==e){if(this.currentMeta!==e)if("text"===this.metaType)this.$metaDiv.html(this.flattenCueForMeta(o[e]).replace("\n","<br>"));else if("selector"===this.metaType){for(i=this.flattenCueForMeta(o[e]).split("\n"),s=0;s<i.length;s++)"pause"===(a=h.trim(i[s])).toLowerCase().trim()?(this.hideBigPlayButton=!0,this.pauseMedia()):"focus:"==a.toLowerCase().substring(0,6)?(n=a.substring(6).trim(),h(n).length&&h(n).focus()):h(a).length&&(this.currentMeta=e,void 0===(n=parseInt(h(a).attr("data-duration")))||isNaN(n)?h(a).show():h(a).show().delay(n).fadeOut(),this.visibleSelectors.push(a),r.push(a));if(this.visibleSelectors&&this.visibleSelectors.length&&this.visibleSelectors.length!==r.length)for(s=this.visibleSelectors.length-1;0<=s;s--)-1==h.inArray(this.visibleSelectors[s],r)&&(h(this.visibleSelectors[s]).hide(),this.visibleSelectors.splice(s,1))}}else{if(void 0!==this.$metaDiv&&this.$metaDiv.html(""),this.visibleSelectors&&this.visibleSelectors.length){for(s=0;s<this.visibleSelectors.length;s++)h(this.visibleSelectors[s]).hide();this.visibleSelectors=[]}this.currentMeta=-1}},AblePlayer.prototype.flattenCueForMeta=function(t){for(var e=[],s=function(t){var e,i=[];if("string"===t.type)i.push(t.value);else if("v"===t.type)for(i.push("["+t.value+"]"),e=0;e<t.children.length;e++)i.push(s(t.children[e]));else for(e=0;e<t.children.length;e++)i.push(s(t.children[e]));return i.join("")},i=0;i<t.components.children.length;i++)e.push(s(t.components.children[i]));return e.join("")}}(jQuery),function(v){AblePlayer.prototype.setupTranscript=function(){var t=new v.Deferred,e=t.promise();return this.usingYouTubeCaptions||this.usingVimeoCaptions?(this.transcriptType=null,t.resolve()):(this.transcriptType||this.captions.length&&(this.transcriptType="popup"),this.transcriptType?"popup"===this.transcriptType||"external"===this.transcriptType?(this.injectTranscriptArea(),t.resolve()):"manual"===this.transcriptType&&(this.setupManualTranscript(),t.resolve()):t.resolve()),e},AblePlayer.prototype.injectTranscriptArea=function(){var t,e,i,s,a;if(this.$transcriptArea=v("<div>",{class:"able-transcript-area",role:"dialog","aria-label":this.tt.transcriptTitle}),this.$transcriptToolbar=v("<div>",{class:"able-window-toolbar able-"+this.toolbarIconColor+"-controls"}),this.$transcriptDiv=v("<div>",{class:"able-transcript"}),this.$autoScrollTranscriptCheckbox=v("<input>",{id:"autoscroll-transcript-checkbox-"+this.mediaId,type:"checkbox"}),t=v("<label>",{for:"autoscroll-transcript-checkbox-"+this.mediaId}).text(this.tt.autoScroll),this.$transcriptToolbar.append(t,this.$autoScrollTranscriptCheckbox),1<this.captions.length)for(e=v("<div>",{class:"transcript-language-select-wrapper"}),i=v("<label>",{for:"transcript-language-select-"+this.mediaId}).text(this.tt.language),this.$transcriptLanguageSelect=v("<select>",{id:"transcript-language-select-"+this.mediaId}),s=0;s<this.captions.length;s++)a=v("<option></option>",{value:this.captions[s].language,lang:this.captions[s].language}).text(this.captions[s].label),this.captions[s].def&&a.prop("selected",!0),this.$transcriptLanguageSelect.append(a);e&&(e.append(i,this.$transcriptLanguageSelect),this.$transcriptToolbar.append(e)),this.$transcriptArea.append(this.$transcriptToolbar,this.$transcriptDiv),(this.transcriptDivLocation?v("#"+this.transcriptDivLocation):this.$ableWrapper).append(this.$transcriptArea),this.transcriptDivLocation||(this.initDragDrop("transcript"),1===this.prefTranscript&&this.positionDraggableWindow("transcript",this.getDefaultWidth("transcript"))),this.prefTranscript||this.transcriptDivLocation||this.$transcriptArea.hide()},AblePlayer.prototype.addTranscriptAreaEvents=function(){var e=this;this.$autoScrollTranscriptCheckbox.click(function(){e.handleTranscriptLockToggle(e.$autoScrollTranscriptCheckbox.prop("checked"))}),this.$transcriptDiv.on("mousewheel DOMMouseScroll click scroll",function(t){e.scrollingTranscript||(e.autoScrollTranscript=!1,e.refreshControls("transcript")),e.scrollingTranscript=!1}),void 0!==this.$transcriptLanguageSelect&&(this.$transcriptLanguageSelect.on("click mousedown",function(t){t.stopPropagation()}),this.$transcriptLanguageSelect.on("change",function(){var t=e.$transcriptLanguageSelect.val();e.syncTrackLanguages("transcript",t)}))},AblePlayer.prototype.transcriptSrcHasRequiredParts=function(){return!!(v("#"+this.transcriptSrc).length&&(this.$transcriptArea=v("#"+this.transcriptSrc),this.$transcriptArea.find(".able-window-toolbar").length)&&(this.$transcriptToolbar=this.$transcriptArea.find(".able-window-toolbar").eq(0),this.$transcriptArea.find(".able-transcript").length)&&(this.$transcriptDiv=this.$transcriptArea.find(".able-transcript").eq(0),this.$transcriptArea.find(".able-transcript-seekpoint").length))&&(this.$transcriptSeekpoints=this.$transcriptArea.find(".able-transcript-seekpoint"),!0)},AblePlayer.prototype.setupManualTranscript=function(){var t=v("<input>",{id:"autoscroll-transcript-checkbox-"+this.mediaId,type:"checkbox"}),e=v("<label>",{for:"autoscroll-transcript-checkbox-"+this.mediaId}).text(this.tt.autoScroll);this.$autoScrollTranscriptCheckbox=t,this.$transcriptToolbar.append(e,this.$autoScrollTranscriptCheckbox)},AblePlayer.prototype.updateTranscript=function(){if(this.transcriptType&&(!this.playerCreated||this.$transcriptArea)){if("external"===this.transcriptType||"popup"===this.transcriptType){var t,e;if(this.transcriptLang?s=this.transcriptCaptions.cues:this.transcriptCaptions?(this.transcriptLang=this.transcriptCaptions.language,s=this.transcriptCaptions.cues):this.selectedCaptions&&(this.transcriptLang=this.captionLang,s=this.selectedCaptions.cues),this.transcriptChapters)t=this.transcriptChapters.cues;else if(0<this.chapters.length){if(this.transcriptLang)for(var i=0;i<this.chapters.length;i++)this.chapters[i].language===this.transcriptLang&&(t=this.chapters[i].cues);void 0===t&&(t=this.chapters[0].cues||[])}if(this.transcriptDescriptions)e=this.transcriptDescriptions.cues;else if(0<this.descriptions.length){if(this.transcriptLang)for(i=0;i<this.descriptions.length;i++)this.descriptions[i].language===this.transcriptLang&&(e=this.descriptions[i].cues);e=e||this.descriptions[0].cues||[]}var s=this.generateTranscript(t||[],s||[],e||[]);this.$transcriptDiv.html(s),this.$transcriptLanguageSelect&&(this.$transcriptLanguageSelect.find("option:selected").prop("selected",!1),this.$transcriptLanguageSelect.find("option[lang="+this.transcriptLang+"]").prop("selected",!0))}var a=this;1===this.prefTabbable&&this.$transcriptDiv.find("span.able-transcript-seekpoint").attr("tabindex","0"),0<this.$transcriptArea.length&&this.$transcriptArea.find("span.able-transcript-seekpoint").click(function(t){a.seekTrigger="transcript";var e=parseFloat(v(this).attr("data-start"));e+=.01,a.seekingFromTranscript?a.seekingFromTranscript=!1:(a.seekingFromTranscript=!0,a.seekTo(e))})}},AblePlayer.prototype.highlightTranscript=function(t){var e,i,s,a;this.transcriptType&&(a=this,t=parseFloat(t),this.$transcriptArea.find("span.able-transcript-seekpoint").each(function(){if(e=parseFloat(v(this).attr("data-start")),i=parseFloat(v(this).attr("data-end")),s=!!v(this).parent().hasClass("able-transcript-chapter-heading"),e<=t&&t<=i&&!s)return v(this).hasClass("able-highlight")||(a.$transcriptArea.find(".able-highlight").removeClass("able-highlight"),v(this).addClass("able-highlight"),a.movingHighlight=!0),!1}),a.currentHighlight=a.$transcriptArea.find(".able-highlight"),0===a.currentHighlight.length)&&(a.currentHighlight=null)},AblePlayer.prototype.generateTranscript=function(t,e,i){for(var s,l,a,n,h=this,r=v('<div class="able-transcript-container"></div>'),o=(r.attr("lang",this.transcriptLang),s=void 0!==this.transcriptTitle?this.transcriptTitle:this.lyricsMode?this.tt.lyricsTitle:this.tt.transcriptTitle,this.transcriptDivLocation||(f=this.playerHeadingLevel,l=(f+=1)+1,a=f<=6?"h"+f.toString():"div",(a=v("<"+a+">")).addClass("able-transcript-heading"),6<f&&a.attr({role:"heading","aria-level":f}),a.text(s),a.attr("lang",this.lang),r.append(a)),0),p=0,c=0,d=function(t,e){i=l<=6?"h"+l.toString():"div";for(var i=v("<"+i+">",{class:"able-transcript-chapter-heading"}),s=(6<l&&i.attr({role:"heading","aria-level":l}),function(t){var e=[];if("string"===t.type)e.push(t.value);else for(var i=0;i<t.children.length;i++)e=e.concat(s(t.children[i]));return e}),a=v("<span>",{class:"able-transcript-seekpoint"}),n=0;n<e.components.children.length;n++)for(var r=s(e.components.children[n]),o=0;o<r.length;o++)a.append(r[o]);a.attr("data-start",e.start.toString()),a.attr("data-end",e.end.toString()),i.append(a),t.append(i)},u=function(t,e){for(var i=v("<div>",{class:"able-transcript-desc"}),s=v("<span>",{class:"able-hidden"}),a=(s.attr("lang",h.lang),s.text(h.tt.prefHeadingDescription+": "),i.append(s),function(t){var e=[];if("string"===t.type)e.push(t.value);else for(var i=0;i<t.children.length;i++)e=e.concat(a(t.children[i]));return e}),n=v("<span>",{class:"able-transcript-seekpoint"}),r=0;r<e.components.children.length;r++)for(var o=a(e.components.children[r]),l=0;l<o.length;l++)n.append(o[l]);n.attr("data-start",e.start.toString()),n.attr("data-end",e.end.toString()),i.append(n),t.append(i)},g=function(t,e){for(var i=v("<span>",{class:"able-transcript-seekpoint able-transcript-caption"}),o=function(t){function c(t){d++;var e,i,s,a,n,r,o,l,h,p=[];return""!==t&&(i=t.indexOf("["),s=t.indexOf("]"),a=t.indexOf("("),n=t.indexOf(")"),r=-1!==i&&-1!==s,((o=-1!==a&&-1!==n)||r)&&(l=(1<d?"<br/>":"")+'<span class="able-unspoken">',h="</span>",o)&&r&&(i<a?o=!1:r=!1),o?(e=t.substring(0,a),e=(e=(e+=l)+t.substring(a,n+1)+h)+c(t.substring(n+1)),p.push(e)):r?(e=t.substring(0,i),e=(e=(e+=l)+t.substring(i,s+1)+h)+c(t.substring(s+1)),p.push(e)):p.push(t)),p}var e,i=[],d=0;if("string"===t.type)i=i.concat(c(t.value));else if("v"===t.type){var s=v("<span>",{class:"able-unspoken"});s.text("("+t.value+")"),i.push(s);for(var a=0;a<t.children.length;a++)for(var n=o(t.children[a]),r=0;r<n.length;r++)i.push(n[r])}else if("b"===t.type||"i"===t.type){"b"===t.type?e=v("<strong>"):"i"===t.type&&(e=v("<em>"));for(a=0;a<t.children.length;a++)for(n=o(t.children[a]),r=0;r<n.length;r++)e.append(n[r]);"b"!==t.type&&"i"!=t.type||i.push(e," ")}else for(a=0;a<t.children.length;a++)i=i.concat(o(t.children[a]));return i},s=0;s<e.components.children.length;s++)for(var a=o(e.components.children[s]),n=0;n<a.length;n++){var r=a[n];"string"==typeof r&&(h.lyricsMode?r=r.replace("\n","<br>")+"<br>":r+=" "),i.append(r)}i.attr("data-start",e.start.toString()),i.attr("data-end",e.end.toString()),t.append(i),t.append(" \n")};o<t.length||c<i.length||p<e.length;)null!==(n=o<t.length&&c<i.length&&p<e.length?Math.min(t[o].start,i[c].start,e[p].start):o<t.length&&c<i.length?Math.min(t[o].start,i[c].start):o<t.length&&p<e.length?Math.min(t[o].start,e[p].start):c<i.length&&p<e.length?Math.min(i[c].start,e[p].start):null)?void 0!==t[o]&&t[o].start===n?(d(r,t[o]),o+=1):void 0!==i[c]&&i[c].start===n?(u(r,i[c]),c+=1):(g(r,e[p]),p+=1):o<t.length?(d(r,t[o]),o+=1):c<i.length?(u(r,i[c]),c+=1):p<e.length&&(g(r,e[p]),p+=1);var f=r.children(),m=0;return f.each(function(){v(this).hasClass("able-transcript-caption")?(-1===v(this).text().indexOf("[")&&-1===v(this).text().indexOf("(")||0<m&&(r.find(".able-block-temp").removeClass("able-block-temp").wrapAll('<div class="able-transcript-block"></div>'),m=0),v(this).addClass("able-block-temp"),m++):0<m&&(r.find(".able-block-temp").removeClass("able-block-temp").wrapAll('<div class="able-transcript-block"></div>'),m=0)}),r}}(jQuery),function(d){AblePlayer.prototype.showSearchResults=function(){var i=this;if(this.searchDiv&&this.searchString&&d("#"+this.SearchDiv)){var t="<p>"+this.tt.resultsSummary1+" ",e=(t=t+('<span id="able-search-term-echo">'+this.searchString+"</span>")+"</p>",this.searchFor(this.searchString,this.searchIgnoreCaps));if(0<e.length){for(var s=d("<p>",{class:"able-search-results-summary"}),a=this.tt.resultsSummary2,n=(a=(a=(a+=" <strong>"+e.length+"</strong> ")+(this.tt.resultsSummary3+" "))+this.tt.resultsSummary4,s.html(a),d("<ul>")),r=0;r<e.length;r++){var o="aria-search-result-"+r,l=d("<li>",{}),h=this.secondsToTime(e[r].start),p=this.tt.searchButtonLabel+" "+h.title,p=d("<button>",{class:"able-search-results-time","data-start":e[r].start,title:p,"aria-label":p,"aria-describedby":o}),h=(p.text(h.value),p.on("click",function(t){i.seekTrigger="search";var e=parseFloat(d(this).attr("data-start"));e+=.01,i.seeking=!0,i.seekTo(e)}),d("<span>",{class:"able-search-result-text",id:o}));h.html("..."+e[r].caption+"..."),l.append(p,h),n.append(l)}d("#"+this.searchDiv).html(t).append(s,n)}else{a=d("<p>").text(this.tt.noResultsFound);d("#"+this.searchDiv).html(t).append(a)}}},AblePlayer.prototype.searchFor=function(t,e){var i,s,a,n,r=[],o=t.split(" ");if(0<this.captions.length){for(n=0;n<this.captions.length;n++)this.captions[n].language===this.searchLang&&(i=this.searchLang,s=this.captions[n].cues);if(0<s.length)for(n=a=0;n<s.length;n++)if(-1!==d.inArray(s[n].components.children[0].type,["string","i","b","u","v","c"]))for(var l=this.flattenCueForCaption(s[n]),h=e?l.toLowerCase():l,p=0;p<o.length;p++){var c=e?o[p].toLowerCase():o[p];if(-1!==h.indexOf(c)){r[a]=[],r[a].start=s[n].start,r[a].lang=i,r[a].caption=this.highlightSearchTerm(o,l),a++;break}}}return r},AblePlayer.prototype.highlightSearchTerm=function(t,e){return t.forEach(function(t){t=new RegExp(t,"gi");e=e.replace(t,'<span class="able-search-term">$&</span>')}),e},AblePlayer.prototype.secondsToTime=function(t){var t=Math.floor(t),e=parseInt(t/3600,10)%24,i=parseInt(t/60,10)%60,t=t%60,s="",a="",e=(0<e&&(s+=e+":",a+=1==e?"1 "+this.tt.hour+" ":e+" "+this.tt.hours+" "),i<10?(s+="0"+i+":",0<i&&(a+=1==i?"1 "+this.tt.minute+" ":i+" "+this.tt.minutes+" ")):(s+=i+":",a+=i+" "+this.tt.minutes+" "),t<10?(s+="0"+t,0<t&&(a+=1==t?"1 "+this.tt.second+" ":t+" "+this.tt.seconds+" ")):(s+=t,a+=t+" "+this.tt.seconds+" "),[]);return e.value=s,e.title=a,e}}(jQuery),function(s){AblePlayer.prototype.onMediaUpdateTime=function(t,e){var i=this;this.getMediaTimes(t,e).then(function(t){i.duration=t.duration,i.elapsed=t.elapsed,0<i.duration&&(1===i.prefHighlight&&i.highlightTranscript(i.elapsed),i.updateCaption(i.elapsed),i.showDescription(i.elapsed),i.updateChapter(i.elapsed),i.updateMeta(i.elapsed),i.refreshControls("timeline",i.duration,i.elapsed))})},AblePlayer.prototype.onMediaPause=function(){this.controlsHidden&&(this.fadeControls("in"),this.controlsHidden=!1),"active"===this.hideControlsTimeoutStatus&&(window.clearTimeout(this.hideControlsTimeout),this.hideControlsTimeoutStatus="clear"),this.refreshControls("playpause")},AblePlayer.prototype.onMediaComplete=function(){this.hasPlaylist&&!this.cueingPlaylistItem&&(this.playlistIndex===this.$playlist.length-1?this.loop?(this.playlistIndex=0,this.cueingPlaylistItem=!0,this.cuePlaylistItem(0)):(this.playing=!1,this.paused=!0):(this.playlistIndex++,this.cueingPlaylistItem=!0,this.cuePlaylistItem(this.playlistIndex))),this.refreshControls("init")},AblePlayer.prototype.onMediaNewSourceLoad=function(){var t=!1;this.cueingPlaylistItem&&(this.cueingPlaylistItem=!1),this.recreatingPlayer&&(this.recreatingPlayer=!1),this.playbackRate&&this.setPlaybackRate(this.playbackRate),this.userClickedPlaylist?this.startedPlaying&&!this.okToPlay||(this.playMedia(),t=!0):"restart"==this.seekTrigger||"chapter"==this.seekTrigger||"transcript"==this.seekTrigger||"search"==this.seekTrigger?(this.playMedia(),t=!0):this.swappingSrc?this.hasPlaylist?this.playlistIndex===this.$playlist.length&&!this.loop||(this.playMedia(),t=!0):0<this.swapTime?"complete"===this.seekStatus?(this.okToPlay&&this.playMedia(),t=!0):"seeking"!==this.seekStatus&&(this.swapTime===this.elapsed?(this.seekStatus="complete",this.okToPlay&&this.playMedia(),t=!0):!this.hasDescTracks&&this.durationsAreCloseEnough(this.duration,this.prevDuration)?(this.seekStatus="seeking",this.seekTo(this.swapTime)):t=!0):this.playing&&(this.playMedia(),t=!0):this.startedPlaying?this.hasPlaylist?this.playlistIndex===this.$playlist.length&&!this.loop||(this.playMedia(),t=!0):t=!0:0<this.startTime?this.seeking?(this.seeking=!1,this.okToPlay&&this.playMedia(),t=!0):this.seekTo(this.startTime):this.defaultChapter&&void 0!==this.selectedChapters?this.seekToChapter(this.defaultChapter):(this.okToPlay&&this.playMedia(),t=!0),t&&(this.swappingSrc=!1,this.seekStatus=null,this.swapTime=0,this.seekTrigger=null,this.seekingFromTranscript=!1,this.userClickedPlaylist=!1,this.okToPlay=!1),this.refreshControls("init"),this.$focusedElement&&(this.restoreFocus(),this.$focusedElement=null)},AblePlayer.prototype.durationsAreCloseEnough=function(t,e){return Math.abs(Math.round(t)-Math.round(e))<=1},AblePlayer.prototype.restoreFocus=function(){var t;this.$focusedElement&&"button"===this.$focusedElement.attr("role")&&(t=this.$focusedElement.attr("class").split(/\s+/),s.each(t,function(t,e){"able-button-handler-"===e.substring(0,20)&&s("div.able-controller div."+e).focus()}))},AblePlayer.prototype.addSeekbarListeners=function(){var i=this;this.seekBar.bodyDiv.on("startTracking",function(t){i.pausedBeforeTracking=i.paused,i.pauseMedia()}).on("tracking",function(t,e){i.highlightTranscript(e),i.updateCaption(e),i.showDescription(e),i.updateChapter(i.convertChapterTimeToVideoTime(e)),i.updateMeta(e),i.refreshControls("init")}).on("stopTracking",function(t,e){i.useChapterTimes?i.seekTo(i.convertChapterTimeToVideoTime(e)):i.seekTo(e),i.pausedBeforeTracking||setTimeout(function(){i.playMedia()},200)})},AblePlayer.prototype.onClickPlayerButton=function(t){var e=this.getButtonNameFromClass(s(t).attr("class"));"play"===e?(this.clickedPlay=!0,this.handlePlay()):"restart"===e?(this.seekTrigger="restart",this.handleRestart()):"previous"===e?(this.userClickedPlaylist=!0,this.okToPlay=!0,this.seekTrigger="previous",this.buttonWithFocus="previous",this.handlePrevTrack()):"next"===e?(this.userClickedPlaylist=!0,this.okToPlay=!0,this.seekTrigger="next",this.buttonWithFocus="next",this.handleNextTrack()):"rewind"===e?(this.seekTrigger="rewind",this.handleRewind()):"forward"===e?(this.seekTrigger="forward",this.handleFastForward()):"mute"===e?this.handleMute():"volume"===e?this.handleVolumeButtonClick():"faster"===e?this.handleRateIncrease():"slower"===e?this.handleRateDecrease():"captions"===e?this.handleCaptionToggle():"chapters"===e?this.handleChapters():"descriptions"===e?this.handleDescriptionToggle():"sign"===e?this.closingSign||this.handleSignToggle():"preferences"===e?"menu"===s(t).attr("data-prefs-popup")?this.handlePrefsClick():(this.showingPrefsDialog=!0,this.closePopups(),"keyboard"===(t=s(t).attr("data-prefs-popup"))?this.keyboardPrefsDialog.show():"captions"===t?this.captionPrefsDialog.show():"descriptions"===t?this.descPrefsDialog.show():"transcript"===t&&this.transcriptPrefsDialog.show(),this.showingPrefsDialog=!1):"help"===e?this.handleHelpClick():"transcript"===e?this.closingTranscript||this.handleTranscriptToggle():"fullscreen"===e&&(this.clickedFullscreenButton=!0,this.handleFullscreenToggle())},AblePlayer.prototype.getButtonNameFromClass=function(t){for(var e=t.split(" "),i=0;i<e.length;i++)if("able-button-handler-"===e[i].substring(0,20))return e[i].substring(20);return t},AblePlayer.prototype.okToHandleKeyPress=function(){var t=AblePlayer.getActiveDOMElement();return"INPUT"!==s(t).prop("tagName")},AblePlayer.prototype.onPlayerKeyPress=function(t){var e,i=t.which;return 65<=i&&i<=90&&(i+=32),e=s(document.activeElement),27===i&&this.$transcriptArea&&s.contains(this.$transcriptArea[0],e[0])&&!this.hidingPopup?(this.handleTranscriptToggle(),!1):!!this.okToHandleKeyPress()&&void(s(":focus").is("[contenteditable]")||s(":focus").is("input")||s(":focus").is("textarea")&&!this.stenoMode||s(":focus").is("select")||t.target.hasAttribute("contenteditable")||"INPUT"===t.target.tagName||"TEXTAREA"===t.target.tagName&&!this.stenoMode||"SELECT"===t.target.tagName||(27===i?(this.closePopups(),this.$tooltipDiv.hide(),this.seekBar.hideSliderTooltips()):32===i?"button"===e.attr("role")&&(t.preventDefault(),e.click()):112===i?this.usingModifierKeys(t)&&(t.preventDefault(),this.handlePlay()):115===i?this.usingModifierKeys(t)&&(t.preventDefault(),this.handleRestart()):109===i?this.usingModifierKeys(t)&&(t.preventDefault(),this.handleMute()):118===i?this.usingModifierKeys(t)&&(t.preventDefault(),this.handleVolumeButtonClick()):49<=i&&i<=57?this.usingModifierKeys(t)&&(t.preventDefault(),this.handleVolumeKeystroke(i)):99===i?this.usingModifierKeys(t)&&(t.preventDefault(),this.handleCaptionToggle()):100===i?this.usingModifierKeys(t)&&(t.preventDefault(),this.handleDescriptionToggle()):102===i?this.usingModifierKeys(t)&&(t.preventDefault(),this.handleFastForward()):114===i?this.usingModifierKeys(t)&&(t.preventDefault(),this.handleRewind()):98===i?this.usingModifierKeys(t)&&(t.preventDefault(),this.handlePrevTrack()):110===i?this.usingModifierKeys(t)&&(t.preventDefault(),this.handleNextTrack()):101===i?this.usingModifierKeys(t)&&(t.preventDefault(),this.handlePrefsClick()):13!==i||"button"!==e.attr("role")&&"SPAN"!==e.prop("tagName")&&"LI"!==e.prop("tagName")||e.click()))},AblePlayer.prototype.addHtml5MediaListeners=function(){var t=this;this.$media.on("emptied",function(){}).on("loadedmetadata",function(){t.duration=t.media.duration;Math.abs(Math.round(50.5)-Math.round(51.9))}).on("canplay",function(){}).on("canplaythrough",function(){t.onMediaNewSourceLoad()}).on("play",function(){t.refreshControls("playpause")}).on("playing",function(){t.playing=!0,t.paused=!1,t.swappingSrc=!1,t.refreshControls("playpause")}).on("ended",function(){t.playing=!1,t.paused=!0,t.onMediaComplete()}).on("progress",function(){t.refreshControls("timeline")}).on("waiting",function(){}).on("durationchange",function(){t.refreshControls("timeline")}).on("timeupdate",function(){t.onMediaUpdateTime()}).on("pause",function(){!t.clickedPlay&&(t.hasPlaylist||t.swappingSrc)||(t.playing=!1,t.paused=!0),t.clickedPlay=!1,t.onMediaPause()}).on("ratechange",function(){}).on("volumechange",function(){t.volume=t.getVolume()}).on("error",function(){t.debug&&t.media.error.code})},AblePlayer.prototype.addVimeoListeners=function(){var e=this;this.vimeoPlayer.on("loaded",function(t){e.onMediaNewSourceLoad()}),this.vimeoPlayer.on("play",function(t){e.playing=!0,e.startedPlaying=!0,e.paused=!1,e.refreshControls("playpause")}),this.vimeoPlayer.on("ended",function(t){e.playing=!1,e.paused=!0,e.onMediaComplete()}),this.vimeoPlayer.on("bufferstart",function(){}),this.vimeoPlayer.on("bufferend",function(){}),this.vimeoPlayer.on("progress",function(t){}),this.vimeoPlayer.on("seeking",function(t){}),this.vimeoPlayer.on("seeked",function(t){}),this.vimeoPlayer.on("timeupdate",function(t){e.onMediaUpdateTime(t.duration,t.seconds)}),this.vimeoPlayer.on("pause",function(t){!e.clickedPlay&&(e.hasPlaylist||e.swappingSrc)||(e.playing=!1,e.paused=!0),e.clickedPlay=!1,e.onMediaPause(),e.refreshControls("playpause")}),this.vimeoPlayer.on("playbackratechange",function(t){e.vimeoPlaybackRate=t.playbackRate}),this.vimeoPlayer.on("texttrackchange",function(t){}),this.vimeoPlayer.on("volumechange",function(t){e.volume=10*t.volume}),this.vimeoPlayer.on("error",function(t){})},AblePlayer.prototype.addEventListeners=function(){var t,e=this;s(window).on("resize",function(){e.resizePlayer()}),window.MutationObserver&&(t=this.$ableDiv[0],new MutationObserver(function(t){t.forEach(function(t){"attributes"===t.type&&"style"===t.attributeName&&e.$ableDiv.is(":visible")&&e.refreshControls("init")})}).observe(t,{attributes:!0,childList:!0,characterData:!0})),void 0!==this.seekBar?this.addSeekbarListeners():setTimeout(function(){void 0!==e.seekBar&&e.addSeekbarListeners()},2e3),this.$controllerDiv.find('div[role="button"]').on("click",function(t){t.stopPropagation(),e.onClickPlayerButton(this)}),s(document).on("click",function(t){if(0!==t.button)return!1;(s(".able-popup:visible").length||s(".able-volume-popup:visible"))&&e.closePopups(),"VIDEO"===t.target.tagName&&(e.clickedPlay=!0)}),this.$ableDiv.on("mousemove",function(){e.controlsHidden?(e.fadeControls("in"),e.controlsHidden=!1,"active"===e.hideControlsTimeoutStatus&&(window.clearTimeout(e.hideControlsTimeout),e.hideControlsTimeoutStatus="clear"),e.hideControls&&e.invokeHideControlsTimeout()):"active"===e.hideControlsTimeoutStatus&&(window.clearTimeout(e.hideControlsTimeout),e.hideControlsTimeoutStatus="clear",e.hideControls)&&e.invokeHideControlsTimeout()}),s(document).keydown(function(t){e.controlsHidden?(e.fadeControls("in"),e.controlsHidden=!1,"active"===e.hideControlsTimeoutStatus&&(window.clearTimeout(e.hideControlsTimeout),e.hideControlsTimeoutStatus="clear"),e.hideControls&&e.invokeHideControlsTimeout()):"active"===e.hideControlsTimeoutStatus&&(window.clearTimeout(e.hideControlsTimeout),e.hideControlsTimeoutStatus="clear",e.hideControls)&&e.invokeHideControlsTimeout()}),this.$ableDiv.keydown(function(t){1<AblePlayer.nextIndex&&e.onPlayerKeyPress(t)}),this.stenoMode&&void 0!==this.stenoFrameContents&&this.stenoFrameContents.on("keydown",function(t){e.onPlayerKeyPress(t)}),this.$transcriptArea&&this.$transcriptArea.on("keydown",function(t){1<AblePlayer.nextIndex&&e.onPlayerKeyPress(t)}),this.$playlist&&this.$playlist.click(function(t){e.userClickedPlaylist||(e.userClickedPlaylist=!0,e.playlistIndex=s(this).index(),e.cuePlaylistItem(e.playlistIndex))}),this.$media.click(function(){e.handlePlay()}),"html5"===this.player?this.addHtml5MediaListeners():"vimeo"===this.player?this.addVimeoListeners():"youtube"===this.player&&setInterval(function(){e.onMediaUpdateTime()},300)}}(jQuery),function(C){AblePlayer.prototype.initDragDrop=function(e){var i,t,s,a,n,r,o,l,h,p,c,d,u=this;for("transcript"===e?(i=this.$transcriptArea,s="transcript-window",t=this.$transcriptToolbar):"sign"===e&&(i=this.$signWindow,s="sign-window",t=this.$signToolbar),t.addClass("able-draggable"),a=C("<div>",{class:"able-resizable"}),n=C("<svg>").attr({width:"100%",height:"100%",viewBox:"0 0 100 100",preserveAspectRatio:"none"}),r=1;r<=3;r++)1===r?(h=l="0",p=o="100"):2===r?(h=l="100",p=o="33"):3===r&&(h=l="100",p=o="67"),c=C("<line>").attr({x1:o,y1:l,x2:h,y2:p,"vector-effect":"non-scaling-stroke"}),n.append(c);a.html(n),d=parseInt(i.css("z-index"))+100,a.css("z-index",d),i.append(a),a.html(a.html()),t.on("mousedown mouseup touchstart touchend",function(t){return t.stopPropagation(),"mousedown"===t.type||"touchstart"===t.type?u.windowMenuClickRegistered||(u.windowMenuClickRegistered=!0,u.startMouseX=t.pageX,u.startMouseY=t.pageY,u.dragDevice="mouse",u.startDrag(e,i)):"mouseup"!==t.type&&"touchend"!==t.type||u.dragging&&"mouse"===u.dragDevice&&u.endDrag(e),!1}),a.on("mousedown mouseup touchstart touchend",function(t){return t.stopPropagation(),"mousedown"===t.type||"touchstart"===t.type?u.windowMenuClickRegistered||(u.windowMenuClickRegistered=!0,u.startMouseX=t.pageX,u.startMouseY=t.pageY,u.startResize(e,i)):"mouseup"!==t.type&&"touchend"!==t.type||u.resizing&&u.endResize(e),!1}),i.on("click",function(){u.windowMenuClickRegistered||u.finishingDrag||u.updateZIndex(e),u.finishingDrag=!1}),this.addWindowMenu(e,i,s)},AblePlayer.prototype.addWindowMenu=function(e,t,i){var s,a,n,r,o=this;this.windowMenuClickRegistered=!1,this.finishingDrag=!1,(s=C('<div role="alert"></div>')).addClass("able-alert"),s.hide(),s.appendTo(this.$activeWindow),s.css({top:t.offset().top}),r=this.mediaId+"-"+i+"-menu",a=C("<button>",{type:"button",tabindex:"0","aria-label":this.tt.windowButtonLabel,"aria-haspopup":"true","aria-controls":r,"aria-expanded":"false",class:"able-button-handler-preferences"}),"font"===this.iconType?(r=C("<span>",{class:"icon-preferences","aria-hidden":"true"}),a.append(r)):(r=this.rootPath+"button-icons/"+this.toolbarIconColor+"/preferences.png",r=C("<img>",{src:r,alt:"",role:"presentation"}),a.append(r)),r=C("<span>",{class:"able-clipped"}).text(this.tt.windowButtonLabel),a.append(r),n=this.mediaId+"-"+i+"-tooltip",r=C("<div>",{class:"able-tooltip",id:n}).hide(),a.on("mouseenter focus",function(t){var e=C(this).attr("aria-label"),i=C(this).position(),s=C(this).height(),i=(C(this).width(),{left:"",right:"0px",top:i.top-s-5+"px"}),s=AblePlayer.localGetElementById(a[0],n).text(e).css(i);o.showTooltip(s),C(this).on("mouseleave blur",function(){AblePlayer.localGetElementById(a[0],n).text("").hide()})}),i=this.setupPopups(i),"transcript"===e?(this.$transcriptAlert=s,this.$transcriptPopupButton=a,this.$transcriptPopup=i,this.$transcriptToolbar.prepend(s,a,r,i)):"sign"===e&&(this.$signAlert=s,this.$signPopupButton=a,this.$signPopup=i,this.$signToolbar.append(s,a,r,i)),a.on("click mousedown keydown",function(t){return!o.focusNotClick&&(o.dragging?(o.dragKeys(e,t),!1):(t.stopPropagation(),o.windowMenuClickRegistered||o.finishingDrag||o.handleWindowButtonClick(e,t),void(o.finishingDrag=!1)))}),this.addResizeDialog(e,t)},AblePlayer.prototype.addResizeDialog=function(t,e){var i,s,a,n,r,o,l,h,p,c,d,u,g,f,m,v,y,b,P,k,T=this;"transcript"===t?(i=this.$transcriptPopup,s=this.$transcriptPopupButton):"sign"===t&&(i=this.$signPopup,s=this.$signPopupButton),a=this.mediaId+"-resize-"+t+"-width",n=this.mediaId+"-resize-"+t+"-height",r=e.width(),o=e.height(),l=r/o,e=C("<div></div>",{class:"able-resize-form"}),h=C("<div></div>"),p=C("<div></div>"),c=C("<input>",{type:"text",id:a,value:r}),d=C("<label>",{for:a}).text(this.tt.width),u=C("<div></div>"),g=C("<input>",{type:"text",id:n,value:o}),f=C("<label>",{for:n}).text(this.tt.height),"sign"===t&&(g.prop("readonly",!0),c.on("input",function(){m=C(this).val(),m=Math.round(m/l,0),g.val(m)})),v=C('<button class="modal-button">'+this.tt.save+"</button>"),y=C('<button class="modal-button">'+this.tt.cancel+"</button>"),v.on("click",function(){b=C("#"+a).val(),P=C("#"+n).val(),b===r&&P===o||(T.resizeObject(t,b,P),T.updateCookie(t)),k.hide(),i.hide(),s.focus()}),y.on("click",function(){k.hide(),i.hide(),s.focus()}),p.append(d,c),u.append(f,g),h.append(p,u),e.append(h,"<hr>",v,y),C("body").append(e),k=new AccessibleDialog(e,s,"dialog",!0,this.tt.windowResizeHeading,h,this.tt.closeButtonLabel,"20em"),"transcript"===t?this.transcriptResizeDialog=k:"sign"===t&&(this.signResizeDialog=k)},AblePlayer.prototype.handleWindowButtonClick=function(t,e){var i,s,a=this;if(this.focusNotClick)return!1;if("transcript"===t?(i=this.$transcriptPopup,s=this.$transcriptPopupButton,this.$transcriptToolbar):"sign"===t&&(i=this.$signPopup,s=this.$signPopupButton,this.$signToolbar),"keydown"===e.type)if(32===e.which||13===e.which)this.windowMenuClickRegistered=!0;else{if(27!==e.which)return!1;i.is(":visible")?i.hide("fast",function(){a.windowMenuClickRegistered=!1,i.find("li").removeClass("able-focus").attr("tabindex","-1"),s.focus()}):"sign"===t?this.handleSignToggle():"transcript"===t&&this.handleTranscriptToggle()}else this.windowMenuClickRegistered=!0;i.is(":visible")?(i.hide(200,"",function(){a.windowMenuClickRegistered=!1}),i.find("li").removeClass("able-focus"),s.attr("aria-expanded","false").focus()):(this.updateZIndex(t),e=s.position().top+s.outerHeight(),i.css("top",e),i.show(200,"",function(){s.attr("aria-expanded","true"),C(this).find("li").first().focus().addClass("able-focus"),a.windowMenuClickRegistered=!1}))},AblePlayer.prototype.handleMenuChoice=function(t,e,i){var s,a,n,r,o=this;if("transcript"===t?(s=this.$transcriptArea,a=this.$transcriptPopup,n=this.$transcriptPopupButton,r=this.transcriptResizeDialog):"sign"===t&&(s=this.$signWindow,a=this.$signPopup,n=this.$signPopupButton,r=this.signResizeDialog),this.$activeWindow=s,"keydown"===i.type)return 27===i.which?a.hide("fast",function(){o.windowMenuClickRegistered=!1,a.find("li").removeClass("able-focus").attr("tabindex","-1"),n.attr("aria-expanded","false"),n.focus()}):"close"!==e&&(this.$activeWindow=s),!1;a.hide("fast",function(){o.windowMenuClickRegistered=!1,a.find("li").removeClass("able-focus").attr("tabindex","-1"),n.attr("aria-expanded","false")}),"close"!==e&&n.focus(),"move"===e?(this.$activeWindow.attr("role","application"),this.showedAlert(t)||(this.showAlert(this.tt.windowMoveAlert,t),"transcript"===t?this.showedTranscriptAlert=!0:"sign"===t&&(this.showedSignAlert=!0)),"keydown"===i.type?this.dragDevice="keyboard":this.dragDevice="mouse",this.startDrag(t,s),a.hide().parent().focus()):"resize"==e?((i=r.getInputs())&&(i[0].value=s.width(),i[1].value=s.height()),r.show()):"close"==e&&("transcript"===t?(this.closingTranscript=!0,this.handleTranscriptToggle()):"sign"===t&&(this.closingSign=!0,this.handleSignToggle()))},AblePlayer.prototype.startDrag=function(e,t){var i,s,a,n=this;return this.$activeWindow||(this.$activeWindow=t),this.dragging=!0,"transcript"===e?i=this.$transcriptPopup:"sign"===e&&(i=this.$signPopup),this.showedAlert(e)||(this.showAlert(this.tt.windowMoveAlert,e),"transcript"===e?this.showedTranscriptAlert=!0:"sign"===e&&(this.showedSignAlert=!0)),i.is(":visible")&&i.hide(),this.updateZIndex(e),t=this.$activeWindow.position(),this.dragStartX=t.left,this.dragStartY=t.top,void 0===this.startMouseX?(this.dragDevice="keyboard",this.dragKeyX=this.dragStartX,this.dragKeyY=this.dragStartY,this.startingDrag=!0):(this.dragDevice="mouse",this.dragOffsetX=this.startMouseX-this.dragStartX,this.dragOffsetY=this.startMouseY-this.dragStartY),this.$activeWindow.addClass("able-drag").css({position:"absolute",top:this.dragStartY+"px",left:this.dragStartX+"px"}).focus(),"mouse"===this.dragDevice?C(document).on("mousemove touchmove",function(t){n.dragging&&(s=t.pageX-n.dragOffsetX,a=t.pageY-n.dragOffsetY,n.resetDraggedObject(s,a))}):"keyboard"===this.dragDevice&&this.$activeWindow.on("keydown",function(t){n.dragging&&n.dragKeys(e,t)}),!1},AblePlayer.prototype.dragKeys=function(t,e){if(this.startingDrag)return this.startingDrag=!1;switch(e.which){case 37:case 63234:this.dragKeyX-=10;break;case 38:case 63232:this.dragKeyY-=10;break;case 39:case 63235:this.dragKeyX+=10;break;case 40:case 63233:this.dragKeyY+=10;break;case 13:case 27:return this.endDrag(t),!1;default:return!1}return this.resetDraggedObject(this.dragKeyX,this.dragKeyY),e.preventDefault&&e.preventDefault(),!1},AblePlayer.prototype.resetDraggedObject=function(t,e){this.$activeWindow.css({left:t+"px",top:e+"px"})},AblePlayer.prototype.resizeObject=function(t,e,i){this.$activeWindow.css({width:e+"px",height:i+"px"}),"transcript"===t&&this.$transcriptDiv.css("height",i-50+"px")},AblePlayer.prototype.endDrag=function(t){var e,i=this;"transcript"===t?(this.$transcriptPopup,e=this.$transcriptPopupButton):"sign"===t&&(this.$signPopup,e=this.$signPopupButton),C(document).off("mousemove mouseup touchmove touchup"),this.$activeWindow.off("keydown").removeClass("able-drag"),this.$activeWindow.attr("role","dialog"),this.$activeWindow=null,"keyboard"===this.dragDevice&&e.focus(),this.dragging=!1,this.updateCookie(t),this.startMouseX=void 0,this.startMouseY=void 0,this.windowMenuClickRegistered=!1,this.finishingDrag=!0,setTimeout(function(){i.finishingDrag=!1},100)},AblePlayer.prototype.isCloseToCorner=function(t,e,i){var s=t.offset(),a=s.top,s=s.left,n=t.width(),t=t.height(),s=s+n;return Math.abs(a+t-i)<=10&&Math.abs(s-e)<=10},AblePlayer.prototype.startResize=function(e,t){var i,s,a,n=this;return this.$activeWindow=t,this.resizing=!0,"transcript"===e?i=this.$transcriptPopup:"sign"===e&&(i=this.$signPopup),i.is(":visible")&&i.hide().parent().focus(),this.$activeWindow.position(),this.dragKeyX=this.dragStartX,this.dragKeyY=this.dragStartY,this.dragStartWidth=this.$activeWindow.width(),this.dragStartHeight=this.$activeWindow.height(),C(document).on("mousemove touchmove",function(t){n.resizing&&(s=n.dragStartWidth+(t.pageX-n.startMouseX),a=n.dragStartHeight+(t.pageY-n.startMouseY),n.resizeObject(e,s,a))}),!1},AblePlayer.prototype.endResize=function(t){var e;"transcript"===t?(this.$transcriptPopup,e=this.$transcriptPopupButton):"sign"===t&&(this.$signPopup,e=this.$signPopupButton),C(document).off("mousemove mouseup touchmove touchup"),this.$activeWindow.off("keydown"),e.show().focus(),this.resizing=!1,this.$activeWindow.removeClass("able-resize"),this.updateCookie(t),this.windowMenuClickRegistered=!1,this.finishingDrag=!0,setTimeout(function(){this.finishingDrag=!1},100)}}(jQuery),function(a){AblePlayer.prototype.initSignLanguage=function(){"html5"===this.player&&(this.signFile=this.$sources.first().attr("data-sign-src"),this.signFile)?this.isIOS()?(this.hasSignLanguage=!1,this.debug):(this.debug,this.hasSignLanguage=!0,this.injectSignPlayerCode()):this.hasSignLanguage=!1},AblePlayer.prototype.injectSignPlayerCode=function(){this.getDefaultWidth("sign");var t,e,i,s=this.mediaId+"-sign";for(this.$signVideo=a("<video>",{id:s,tabindex:"-1"}),this.signVideo=this.$signVideo[0],t=0;t<this.$sources.length;t++){if(i=this.$sources[t].getAttribute("data-sign-src"),e=this.$sources[t].getAttribute("type"),!i){this.hasSignLanguage=!1;break}i=a("<source>",{src:i,type:e}),this.$signVideo.append(i)}this.$signWindow=a("<div>",{class:"able-sign-window",role:"dialog","aria-label":this.tt.sign}),this.$signToolbar=a("<div>",{class:"able-window-toolbar able-"+this.toolbarIconColor+"-controls"}),this.$signWindow.append(this.$signToolbar,this.$signVideo),this.$ableWrapper.append(this.$signWindow),this.initDragDrop("sign"),1===this.prefSign?this.positionDraggableWindow("sign",this.getDefaultWidth("sign")):this.$signWindow.hide()}}(jQuery),function(){var n={ab:{name:"Abkhaz",nativeName:"аҧсуа"},aa:{name:"Afar",nativeName:"Afaraf"},af:{name:"Afrikaans",nativeName:"Afrikaans"},ak:{name:"Akan",nativeName:"Akan"},sq:{name:"Albanian",nativeName:"Shqip"},am:{name:"Amharic",nativeName:"አማርኛ"},ar:{name:"Arabic",nativeName:"العربية"},an:{name:"Aragonese",nativeName:"Aragonés"},hy:{name:"Armenian",nativeName:"Հայերեն"},as:{name:"Assamese",nativeName:"অসমীয়া"},av:{name:"Avaric",nativeName:"авар мацӀ, магӀарул мацӀ"},ae:{name:"Avestan",nativeName:"avesta"},ay:{name:"Aymara",nativeName:"aymar aru"},az:{name:"Azerbaijani",nativeName:"azərbaycan dili"},bm:{name:"Bambara",nativeName:"bamanankan"},ba:{name:"Bashkir",nativeName:"башҡорт теле"},eu:{name:"Basque",nativeName:"euskara, euskera"},be:{name:"Belarusian",nativeName:"Беларуская"},bn:{name:"Bengali",nativeName:"বাংলা"},bh:{name:"Bihari",nativeName:"भोजपुरी"},bi:{name:"Bislama",nativeName:"Bislama"},bs:{name:"Bosnian",nativeName:"bosanski jezik"},br:{name:"Breton",nativeName:"brezhoneg"},bg:{name:"Bulgarian",nativeName:"български език"},my:{name:"Burmese",nativeName:"ဗမာစာ"},ca:{name:"Catalan",nativeName:"Català"},ch:{name:"Chamorro",nativeName:"Chamoru"},ce:{name:"Chechen",nativeName:"нохчийн мотт"},ny:{name:"Chichewa",nativeName:"chiCheŵa, chinyanja"},zh:{name:"Chinese",nativeName:"中文 (Zhōngwén), 汉语, 漢語"},cv:{name:"Chuvash",nativeName:"чӑваш чӗлхи"},kw:{name:"Cornish",nativeName:"Kernewek"},co:{name:"Corsican",nativeName:"corsu, lingua corsa"},cr:{name:"Cree",nativeName:"ᓀᐦᐃᔭᐍᐏᐣ"},hr:{name:"Croatian",nativeName:"hrvatski"},cs:{name:"Czech",nativeName:"česky, čeština"},da:{name:"Danish",nativeName:"dansk"},dv:{name:"Divehi",nativeName:"ދިވެހި"},nl:{name:"Dutch",nativeName:"Nederlands, Vlaams"},en:{name:"English",nativeName:"English"},eo:{name:"Esperanto",nativeName:"Esperanto"},et:{name:"Estonian",nativeName:"eesti, eesti keel"},ee:{name:"Ewe",nativeName:"Eʋegbe"},fo:{name:"Faroese",nativeName:"føroyskt"},fj:{name:"Fijian",nativeName:"vosa Vakaviti"},fi:{name:"Finnish",nativeName:"suomi, suomen kieli"},fr:{name:"French",nativeName:"français, langue française"},ff:{name:"Fula",nativeName:"Fulfulde, Pulaar, Pular"},gl:{name:"Galician",nativeName:"Galego"},ka:{name:"Georgian",nativeName:"ქართული"},de:{name:"German",nativeName:"Deutsch"},el:{name:"Greek",nativeName:"Ελληνικά"},gn:{name:"Guaraní",nativeName:"Avañeẽ"},gu:{name:"Gujarati",nativeName:"ગુજરાતી"},ht:{name:"Haitian",nativeName:"Kreyòl ayisyen"},ha:{name:"Hausa",nativeName:"Hausa, هَوُسَ"},he:{name:"Hebrew",nativeName:"עברית"},hz:{name:"Herero",nativeName:"Otjiherero"},hi:{name:"Hindi",nativeName:"हिन्दी, हिंदी"},ho:{name:"Hiri Motu",nativeName:"Hiri Motu"},hu:{name:"Hungarian",nativeName:"Magyar"},ia:{name:"Interlingua",nativeName:"Interlingua"},id:{name:"Indonesian",nativeName:"Bahasa Indonesia"},ie:{name:"Interlingue",nativeName:"Originally called Occidental; then Interlingue after WWII"},ga:{name:"Irish",nativeName:"Gaeilge"},ig:{name:"Igbo",nativeName:"Asụsụ Igbo"},ik:{name:"Inupiaq",nativeName:"Iñupiaq, Iñupiatun"},io:{name:"Ido",nativeName:"Ido"},is:{name:"Icelandic",nativeName:"Íslenska"},it:{name:"Italian",nativeName:"Italiano"},iu:{name:"Inuktitut",nativeName:"ᐃᓄᒃᑎᑐᑦ"},ja:{name:"Japanese",nativeName:"日本語 (にほんご／にっぽんご)"},jv:{name:"Javanese",nativeName:"basa Jawa"},kl:{name:"Kalaallisut",nativeName:"kalaallisut, kalaallit oqaasii"},kn:{name:"Kannada",nativeName:"ಕನ್ನಡ"},kr:{name:"Kanuri",nativeName:"Kanuri"},ks:{name:"Kashmiri",nativeName:"कश्मीरी, كشميري‎"},kk:{name:"Kazakh",nativeName:"Қазақ тілі"},km:{name:"Khmer",nativeName:"ភាសាខ្មែរ"},ki:{name:"Kikuyu",nativeName:"Gĩkũyũ"},rw:{name:"Kinyarwanda",nativeName:"Ikinyarwanda"},ky:{name:"Kyrgyz",nativeName:"кыргыз тили"},kv:{name:"Komi",nativeName:"коми кыв"},kg:{name:"Kongo",nativeName:"KiKongo"},ko:{name:"Korean",nativeName:"한국어 (韓國語), 조선말 (朝鮮語)"},ku:{name:"Kurdish",nativeName:"Kurdî, كوردی‎"},kj:{name:"Kuanyama",nativeName:"Kuanyama"},la:{name:"Latin",nativeName:"latine, lingua latina"},lb:{name:"Luxembourgish",nativeName:"Lëtzebuergesch"},lg:{name:"Luganda",nativeName:"Luganda"},li:{name:"Limburgish",nativeName:"Limburgs"},ln:{name:"Lingala",nativeName:"Lingála"},lo:{name:"Lao",nativeName:"ພາສາລາວ"},lt:{name:"Lithuanian",nativeName:"lietuvių kalba"},lu:{name:"Luba-Katanga",nativeName:""},lv:{name:"Latvian",nativeName:"latviešu valoda"},gv:{name:"Manx",nativeName:"Gaelg, Gailck"},mk:{name:"Macedonian",nativeName:"македонски јазик"},mg:{name:"Malagasy",nativeName:"Malagasy fiteny"},ms:{name:"Malay",nativeName:"bahasa Melayu, بهاس ملايو‎"},ml:{name:"Malayalam",nativeName:"മലയാളം"},mt:{name:"Maltese",nativeName:"Malti"},mi:{name:"Māori",nativeName:"te reo Māori"},mr:{name:"Marathi",nativeName:"मराठी"},mh:{name:"Marshallese",nativeName:"Kajin M̧ajeļ"},mn:{name:"Mongolian",nativeName:"монгол"},na:{name:"Nauru",nativeName:"Ekakairũ Naoero"},nv:{name:"Navajo",nativeName:"Diné bizaad, Dinékʼehǰí"},nb:{name:"Norwegian Bokmål",nativeName:"Norsk bokmål"},nd:{name:"North Ndebele",nativeName:"isiNdebele"},ne:{name:"Nepali",nativeName:"नेपाली"},ng:{name:"Ndonga",nativeName:"Owambo"},nn:{name:"Norwegian Nynorsk",nativeName:"Norsk nynorsk"},no:{name:"Norwegian",nativeName:"Norsk"},ii:{name:"Nuosu",nativeName:"ꆈꌠ꒿ Nuosuhxop"},nr:{name:"South Ndebele",nativeName:"isiNdebele"},oc:{name:"Occitan",nativeName:"Occitan"},oj:{name:"Ojibwe",nativeName:"ᐊᓂᔑᓈᐯᒧᐎᓐ"},cu:{name:"Church Slavonic",nativeName:"ѩзыкъ словѣньскъ"},om:{name:"Oromo",nativeName:"Afaan Oromoo"},or:{name:"Oriya",nativeName:"ଓଡ଼ିଆ"},os:{name:"Ossetian",nativeName:"ирон æвзаг"},pa:{name:"Punjabi",nativeName:"ਪੰਜਾਬੀ, پنجابی‎"},pi:{name:"Pāli",nativeName:"पाऴि"},fa:{name:"Persian",nativeName:"فارسی"},pl:{name:"Polish",nativeName:"polski"},ps:{name:"Pashto",nativeName:"پښتو"},pt:{name:"Portuguese",nativeName:"Português"},qu:{name:"Quechua",nativeName:"Runa Simi, Kichwa"},rm:{name:"Romansh",nativeName:"rumantsch grischun"},rn:{name:"Kirundi",nativeName:"kiRundi"},ro:{name:"Romanian",nativeName:"română"},ru:{name:"Russian",nativeName:"русский язык"},sa:{name:"Sanskrit",nativeName:"संस्कृतम्"},sc:{name:"Sardinian",nativeName:"sardu"},sd:{name:"Sindhi",nativeName:"सिन्धी, سنڌي، سندھی‎"},se:{name:"Northern Sami",nativeName:"Davvisámegiella"},sm:{name:"Samoan",nativeName:"gagana faa Samoa"},sg:{name:"Sango",nativeName:"yângâ tî sängö"},sr:{name:"Serbian",nativeName:"српски језик"},gd:{name:"Gaelic",nativeName:"Gàidhlig"},sn:{name:"Shona",nativeName:"chiShona"},si:{name:"Sinhalese",nativeName:"සිංහල"},sk:{name:"Slovak",nativeName:"slovenčina"},sl:{name:"Slovene",nativeName:"slovenščina"},so:{name:"Somali",nativeName:"Soomaaliga, af Soomaali"},st:{name:"Southern Sotho",nativeName:"Sesotho"},es:{name:"Spanish",nativeName:"español, castellano"},su:{name:"Sundanese",nativeName:"Basa Sunda"},sw:{name:"Swahili",nativeName:"Kiswahili"},ss:{name:"Swati",nativeName:"SiSwati"},sv:{name:"Swedish",nativeName:"svenska"},ta:{name:"Tamil",nativeName:"தமிழ்"},te:{name:"Telugu",nativeName:"తెలుగు"},tg:{name:"Tajik",nativeName:"тоҷикӣ, toğikī, تاجیکی‎"},th:{name:"Thai",nativeName:"ไทย"},ti:{name:"Tigrinya",nativeName:"ትግርኛ"},bo:{name:"Tibetan",nativeName:"བོད་ཡིག"},tk:{name:"Turkmen",nativeName:"Türkmen, Түркмен"},tl:{name:"Tagalog",nativeName:"Wikang Tagalog, ᜏᜒᜃᜅ᜔ ᜆᜄᜎᜓᜄ᜔"},tn:{name:"Tswana",nativeName:"Setswana"},to:{name:"Tonga",nativeName:"faka Tonga"},tr:{name:"Turkish",nativeName:"Türkçe"},ts:{name:"Tsonga",nativeName:"Xitsonga"},tt:{name:"Tatar",nativeName:"татарча, tatarça, تاتارچا‎"},tw:{name:"Twi",nativeName:"Twi"},ty:{name:"Tahitian",nativeName:"Reo Tahiti"},ug:{name:"Uyghur",nativeName:"Uyƣurqə, ئۇيغۇرچە‎"},uk:{name:"Ukrainian",nativeName:"українська"},ur:{name:"Urdu",nativeName:"اردو"},uz:{name:"Uzbek",nativeName:"zbek, Ўзбек, أۇزبېك‎"},ve:{name:"Venda",nativeName:"Tshivenḓa"},vi:{name:"Vietnamese",nativeName:"Tiếng Việt"},vo:{name:"Volapük",nativeName:"Volapük"},wa:{name:"Walloon",nativeName:"Walon"},cy:{name:"Welsh",nativeName:"Cymraeg"},wo:{name:"Wolof",nativeName:"Wollof"},fy:{name:"Western Frisian",nativeName:"Frysk"},xh:{name:"Xhosa",nativeName:"isiXhosa"},yi:{name:"Yiddish",nativeName:"ייִדיש"},yo:{name:"Yoruba",nativeName:"Yorùbá"},za:{name:"Zhuang",nativeName:"Saɯ cueŋƅ, Saw cuengh"},"ar-dz":{name:"Arabic (Algeria)",nativeName:"العربية (الجزائر)"},"ar-bh":{name:"Arabic (Bahrain)",nativeName:"العربية (البحرين)"},"ar-eg":{name:"Arabic (Egypt)",nativeName:"العربية (مصر)"},"ar-iq":{name:"Arabic (Iraq)",nativeName:"العربية (العراق)"},"ar-jo":{name:"Arabic (Jordan)",nativeName:"العربية (الأردن)"},"ar-kw":{name:"Arabic (Kuwait)",nativeName:"العربية (الكويت)"},"ar-lb":{name:"Arabic (Lebanon)",nativeName:"العربية (لبنان)"},"ar-ly":{name:"Arabic (Libya)",nativeName:"العربية (ليبيا)"},"ar-ma":{name:"Arabic (Morocco)",nativeName:"العربية (المملكة المغربية)"},"ar-om":{name:"Arabic (Oman)",nativeName:"العربية (عمان)"},"ar-qa":{name:"Arabic (Qatar)",nativeName:"العربية (قطر)"},"ar-sa":{name:"Arabic (Saudi Arabia)",nativeName:"العربية (المملكة العربية السعودية)"},"ar-sy":{name:"Arabic (Syria)",nativeName:"العربية (سوريا)"},"ar-tn":{name:"Arabic (Tunisia)",nativeName:"العربية (تونس)"},"ar-ae":{name:"Arabic (U.A.E.)",nativeName:"العربية (الإمارات العربية المتحدة)"},"ar-ye":{name:"Arabic (Yemen)",nativeName:"العربية (اليمن)"},"de-at":{name:"German (Austria)",nativeName:"Deutsch (Österreich)"},"de-li":{name:"German (Liechtenstein)",nativeName:"Deutsch (Liechtenstein)"},"de-lu":{name:"German (Luxembourg)",nativeName:"Deutsch (Luxemburg)"},"de-ch":{name:"German (Switzerland)",nativeName:"Deutsch (Schweiz)"},"en-au":{name:"English (Australia)",nativeName:"English (Australia)"},"en-bz":{name:"English (Belize)",nativeName:"English (Belize)"},"en-ca":{name:"English (Canada)",nativeName:"English (Canada)"},"en-ie":{name:"English (Ireland)",nativeName:"English (Ireland)"},"en-jm":{name:"English (Jamaica)",nativeName:"English (Jamaica)"},"en-nz":{name:"English (New Zealand)",nativeName:""},"en-za":{name:"English (South Africa)",nativeName:"English (South Africa)"},"en-tt":{name:"English (Trinidad)",nativeName:"English (Trinidad y Tobago)"},"en-gb":{name:"English (United Kingdom)",nativeName:"English (United Kingdom)"},"en-us":{name:"English (United States)",nativeName:"English (United States)"},"es-ar":{name:"Spanish (Argentina)",nativeName:"Español (Argentina)"},"es-bo":{name:"Spanish (Bolivia)",nativeName:"Español (Bolivia)"},"es-cl":{name:"Spanish (Chile)",nativeName:"Español (Chile)"},"es-co":{name:"Spanish (Colombia)",nativeName:"Español (Colombia)"},"es-cr":{name:"Spanish (Costa Rica)",nativeName:"Español (Costa Rica)"},"es-do":{name:"Spanish (Dominican Republic)",nativeName:"Español (República Dominicana)"},"es-ec":{name:"Spanish (Ecuador)",nativeName:"Español (Ecuador)"},"es-sv":{name:"Spanish (El Salvador)",nativeName:"Español (El Salvador)"},"es-gt":{name:"Spanish (Guatemala)",nativeName:"Español (Guatemala)"},"es-hn":{name:"Spanish (Honduras)",nativeName:"Español (Honduras)"},"es-mx":{name:"Spanish (Mexico)",nativeName:"Español (México)"},"es-ni":{name:"Spanish (Nicaragua)",nativeName:"Español (Nicaragua)"},"es-pa":{name:"Spanish (Panama)",nativeName:"Español (Panamá)"},"es-py":{name:"Spanish (Paraguay)",nativeName:"Español (Paraguay)"},"es-pe":{name:"Spanish (Peru)",nativeName:"Español (Perú)"},"es-pr":{name:"Spanish (Puerto Rico)",nativeName:"Español (Puerto Rico)"},"es-uy":{name:"Spanish (Uruguay)",nativeName:"Español (Uruguay)"},"es-ve":{name:"Spanish (Venezuela)",nativeName:"Español (Venezuela)"},"fr-be":{name:"French (Belgium)",nativeName:"français (Belgique)"},"fr-ca":{name:"French (Canada)",nativeName:"français (Canada)"},"fr-lu":{name:"French (Luxembourg)",nativeName:"français (Luxembourg)"},"fr-ch":{name:"French (Switzerland)",nativeName:"français (Suisse)"},"it-ch":{name:"Italian (Switzerland)",nativeName:"italiano (Svizzera)"},"nl-be":{name:"Dutch (Belgium)",nativeName:"Nederlands (België)"},"pt-br":{name:"Portuguese (Brazil)",nativeName:"Português (Brasil)"},"sv-fi":{name:"Swedish (Finland)",nativeName:"svenska (Finland)"},"zh-hk":{name:"Chinese (Hong Kong)",nativeName:"中文(香港特别行政區)"},"zh-cn":{name:"Chinese (PRC)",nativeName:"中文(中华人民共和国)"},"zh-sg":{name:"Chinese (Singapore)",nativeName:"中文(新加坡)"},"zh-tw":{name:"Chinese Traditional (Taiwan)",nativeName:"中文（台灣）"}};AblePlayer.prototype.getLanguageName=function(t,e){var i,s,a=n[t.toLowerCase()];return a?"local"===e?a.nativeName:a.name:t.includes("-")&&(i=t.substring(0,2),s=t.substring(3),a=n[i.toLowerCase()])?"local"===e?a.nativeName+" ("+s+")":a.name+" ("+s+")":t}}(jQuery),function(r){AblePlayer.prototype.getSupportedLangs=function(){return["ca","cs","da","de","en","es","fr","he","id","it","ja","nb","nl","pt","pt-br","sv","tr","zh-tw"]},AblePlayer.prototype.getTranslationText=function(){var t,e,i,s=r.Deferred(),a=this,n=this.getSupportedLangs();if(this.lang&&-1===r.inArray(this.lang,n))if(2==this.lang.indexOf("-"))-1!==r.inArray(this.lang.substring(0,2),n)?this.lang=this.lang.substring(0,2):this.lang=null;else{for(i=!1,e=0;e<n.length;)n[e].substring(0,2)==this.lang&&(this.lang=n[e],i=!0),e++;i||(this.lang=null)}return this.lang||(t=r("body").attr("lang")?r("body").attr("lang").toLowerCase():r("html").attr("lang")?r("html").attr("lang").toLowerCase():null)&&(-1!==r.inArray(t,n)?this.lang=t:2==t.indexOf("-")&&-1!==r.inArray(t.substring(0,2),n)&&(this.lang=t.substring(0,2))),this.lang||(this.lang="en"),this.searchLang||(this.searchLang=this.lang),t=this.rootPath+"translations/"+this.lang+".js",r.getJSON(t,function(t){a.tt=t,s.resolve()}).fail(function(){a.provideFallback(),s.fail()}),s.promise()},AblePlayer.prototype.getSampleDescriptionText=function(){var t,e,i,s=this.getSupportedLangs(),a=this;for(this.sampleText=[],t=0;t<s.length;t++)e=this.rootPath+"translations/"+s[t]+".js",r.getJSON(e,void 0,function(e){return function(t){i=t.sampleDescriptionText,i={lang:e,text:i},a.sampleText.push(i)}}(s[t]))}}(jQuery),jQuery,AblePlayer.prototype.computeEndTime=function(t,e){var t=t.split(":").reverse().map(function(t){return parseFloat(t)}),s=e.split(":").reverse().map(function(t){return parseFloat(t)});return t.reduce(function(t,e,i){e+=s[i];return 0===i&&(60<e&&(s[i+1]+=1,e-=60),e=e.toFixed(3)),1===i&&60<e&&(s[i+1]+=1,e-=60),t.push(e=e<10?"0"+e:e),t},[]).reverse().join(":")},AblePlayer.prototype.ttml2webvtt=function(t){var n=this,t=n.convert.xml2json(t,{ignoreComment:!0,alwaysChildren:!0,compact:!0,spaces:2});return JSON.parse(t).tt.body.div.p.reduce(function(t,e,i){var s=e._text,a=Array.isArray(s),e=e._attributes;n.computeEndTime(e.begin,e.dur);return t+(n.computeEndTime(e.begin,"00:00:0")+" --\x3e "+n.computeEndTime(e.begin,e.dur)+"\n"+(a?s.join("\n"):s)+"\n\n")},"WEBVTT\n\n\n")},function(a){a.doWhen=function(s){return a.Deferred(function(t){function e(){!0===i.when()?(i.exec.call(t.promise()),t.resolve()):i.checkId=setInterval(function(){0===i.attempts?(clearInterval(i.checkId),t.reject()):(--i.attempts,!0===i.when()&&(i.attempts=0,clearInterval(i.checkId),i.exec.call(t.promise()),t.resolve()))},i.interval)}var i=a.extend({},{when:null,exec:function(){},interval:100,attempts:100,delayed:0},s,{checkId:null});0<i.delayed?setTimeout(e,Number(i.delayed)):e()}).promise()}}(jQuery),function(y){AblePlayer.prototype.injectVTS=function(){var t,e,i,s,a,n,r,o,l,h,p,c,d,u,g,f,m,v=this;if(y("#able-vts").length&&this.vtsTracks.length){for(m in this.langs=[],this.getAllLangs(this.vtsTracks),this.vtsLang=this.lang,t=y("<h2>").text("Video Transcript Sorter"),y("#able-vts").append(t),this.$vtsAlert=y("<div>",{id:"able-vts-alert","aria-live":"polite","aria-atomic":"true"}),y("#able-vts").append(this.$vtsAlert),t=y("<div>",{id:"able-vts-instructions"}),e=y("<p>").text("Use the Video Transcript Sorter to perform any of the following tasks:"),s=y("<ul>"),r=y("<li>").text("Reorder chapters, descriptions, captions, and/or subtitles so they appear in the proper sequence in Able Player's auto-generated transcript."),p=y("<li>").text("Modify content or start/end times (all are directly editable within the table)."),a=y("<li>").text("Insert new content, such as chapters or descriptions."),i=y("<p>").text('When finished editing, click the "Save Changes" button. This will auto-generate new content for all relevant timed text files (chapters, descriptions, captions, and/or subtitles), which can be copied and pasted into separate WebVTT files for use by Able Player.'),s.append(r,p,a),t.append(e,s,i),y("#able-vts").append(t),n=y("<fieldset>"),r=y("<legend>").text("Select a language"),n.append(r),this.langs)l="vts-lang-radio-"+this.langs[m],o=y("<div>",{}),h=y("<input>",{type:"radio",name:"vts-lang",id:l,value:this.langs[m]}).on("click",function(){v.vtsLang=y(this).val(),v.showVtsAlert("Loading "+v.getLanguageName(v.vtsLang)+" tracks"),v.injectVtsTable("update",v.vtsLang)}),this.langs[m]==this.lang&&h.prop("checked",!0),l=y("<label>",{for:l}).text(this.getLanguageName(this.langs[m])),o.append(h,l),n.append(o);y("#able-vts").append(n),p=y("<button>",{type:"button",id:"able-vts-save",value:"save"}).text("Save Changes"),y("#able-vts").append(p),this.injectVtsTable("add",this.vtsLang),d=["captions","chapters","descriptions","subtitles"],y('td[contenteditable="true"]').on("focus",function(){u=y(this).text()}).on("blur",function(){u!=y(this).text()&&(g=y(this).index(),f=y(this).text(),1===g?-1===y.inArray(f,d)&&("s"===f.substring(0,1)?y(this).text("subtitles"):"d"===f.substring(0,1)?y(this).text("descriptions"):"ch"===f.substring(0,2)?y(this).text("chapters"):y(this).text("captions")):2!==g&&3!==g||y(this).text(v.formatTimestamp(f)))}).on("keydown",function(t){t.stopPropagation()}),y("#able-vts-save").on("click",function(t){t.stopPropagation(),"save"==y(this).attr("value")?(y(this).attr("value","cancel").text("Return to Editor"),c=y("#able-vts table"),y("#able-vts-instructions").hide(),y("#able-vts > fieldset").hide(),y("#able-vts table").remove(),y("#able-vts-icon-credit").remove(),v.parseVtsOutput(c)):(y(this).attr("value","save").text("Save Changes"),y("#able-vts-output").remove(),y("#able-vts-instructions").show(),y("#able-vts > fieldset").show(),y("#able-vts").append(c),y("#able-vts").append(v.getIconCredit()),v.showVtsAlert("Cancelling saving. Any edits you made have been restored in the VTS table."))})}},AblePlayer.prototype.setupVtsTracks=function(t,e,i,s,a,n){a=this.getFilenameFromPath(a),n=this.parseVtsTracks(n);this.vtsTracks.push({kind:t,language:e,label:s,srcFile:a,cues:n})},AblePlayer.prototype.getFilenameFromPath=function(t){var e=t.lastIndexOf("/");return-1===e?t:t.substring(e+1)},AblePlayer.prototype.getFilenameFromTracks=function(t,e){for(var i=0;i<this.vtsTracks.length;i++)if(this.vtsTracks[i].kind===t&&this.vtsTracks[i].language===e)return this.vtsTracks[i].srcFile;return!1},AblePlayer.prototype.parseVtsTracks=function(t){for(var e,i,s,a,n,r=t.split("\n"),o=[],l=0;l<r.length;)if(-1!==(i=r[l]).indexOf(" --\x3e ")){if(i=i.trim().split(" "),this.isValidTimestamp(i[0])&&this.isValidTimestamp(i[2])){for(a="",e=l+1,n=!1;e<r.length&&!n;)0<(s=r[e].trim()).length?0<a.length?a+="\n"+s:a+=s:n=!0,e++;o.push({start:i[0],end:i[2],content:a}),l=e}}else l++;return o},AblePlayer.prototype.isValidTimestamp=function(t){return!!/^[0-9:,.]*$/.test(t)},AblePlayer.prototype.formatTimestamp=function(t){var e=t.substring(0,t.lastIndexOf(".")+1),i=t.substring(t.lastIndexOf(".")+1);if(3<i.length)i=i.substring(0,3);else if(i.length<3)for(;i.length<3;)i+="0";return e+i},AblePlayer.prototype.injectVtsTable=function(t,e){var i,s,a,n,r,o,l,h;for("update"===t&&(y("#able-vts table").remove(),y("#able-vts-icon-credit").remove()),i=y("<table>",{lang:e}),n=y("<tr>",{lang:"en"}),s=["Row #","Kind","Start","End","Content","Actions"],a=0;a<s.length;a++)r=y("<th>",{scope:"col"}).text(s[a]),"Actions"===s[a]&&r.addClass("actions"),n.append(r);for(i.append(n),l=this.getAllRows(e),a=0;a<l.length;a++)n=y("<tr>",{id:"able-vts-row-"+(h=a+1),class:"kind-"+l[a].kind}),o=y("<td>").text(h),n.append(o),o=y("<td>",{contenteditable:"true"}).text(l[a].kind),n.append(o),o=y("<td>",{contenteditable:"true"}).text(l[a].start),n.append(o),o=y("<td>",{contenteditable:"true"}).text(l[a].end),n.append(o),o=y("<td>",{contenteditable:"true"}).text(l[a].content),n.append(o),o=this.addVtsActionButtons(h,l.length),n.append(o),i.append(n);y("#able-vts").append(i),y("#able-vts").append(this.getIconCredit())},AblePlayer.prototype.addVtsActionButtons=function(t,e){for(var i,s,a,n,r,o=this,l=y("<td>"),h=["up","down","insert","delete"],p=0;p<h.length;p++)"up"===(r=h[p])?1<t&&(i=y("<button>",{id:"able-vts-button-up-"+t,title:"Move up","aria-label":"Move Row "+t+" up"}).on("click",function(t){o.onClickVtsActionButton(t.currentTarget)}),s=y("<svg>",{focusable:"false","aria-hidden":"true",x:"0px",y:"0px",width:"254.296px",height:"254.296px",viewBox:"0 0 254.296 254.296",style:"enable-background:new 0 0 254.296 254.296"}),n=y("<path>",{d:"M249.628,176.101L138.421,52.88c-6.198-6.929-16.241-6.929-22.407,0l-0.381,0.636L4.648,176.101c-6.198,6.897-6.198,18.052,0,24.981l0.191,0.159c2.892,3.305,6.865,5.371,11.346,5.371h221.937c4.577,0,8.613-2.161,11.41-5.594l0.064,0.064C255.857,194.153,255.857,182.998,249.628,176.101z"}),a=y("<g>").append(n),s.append(a),i.append(s),i.html(i.html()),l.append(i)):"down"===r?t<e&&(i=y("<button>",{id:"able-vts-button-down-"+t,title:"Move down","aria-label":"Move Row "+t+" down"}).on("click",function(t){o.onClickVtsActionButton(t.currentTarget)}),s=y("<svg>",{focusable:"false","aria-hidden":"true",x:"0px",y:"0px",width:"292.362px",height:"292.362px",viewBox:"0 0 292.362 292.362",style:"enable-background:new 0 0 292.362 292.362"}),n=y("<path>",{d:"M286.935,69.377c-3.614-3.617-7.898-5.424-12.848-5.424H18.274c-4.952,0-9.233,1.807-12.85,5.424C1.807,72.998,0,77.279,0,82.228c0,4.948,1.807,9.229,5.424,12.847l127.907,127.907c3.621,3.617,7.902,5.428,12.85,5.428s9.233-1.811,12.847-5.428L286.935,95.074c3.613-3.617,5.427-7.898,5.427-12.847C292.362,77.279,290.548,72.998,286.935,69.377z"}),a=y("<g>").append(n),s.append(a),i.append(s),i.html(i.html()),l.append(i)):"insert"===r?(i=y("<button>",{id:"able-vts-button-insert-"+t,title:"Insert row below","aria-label":"Insert row before Row "+t}).on("click",function(t){o.onClickVtsActionButton(t.currentTarget)}),s=y("<svg>",{focusable:"false","aria-hidden":"true",x:"0px",y:"0px",width:"401.994px",height:"401.994px",viewBox:"0 0 401.994 401.994",style:"enable-background:new 0 0 401.994 401.994"}),n=y("<path>",{d:"M394,154.175c-5.331-5.33-11.806-7.994-19.417-7.994H255.811V27.406c0-7.611-2.666-14.084-7.994-19.414C242.488,2.666,236.02,0,228.398,0h-54.812c-7.612,0-14.084,2.663-19.414,7.993c-5.33,5.33-7.994,11.803-7.994,19.414v118.775H27.407c-7.611,0-14.084,2.664-19.414,7.994S0,165.973,0,173.589v54.819c0,7.618,2.662,14.086,7.992,19.411c5.33,5.332,11.803,7.994,19.414,7.994h118.771V374.59c0,7.611,2.664,14.089,7.994,19.417c5.33,5.325,11.802,7.987,19.414,7.987h54.816c7.617,0,14.086-2.662,19.417-7.987c5.332-5.331,7.994-11.806,7.994-19.417V255.813h118.77c7.618,0,14.089-2.662,19.417-7.994c5.329-5.325,7.994-11.793,7.994-19.411v-54.819C401.991,165.973,399.332,159.502,394,154.175z"}),a=y("<g>").append(n),s.append(a),i.append(s),i.html(i.html()),l.append(i)):"delete"===r&&(i=y("<button>",{id:"able-vts-button-delete-"+t,title:"Delete row ","aria-label":"Delete Row "+t}).on("click",function(t){o.onClickVtsActionButton(t.currentTarget)}),s=y("<svg>",{focusable:"false","aria-hidden":"true",x:"0px",y:"0px",width:"508.52px",height:"508.52px",viewBox:"0 0 508.52 508.52",style:"enable-background:new 0 0 508.52 508.52"}),n=y("<path>",{d:"M397.281,31.782h-63.565C333.716,14.239,319.478,0,301.934,0h-95.347c-17.544,0-31.782,14.239-31.782,31.782h-63.565c-17.544,0-31.782,14.239-31.782,31.782h349.607C429.063,46.021,414.825,31.782,397.281,31.782z"}),r=y("<path>",{d:"M79.456,476.737c0,17.544,14.239,31.782,31.782,31.782h286.042c17.544,0,31.782-14.239,31.782-31.782V95.347H79.456V476.737z M333.716,174.804c0-8.772,7.151-15.891,15.891-15.891c8.74,0,15.891,7.119,15.891,15.891v254.26c0,8.74-7.151,15.891-15.891,15.891c-8.74,0-15.891-7.151-15.891-15.891V174.804zM238.369,174.804c0-8.772,7.119-15.891,15.891-15.891c8.74,0,15.891,7.119,15.891,15.891v254.26c0,8.74-7.151,15.891-15.891,15.891c-8.772,0-15.891-7.151-15.891-15.891V174.804z M143.021,174.804c0-8.772,7.119-15.891,15.891-15.891c8.772,0,15.891,7.119,15.891,15.891v254.26c0,8.74-7.119,15.891-15.891,15.891c-8.772,0-15.891-7.151-15.891-15.891V174.804z"}),a=y("<g>").append(n,r),s.append(a),i.append(s),i.html(i.html()),l.append(i));return l},AblePlayer.prototype.updateVtsActionButtons=function(t,e){for(var i,s,a,n=0;n<t.length;n++)s=(i=t.eq(n)).attr("id"),a=i.attr("aria-label"),s=s.replace(/[0-9]+/g,e),a=a.replace(/[0-9]+/g,e),i.attr("id",s),i.attr("aria-label",a)},AblePlayer.prototype.getIconCredit=function(){return'<div id="able-vts-icon-credit">Action buttons made by <a href="https://www.flaticon.com/authors/elegant-themes">Elegant Themes</a> from <a href="https://www.flaticon.com/" title="Flaticon">www.flaticon.com</a> are licensed by <a href="http://creativecommons.org/licenses/by/3.0/" title="Creative Commons BY 3.0" target="_blank">CC 3.0 BY</a></div>'},AblePlayer.prototype.getAllLangs=function(t){for(var e in t)t[e].hasOwnProperty("language")&&-1===y.inArray(t[e].language,this.langs)&&(this.langs[this.langs.length]=t[e].language)},AblePlayer.prototype.getAllRows=function(t){for(var e,i,s=[],a=0;a<this.vtsTracks.length;a++)if((e=this.vtsTracks[a]).language==t)for(i in e.cues)s.push({kind:e.kind,lang:t,id:e.cues[i].id,start:e.cues[i].start,end:e.cues[i].end,content:e.cues[i].content});return s.sort(function(t,e){return t.start>e.start?1:-1}),s},AblePlayer.prototype.onClickVtsActionButton=function(t){var t=y(t).attr("id").split("-"),e=t[3],t=t[4];"up"==e?this.moveRow(t,"up"):"down"==e?this.moveRow(t,"down"):"insert"==e?this.insertRow(t):"delete"==e&&this.deleteRow(t)},AblePlayer.prototype.insertRow=function(t){var e,i,s,a,n,r,o,l,h,p=y("#able-vts table"),c=p.find("tr"),d=c.length-1,u=parseInt(t)+1,g=y("<tr>",{id:"able-vts-row-"+u}),f=y("<td>").text(u);for(g.append(f),e=y("<select>",{id:"able-vts-kind-"+u,"aria-label":"What kind of track is this?",placeholder:"Select a kind"}).on("change",function(){a=y(this).val(),n="kind-"+a,r=y(this).closest("tr"),y(this).parent().text(a),r.addClass(n)}),i=["","captions","chapters","descriptions","subtitles"],o=0;o<i.length;o++)s=y("<option>",{value:i[o]}).text(i[o]),e.append(s);for(f=y("<td>").append(e),g.append(f),f=y("<td>",{contenteditable:"true"}),g.append(f),f=y("<td>",{contenteditable:"true"}),g.append(f),f=y("<td>",{contenteditable:"true"}),g.append(f),f=this.addVtsActionButtons(u,d),g.append(f),p.find("tr").eq(t).after(g),o=u;o<=d;o++)l=o+1,c.eq(o).attr("id","able-vts-row-"+l),c.eq(o).find("td").eq(0).text(l),h=c.eq(o).find("button"),this.updateVtsActionButtons(h,l);this.adjustTimes(u),this.showVtsAlert("A new row "+u+" has been inserted"),e.focus()},AblePlayer.prototype.deleteRow=function(t){var e,i,s,a,n,r=y("#able-vts table");for(r[0].deleteRow(t),i=(e=r.find("tr")).length-1,s=t;s<=i;s++)a=s,e.eq(s).attr("id","able-vts-row-"+a),e.eq(s).find("td").eq(0).text(a),n=e.eq(s).find("button"),this.updateVtsActionButtons(n,a);this.showVtsAlert("Row "+t+" has been deleted")},AblePlayer.prototype.moveRow=function(t,e){y("#able-vts table").find("tr");var i,s,a=y("#able-vts table").find("tr").eq(t);"up"==e?(i=parseInt(t)-1,(s=y("#able-vts table").find("tr").eq(i)).before(a)):"down"==e&&(i=parseInt(t)+1,(s=y("#able-vts table").find("tr").eq(i)).after(a)),a.attr("id","able-vts-row-"+i),a.find("td").eq(0).text(i),this.updateVtsActionButtons(a.find("button"),i),s.attr("id","able-vts-row-"+t),s.find("td").eq(0).text(t),this.updateVtsActionButtons(s.find("button"),t),this.adjustTimes(i),a="Row "+t+" has been moved "+e,this.showVtsAlert(a+=" and is now Row "+i)},AblePlayer.prototype.adjustTimes=function(t){var e,i,s,a,n,r,o,l,h,p,c,d,u=[];u.captions=.001,u.descriptions=.001,u.chapters=.001,a=(e=(d=y("#able-vts table").find("tr")).eq(t)).is('[class^="kind-"]')?this.getKindFromClass(e.attr("class")):"captions",o=this.getSecondsFromColonTime(e.find("td").eq(2).text()),p=this.getSecondsFromColonTime(e.find("td").eq(3).text()),c=1<t?(n=(i=d.eq(t-1)).is('[class^="kind-"]')?this.getKindFromClass(i.attr("class")):null,l=this.getSecondsFromColonTime(i.find("td").eq(2).text()),this.getSecondsFromColonTime(i.find("td").eq(3).text())):l=n=i=null,d=t<d.length-1?(r=(s=d.eq(t+1)).is('[class^="kind-"]')?this.getKindFromClass(s.attr("class")):null,h=this.getSecondsFromColonTime(s.find("td").eq(2).text()),this.getSecondsFromColonTime(s.find("td").eq(3).text())):h=r=s=null,isNaN(o)?(null==n&&(n="captions",i.attr("class","kind-captions"),i.find("td").eq(1).html("captions")),"captions"===n?(o=(parseFloat(c)+.001).toFixed(3),p=(h?parseFloat(h)-.001:parseFloat(o)+u[a]).toFixed(3)):"chapters"===n?(o=(parseFloat(l)+.001).toFixed(3),p=(h?parseFloat(h)-.001:parseFloat(o)+minDurartion[a]).toFixed(3)):"descriptions"===n&&(o=(parseFloat(l)+u.descriptions).toFixed(3),p=(parseFloat(o)+u.descriptions).toFixed(3))):!l||l<o?o<h||(h=(parseFloat(o)+u[a]).toFixed(3),d=(parseFloat(h)+u[r]).toFixed(3)):(o=(parseFloat(l)+u[n]).toFixed(3),p=(parseFloat(o)+u[a]).toFixed(3)),p-o<u[a]&&(p=(parseFloat(o)+u[a]).toFixed(3),h=h&&(parseFloat(p)+.001).toFixed(3)),e.find("td").eq(2).text(this.formatSecondsAsColonTime(o,!0)),e.find("td").eq(3).text(this.formatSecondsAsColonTime(p,!0)),i&&(i.find("td").eq(2).text(this.formatSecondsAsColonTime(l,!0)),i.find("td").eq(3).text(this.formatSecondsAsColonTime(c,!0))),s&&(s.find("td").eq(2).text(this.formatSecondsAsColonTime(h,!0)),s.find("td").eq(3).text(this.formatSecondsAsColonTime(d,!0)))},AblePlayer.prototype.getKindFromClass=function(t){var e=t.indexOf("kind-")+5,i=t.indexOf(" ",e);return-1==i?t.substring(e):t.substring(e,i)},AblePlayer.prototype.showVtsAlert=function(t){this.$vtsAlert.text(t).show().delay(3e3).fadeOut("slow")},AblePlayer.prototype.parseVtsOutput=function(t){for(var e,i,s,a,n,r=t.attr("lang"),o=["captions","chapters","descriptions","subtitles"],l={},h=0;h<o.length;h++)l[e=o[h]]="WEBVTT\n\n";if(0<(i=t.find("tr")).length)for(h=0;h<i.length;h++)e=i.eq(h).find("td").eq(1).text(),-1!==y.inArray(e,o)&&(s=i.eq(h).find("td").eq(2).text(),a=i.eq(h).find("td").eq(3).text(),n=i.eq(h).find("td").eq(4).text(),void 0!==s)&&void 0!==a&&(l[e]+=s+" --\x3e "+a+"\n","undefined"!==n&&(l[e]+=n),l[e]+="\n\n");for(t=y("<div>",{id:"able-vts-output"}),y("#able-vts").append(t),h=0;h<o.length;h++)8<l[e=o[h]].length&&this.showWebVttOutput(e,l[e],r)},AblePlayer.prototype.showWebVttOutput=function(t,e,i){var s=y("<h3>").text(t.charAt(0).toUpperCase()+t.slice(1)),a=this.getFilenameFromTracks(t,i),n="If you made changes, copy/paste the following content ";a?n=n+("to replace the original content of your "+this.getLanguageName(i))+" <em>"+t+"</em> WebVTT file (<strong>"+a+"</strong>).":n+="into a new "+this.getLanguageName(i)+" <em>"+t+"</em> WebVTT file.",a=y("<p>",{class:"able-vts-output-instructions"}).html(n),i=y("<textarea>").text(e),y("#able-vts-output").append(s,a,i)}}(jQuery),function(n){AblePlayer.prototype.initVimeoPlayer=function(){var t,i=this,e=new n.Deferred,s=e.promise(),a=this.mediaId+"_vimeo";return this.$mediaContainer.prepend(n("<div>").attr("id",a)),t=this.vimeoDescId&&this.prefDesc?this.vimeoDescId:this.vimeoId,this.activeVimeoId=t,this.okToPlay,t=this.playerWidth?this.vimeoUrlHasParams?{url:t,width:this.playerWidth,controls:!1}:{id:t,width:this.playerWidth,controls:!1}:this.vimeoUrlHasParams?{url:t,controls:!1}:{id:t,controls:!1},this.vimeoPlayer=new Vimeo.Player(a,t),this.vimeoPlayer.ready().then(function(){n("#"+a).children("iframe").attr({tabindex:"-1","aria-hidden":!0}),i.vimeoPlayer.getVideoWidth().then(function(e){e&&i.vimeoPlayer.getVideoHeight().then(function(t){t&&i.resizePlayer(e,t)})}).catch(function(t){}),i.hasPlaylist||(i.$media.remove(),i.vimeoPlaybackRate=1,i.vimeoPlayer.setPlaybackRate(i.vimeoPlaybackRate).then(function(t){i.vimeoSupportsPlaybackRateChange=!0}).catch(function(t){i.vimeoSupportsPlaybackRateChange=!1}),e.resolve())}),s},AblePlayer.prototype.getVimeoPaused=function(){var e=new n.Deferred,t=e.promise();return this.vimeoPlayer.getPaused().then(function(t){e.resolve(t)}),t},AblePlayer.prototype.getVimeoEnded=function(){var e=new n.Deferred,t=e.promise();return this.vimeoPlayer.getEnded().then(function(t){e.resolve(t)}),t},AblePlayer.prototype.getVimeoState=function(){var e=new n.Deferred,t=e.promise(),i=[],s=this.vimeoPlayer.getPaused(),a=this.vimeoPlayer.getEnded();return i.push(s),i.push(a),s.then(function(t){e.resolve(t)}),a.then(function(t){e.resolve(t)}),n.when.apply(n,i).then(function(){e.resolve()}),t},AblePlayer.prototype.getVimeoCaptionTracks=function(){var e,i,s=new n.Deferred,t=s.promise(),a=this;return this.vimeoPlayer.getTextTracks().then(function(t){if(t.length){for(e=0;e<t.length;e++)a.hasCaptions=!0,1===a.prefCaptions?a.captionsOn=!0:a.captionsOn=!1,i=t[e].language===a.lang,a.tracks.push({kind:t[e].kind,language:t[e].language,label:t[e].label,def:i});a.captions=a.tracks,a.hasCaptions=!0,a.setupPopups("captions")}else a.hasCaptions=!1,a.usingVimeoCaptions=!1;s.resolve()}),t},AblePlayer.prototype.getVimeoPosterUrl=function(t,e){var i="https://img.youtube.com/vi/"+youTubeId;return"120"==e?i+"/default.jpg":"320"==e||"480"==e?i+"/hqdefault.jpg":"640"==e&&i+"/sddefault.jpg"},AblePlayer.prototype.getVimeoId=function(t){var e;return this.vimeoUrlHasParams=!1,"number"!=typeof t&&-1!==t.indexOf("vimeo.com")?-1!==t.indexOf("?")?(this.vimeoUrlHasParams=!0,t):(e=(t=t.trim()).lastIndexOf("/")+1,t.substring(e)):t}}(jQuery);